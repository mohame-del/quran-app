function i4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tk={exports:{}},rm={},Ak={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=Symbol.for("react.element"),o4=Symbol.for("react.portal"),a4=Symbol.for("react.fragment"),s4=Symbol.for("react.strict_mode"),l4=Symbol.for("react.profiler"),u4=Symbol.for("react.provider"),c4=Symbol.for("react.context"),f4=Symbol.for("react.forward_ref"),d4=Symbol.for("react.suspense"),h4=Symbol.for("react.memo"),p4=Symbol.for("react.lazy"),fE=Symbol.iterator;function m4(t){return t===null||typeof t!="object"?null:(t=fE&&t[fE]||t["@@iterator"],typeof t=="function"?t:null)}var Pk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ik=Object.assign,Ok={};function vl(t,e,n){this.props=t,this.context=e,this.refs=Ok,this.updater=n||Pk}vl.prototype.isReactComponent={};vl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kk(){}kk.prototype=vl.prototype;function p_(t,e,n){this.props=t,this.context=e,this.refs=Ok,this.updater=n||Pk}var m_=p_.prototype=new kk;m_.constructor=p_;Ik(m_,vl.prototype);m_.isPureReactComponent=!0;var dE=Array.isArray,Ck=Object.prototype.hasOwnProperty,g_={current:null},Nk={key:!0,ref:!0,__self:!0,__source:!0};function Rk(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Ck.call(e,r)&&!Nk.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:lf,type:t,key:o,ref:a,props:i,_owner:g_.current}}function g4(t,e){return{$$typeof:lf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function y_(t){return typeof t=="object"&&t!==null&&t.$$typeof===lf}function y4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hE=/\/+/g;function ty(t,e){return typeof t=="object"&&t!==null&&t.key!=null?y4(""+t.key):e.toString(36)}function Fd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case lf:case o4:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+ty(a,0):r,dE(i)?(n="",t!=null&&(n=t.replace(hE,"$&/")+"/"),Fd(i,e,n,"",function(u){return u})):i!=null&&(y_(i)&&(i=g4(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(hE,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",dE(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+ty(o,s);a+=Fd(o,e,n,l,i)}else if(l=m4(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+ty(o,s++),a+=Fd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function nd(t,e,n){if(t==null)return t;var r=[],i=0;return Fd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function v4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},Ud={transition:null},b4={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Ud,ReactCurrentOwner:g_};function jk(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:nd,forEach:function(t,e,n){nd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nd(t,function(){e++}),e},toArray:function(t){return nd(t,function(e){return e})||[]},only:function(t){if(!y_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=vl;be.Fragment=a4;be.Profiler=l4;be.PureComponent=p_;be.StrictMode=s4;be.Suspense=d4;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b4;be.act=jk;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ik({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=g_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Ck.call(e,l)&&!Nk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:lf,type:t.type,key:i,ref:o,props:r,_owner:a}};be.createContext=function(t){return t={$$typeof:c4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:u4,_context:t},t.Consumer=t};be.createElement=Rk;be.createFactory=function(t){var e=Rk.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:f4,render:t}};be.isValidElement=y_;be.lazy=function(t){return{$$typeof:p4,_payload:{_status:-1,_result:t},_init:v4}};be.memo=function(t,e){return{$$typeof:h4,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Ud.transition;Ud.transition={};try{t()}finally{Ud.transition=e}};be.unstable_act=jk;be.useCallback=function(t,e){return un.current.useCallback(t,e)};be.useContext=function(t){return un.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return un.current.useDeferredValue(t)};be.useEffect=function(t,e){return un.current.useEffect(t,e)};be.useId=function(){return un.current.useId()};be.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return un.current.useMemo(t,e)};be.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};be.useRef=function(t){return un.current.useRef(t)};be.useState=function(t){return un.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return un.current.useTransition()};be.version="18.3.1";Ak.exports=be;var M=Ak.exports;const D=$e(M),_4=i4({__proto__:null,default:D},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4=M,x4=Symbol.for("react.element"),E4=Symbol.for("react.fragment"),S4=Object.prototype.hasOwnProperty,T4=w4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A4={key:!0,ref:!0,__self:!0,__source:!0};function Mk(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)S4.call(e,r)&&!A4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:x4,type:t,key:o,ref:a,props:i,_owner:T4.current}}rm.Fragment=E4;rm.jsx=Mk;rm.jsxs=Mk;Tk.exports=rm;var E=Tk.exports,Dk={exports:{}},$n={},$k={exports:{}},Lk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var H=L.length;L.push(B);e:for(;0<H;){var J=H-1>>>1,X=L[J];if(0<i(X,B))L[J]=B,L[H]=X,H=J;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],H=L.pop();if(H!==B){L[0]=H;e:for(var J=0,X=L.length,te=X>>>1;J<te;){var me=2*(J+1)-1,Pe=L[me],Ke=me+1,Tt=L[Ke];if(0>i(Pe,H))Ke<X&&0>i(Tt,Pe)?(L[J]=Tt,L[Ke]=H,J=Ke):(L[J]=Pe,L[me]=H,J=me);else if(Ke<X&&0>i(Tt,H))L[J]=Tt,L[Ke]=H,J=Ke;else break e}}return B}function i(L,B){var H=L.sortIndex-B.sortIndex;return H!==0?H:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=L)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function O(L){if(g=!1,w(L),!m)if(n(l)!==null)m=!0,z(A);else{var B=n(u);B!==null&&W(O,B.startTime-L)}}function A(L,B){m=!1,g&&(g=!1,b(S),S=-1),p=!0;var H=h;try{for(w(B),f=n(l);f!==null&&(!(f.expirationTime>B)||L&&!C());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var X=J(f.expirationTime<=B);B=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),w(B)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var me=n(u);me!==null&&W(O,me.startTime-B),te=!1}return te}finally{f=null,h=H,p=!1}}var I=!1,x=null,S=-1,T=5,N=-1;function C(){return!(t.unstable_now()-N<T)}function R(){if(x!==null){var L=t.unstable_now();N=L;var B=!0;try{B=x(!0,L)}finally{B?k():(I=!1,x=null)}}else I=!1}var k;if(typeof _=="function")k=function(){_(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,F=U.port2;U.port1.onmessage=R,k=function(){F.postMessage(null)}}else k=function(){v(R,0)};function z(L){x=L,I||(I=!0,k())}function W(L,B){S=v(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,z(A))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var H=h;h=B;try{return L()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=h;h=L;try{return B()}finally{h=H}},t.unstable_scheduleCallback=function(L,B,H){var J=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,L={id:c++,callback:B,priorityLevel:L,startTime:H,expirationTime:X,sortIndex:-1},H>J?(L.sortIndex=H,e(u,L),n(l)===null&&L===n(u)&&(g?(b(S),S=-1):g=!0,W(O,H-J))):(L.sortIndex=X,e(l,L),m||p||(m=!0,z(A))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var B=h;return function(){var H=h;h=B;try{return L.apply(this,arguments)}finally{h=H}}}})(Lk);$k.exports=Lk;var P4=$k.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4=M,Mn=P4;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vk=new Set,Zu={};function Pa(t,e){js(t,e),js(t+"Capture",e)}function js(t,e){for(Zu[t]=e,t=0;t<e.length;t++)Vk.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_v=Object.prototype.hasOwnProperty,O4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pE={},mE={};function k4(t){return _v.call(mE,t)?!0:_v.call(pE,t)?!1:O4.test(t)?mE[t]=!0:(pE[t]=!0,!1)}function C4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N4(t,e,n,r){if(e===null||typeof e>"u"||C4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var v_=/[\-:]([a-z])/g;function b_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v_,b_);Ft[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v_,b_);Ft[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v_,b_);Ft[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function __(t,e,n,r){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N4(e,n,i,r)&&(n=null),r||i===null?k4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ki=I4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rd=Symbol.for("react.element"),rs=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),w_=Symbol.for("react.strict_mode"),wv=Symbol.for("react.profiler"),Fk=Symbol.for("react.provider"),Uk=Symbol.for("react.context"),x_=Symbol.for("react.forward_ref"),xv=Symbol.for("react.suspense"),Ev=Symbol.for("react.suspense_list"),E_=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),Bk=Symbol.for("react.offscreen"),gE=Symbol.iterator;function tu(t){return t===null||typeof t!="object"?null:(t=gE&&t[gE]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,ny;function _u(t){if(ny===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ny=e&&e[1]||""}return`
`+ny+t}var ry=!1;function iy(t,e){if(!t||ry)return"";ry=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{ry=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_u(t):""}function R4(t){switch(t.tag){case 5:return _u(t.type);case 16:return _u("Lazy");case 13:return _u("Suspense");case 19:return _u("SuspenseList");case 0:case 2:case 15:return t=iy(t.type,!1),t;case 11:return t=iy(t.type.render,!1),t;case 1:return t=iy(t.type,!0),t;default:return""}}function Sv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case is:return"Fragment";case rs:return"Portal";case wv:return"Profiler";case w_:return"StrictMode";case xv:return"Suspense";case Ev:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Uk:return(t.displayName||"Context")+".Consumer";case Fk:return(t._context.displayName||"Context")+".Provider";case x_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E_:return e=t.displayName||null,e!==null?e:Sv(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return Sv(t(e))}catch{}}return null}function j4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sv(e);case 8:return e===w_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function M4(t){var e=zk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function id(t){t._valueTracker||(t._valueTracker=M4(t))}function Wk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tv(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qk(t,e){e=e.checked,e!=null&&__(t,"checked",e,!1)}function Av(t,e){qk(t,e);var n=yo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pv(t,e.type,yo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pv(t,e,n){(e!=="number"||lh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wu=Array.isArray;function bs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Iv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(wu(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yo(n)}}function Hk(t,e){var n=yo(e.value),r=yo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _E(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ov(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var od,Kk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(od=od||document.createElement("div"),od.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=od.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ec(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D4=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(t){D4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nu[e]=Nu[t]})});function Xk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nu.hasOwnProperty(t)&&Nu[t]?(""+e).trim():e+"px"}function Yk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $4=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kv(t,e){if(e){if($4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Cv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nv=null;function S_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rv=null,_s=null,ws=null;function wE(t){if(t=ff(t)){if(typeof Rv!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=lm(e),Rv(t.stateNode,t.type,e))}}function Qk(t){_s?ws?ws.push(t):ws=[t]:_s=t}function Jk(){if(_s){var t=_s,e=ws;if(ws=_s=null,wE(t),e)for(t=0;t<e.length;t++)wE(e[t])}}function Zk(t,e){return t(e)}function eC(){}var oy=!1;function tC(t,e,n){if(oy)return t(e,n);oy=!0;try{return Zk(t,e,n)}finally{oy=!1,(_s!==null||ws!==null)&&(eC(),Jk())}}function tc(t,e){var n=t.stateNode;if(n===null)return null;var r=lm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var jv=!1;if(bi)try{var nu={};Object.defineProperty(nu,"passive",{get:function(){jv=!0}}),window.addEventListener("test",nu,nu),window.removeEventListener("test",nu,nu)}catch{jv=!1}function L4(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ru=!1,uh=null,ch=!1,Mv=null,V4={onError:function(t){Ru=!0,uh=t}};function F4(t,e,n,r,i,o,a,s,l){Ru=!1,uh=null,L4.apply(V4,arguments)}function U4(t,e,n,r,i,o,a,s,l){if(F4.apply(this,arguments),Ru){if(Ru){var u=uh;Ru=!1,uh=null}else throw Error(Q(198));ch||(ch=!0,Mv=u)}}function Ia(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xE(t){if(Ia(t)!==t)throw Error(Q(188))}function B4(t){var e=t.alternate;if(!e){if(e=Ia(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return xE(i),t;if(o===r)return xE(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function rC(t){return t=B4(t),t!==null?iC(t):null}function iC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iC(t);if(e!==null)return e;t=t.sibling}return null}var oC=Mn.unstable_scheduleCallback,EE=Mn.unstable_cancelCallback,z4=Mn.unstable_shouldYield,W4=Mn.unstable_requestPaint,lt=Mn.unstable_now,q4=Mn.unstable_getCurrentPriorityLevel,T_=Mn.unstable_ImmediatePriority,aC=Mn.unstable_UserBlockingPriority,fh=Mn.unstable_NormalPriority,H4=Mn.unstable_LowPriority,sC=Mn.unstable_IdlePriority,im=null,$r=null;function G4(t){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(im,t,void 0,(t.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:Y4,K4=Math.log,X4=Math.LN2;function Y4(t){return t>>>=0,t===0?32:31-(K4(t)/X4|0)|0}var ad=64,sd=4194304;function xu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=xu(s):(o&=a,o!==0&&(r=xu(o)))}else a=n&~i,a!==0?r=xu(a):o!==0&&(r=xu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wr(e),i=1<<n,r|=t[n],e&=~i;return r}function Q4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-wr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=Q4(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Dv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lC(){var t=ad;return ad<<=1,!(ad&4194240)&&(ad=64),t}function ay(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wr(e),t[e]=n}function Z4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function A_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function uC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cC,P_,fC,dC,hC,$v=!1,ld=[],to=null,no=null,ro=null,nc=new Map,rc=new Map,zi=[],eV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SE(t,e){switch(t){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(e.pointerId)}}function ru(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ff(e),e!==null&&P_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tV(t,e,n,r,i){switch(e){case"focusin":return to=ru(to,t,e,n,r,i),!0;case"dragenter":return no=ru(no,t,e,n,r,i),!0;case"mouseover":return ro=ru(ro,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return nc.set(o,ru(nc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,rc.set(o,ru(rc.get(o)||null,t,e,n,r,i)),!0}return!1}function pC(t){var e=Qo(t.target);if(e!==null){var n=Ia(e);if(n!==null){if(e=n.tag,e===13){if(e=nC(n),e!==null){t.blockedOn=e,hC(t.priority,function(){fC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nv=r,n.target.dispatchEvent(r),Nv=null}else return e=ff(n),e!==null&&P_(e),t.blockedOn=n,!1;e.shift()}return!0}function TE(t,e,n){Bd(t)&&n.delete(e)}function nV(){$v=!1,to!==null&&Bd(to)&&(to=null),no!==null&&Bd(no)&&(no=null),ro!==null&&Bd(ro)&&(ro=null),nc.forEach(TE),rc.forEach(TE)}function iu(t,e){t.blockedOn===e&&(t.blockedOn=null,$v||($v=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,nV)))}function ic(t){function e(i){return iu(i,t)}if(0<ld.length){iu(ld[0],t);for(var n=1;n<ld.length;n++){var r=ld[n];r.blockedOn===t&&(r.blockedOn=null)}}for(to!==null&&iu(to,t),no!==null&&iu(no,t),ro!==null&&iu(ro,t),nc.forEach(e),rc.forEach(e),n=0;n<zi.length;n++)r=zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)pC(n),n.blockedOn===null&&zi.shift()}var xs=ki.ReactCurrentBatchConfig,hh=!0;function rV(t,e,n,r){var i=Ne,o=xs.transition;xs.transition=null;try{Ne=1,I_(t,e,n,r)}finally{Ne=i,xs.transition=o}}function iV(t,e,n,r){var i=Ne,o=xs.transition;xs.transition=null;try{Ne=4,I_(t,e,n,r)}finally{Ne=i,xs.transition=o}}function I_(t,e,n,r){if(hh){var i=Lv(t,e,n,r);if(i===null)gy(t,e,r,ph,n),SE(t,r);else if(tV(i,t,e,n,r))r.stopPropagation();else if(SE(t,r),e&4&&-1<eV.indexOf(t)){for(;i!==null;){var o=ff(i);if(o!==null&&cC(o),o=Lv(t,e,n,r),o===null&&gy(t,e,r,ph,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else gy(t,e,r,null,n)}}var ph=null;function Lv(t,e,n,r){if(ph=null,t=S_(r),t=Qo(t),t!==null)if(e=Ia(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ph=t,null}function mC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q4()){case T_:return 1;case aC:return 4;case fh:case H4:return 16;case sC:return 536870912;default:return 16}default:return 16}}var Yi=null,O_=null,zd=null;function gC(){if(zd)return zd;var t,e=O_,n=e.length,r,i="value"in Yi?Yi.value:Yi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return zd=i.slice(t,1<r?1-r:void 0)}function Wd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ud(){return!0}function AE(){return!1}function Ln(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ud:AE,this.isPropagationStopped=AE,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ud)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ud)},persist:function(){},isPersistent:ud}),e}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k_=Ln(bl),cf=et({},bl,{view:0,detail:0}),oV=Ln(cf),sy,ly,ou,om=et({},cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ou&&(ou&&t.type==="mousemove"?(sy=t.screenX-ou.screenX,ly=t.screenY-ou.screenY):ly=sy=0,ou=t),sy)},movementY:function(t){return"movementY"in t?t.movementY:ly}}),PE=Ln(om),aV=et({},om,{dataTransfer:0}),sV=Ln(aV),lV=et({},cf,{relatedTarget:0}),uy=Ln(lV),uV=et({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),cV=Ln(uV),fV=et({},bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dV=Ln(fV),hV=et({},bl,{data:0}),IE=Ln(hV),pV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gV[t])?!!e[t]:!1}function C_(){return yV}var vV=et({},cf,{key:function(t){if(t.key){var e=pV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C_,charCode:function(t){return t.type==="keypress"?Wd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bV=Ln(vV),_V=et({},om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OE=Ln(_V),wV=et({},cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C_}),xV=Ln(wV),EV=et({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),SV=Ln(EV),TV=et({},om,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AV=Ln(TV),PV=[9,13,27,32],N_=bi&&"CompositionEvent"in window,ju=null;bi&&"documentMode"in document&&(ju=document.documentMode);var IV=bi&&"TextEvent"in window&&!ju,yC=bi&&(!N_||ju&&8<ju&&11>=ju),kE=String.fromCharCode(32),CE=!1;function vC(t,e){switch(t){case"keyup":return PV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var os=!1;function OV(t,e){switch(t){case"compositionend":return bC(e);case"keypress":return e.which!==32?null:(CE=!0,kE);case"textInput":return t=e.data,t===kE&&CE?null:t;default:return null}}function kV(t,e){if(os)return t==="compositionend"||!N_&&vC(t,e)?(t=gC(),zd=O_=Yi=null,os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yC&&e.locale!=="ko"?null:e.data;default:return null}}var CV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CV[t.type]:e==="textarea"}function _C(t,e,n,r){Qk(r),e=mh(e,"onChange"),0<e.length&&(n=new k_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mu=null,oc=null;function NV(t){CC(t,0)}function am(t){var e=ls(t);if(Wk(e))return t}function RV(t,e){if(t==="change")return e}var wC=!1;if(bi){var cy;if(bi){var fy="oninput"in document;if(!fy){var RE=document.createElement("div");RE.setAttribute("oninput","return;"),fy=typeof RE.oninput=="function"}cy=fy}else cy=!1;wC=cy&&(!document.documentMode||9<document.documentMode)}function jE(){Mu&&(Mu.detachEvent("onpropertychange",xC),oc=Mu=null)}function xC(t){if(t.propertyName==="value"&&am(oc)){var e=[];_C(e,oc,t,S_(t)),tC(NV,e)}}function jV(t,e,n){t==="focusin"?(jE(),Mu=e,oc=n,Mu.attachEvent("onpropertychange",xC)):t==="focusout"&&jE()}function MV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return am(oc)}function DV(t,e){if(t==="click")return am(e)}function $V(t,e){if(t==="input"||t==="change")return am(e)}function LV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Er=typeof Object.is=="function"?Object.is:LV;function ac(t,e){if(Er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_v.call(e,i)||!Er(t[i],e[i]))return!1}return!0}function ME(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function DE(t,e){var n=ME(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ME(n)}}function EC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?EC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SC(){for(var t=window,e=lh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lh(t.document)}return e}function R_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VV(t){var e=SC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&EC(n.ownerDocument.documentElement,n)){if(r!==null&&R_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=DE(n,o);var a=DE(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FV=bi&&"documentMode"in document&&11>=document.documentMode,as=null,Vv=null,Du=null,Fv=!1;function $E(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fv||as==null||as!==lh(r)||(r=as,"selectionStart"in r&&R_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Du&&ac(Du,r)||(Du=r,r=mh(Vv,"onSelect"),0<r.length&&(e=new k_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=as)))}function cd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ss={animationend:cd("Animation","AnimationEnd"),animationiteration:cd("Animation","AnimationIteration"),animationstart:cd("Animation","AnimationStart"),transitionend:cd("Transition","TransitionEnd")},dy={},TC={};bi&&(TC=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function sm(t){if(dy[t])return dy[t];if(!ss[t])return t;var e=ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TC)return dy[t]=e[n];return t}var AC=sm("animationend"),PC=sm("animationiteration"),IC=sm("animationstart"),OC=sm("transitionend"),kC=new Map,LE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ao(t,e){kC.set(t,e),Pa(e,[t])}for(var hy=0;hy<LE.length;hy++){var py=LE[hy],UV=py.toLowerCase(),BV=py[0].toUpperCase()+py.slice(1);Ao(UV,"on"+BV)}Ao(AC,"onAnimationEnd");Ao(PC,"onAnimationIteration");Ao(IC,"onAnimationStart");Ao("dblclick","onDoubleClick");Ao("focusin","onFocus");Ao("focusout","onBlur");Ao(OC,"onTransitionEnd");js("onMouseEnter",["mouseout","mouseover"]);js("onMouseLeave",["mouseout","mouseover"]);js("onPointerEnter",["pointerout","pointerover"]);js("onPointerLeave",["pointerout","pointerover"]);Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eu));function VE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,U4(r,e,void 0,t),t.currentTarget=null}function CC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;VE(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;VE(i,s,u),o=l}}}if(ch)throw t=Mv,ch=!1,Mv=null,t}function ze(t,e){var n=e[qv];n===void 0&&(n=e[qv]=new Set);var r=t+"__bubble";n.has(r)||(NC(e,t,2,!1),n.add(r))}function my(t,e,n){var r=0;e&&(r|=4),NC(n,t,r,e)}var fd="_reactListening"+Math.random().toString(36).slice(2);function sc(t){if(!t[fd]){t[fd]=!0,Vk.forEach(function(n){n!=="selectionchange"&&(zV.has(n)||my(n,!1,t),my(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fd]||(e[fd]=!0,my("selectionchange",!1,e))}}function NC(t,e,n,r){switch(mC(e)){case 1:var i=rV;break;case 4:i=iV;break;default:i=I_}n=i.bind(null,e,n,t),i=void 0,!jv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Qo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}tC(function(){var u=o,c=S_(n),f=[];e:{var h=kC.get(t);if(h!==void 0){var p=k_,m=t;switch(t){case"keypress":if(Wd(n)===0)break e;case"keydown":case"keyup":p=bV;break;case"focusin":m="focus",p=uy;break;case"focusout":m="blur",p=uy;break;case"beforeblur":case"afterblur":p=uy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=PE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=sV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=xV;break;case AC:case PC:case IC:p=cV;break;case OC:p=SV;break;case"scroll":p=oV;break;case"wheel":p=AV;break;case"copy":case"cut":case"paste":p=dV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=OE}var g=(e&4)!==0,v=!g&&t==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var _=u,w;_!==null;){w=_;var O=w.stateNode;if(w.tag===5&&O!==null&&(w=O,b!==null&&(O=tc(_,b),O!=null&&g.push(lc(_,O,w)))),v)break;_=_.return}0<g.length&&(h=new p(h,m,null,n,c),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Nv&&(m=n.relatedTarget||n.fromElement)&&(Qo(m)||m[_i]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Qo(m):null,m!==null&&(v=Ia(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=PE,O="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=OE,O="onPointerLeave",b="onPointerEnter",_="pointer"),v=p==null?h:ls(p),w=m==null?h:ls(m),h=new g(O,_+"leave",p,n,c),h.target=v,h.relatedTarget=w,O=null,Qo(c)===u&&(g=new g(b,_+"enter",m,n,c),g.target=w,g.relatedTarget=v,O=g),v=O,p&&m)t:{for(g=p,b=m,_=0,w=g;w;w=Ka(w))_++;for(w=0,O=b;O;O=Ka(O))w++;for(;0<_-w;)g=Ka(g),_--;for(;0<w-_;)b=Ka(b),w--;for(;_--;){if(g===b||b!==null&&g===b.alternate)break t;g=Ka(g),b=Ka(b)}g=null}else g=null;p!==null&&FE(f,h,p,g,!1),m!==null&&v!==null&&FE(f,v,m,g,!0)}}e:{if(h=u?ls(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var A=RV;else if(NE(h))if(wC)A=$V;else{A=MV;var I=jV}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=DV);if(A&&(A=A(t,u))){_C(f,A,n,c);break e}I&&I(t,h,u),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&Pv(h,"number",h.value)}switch(I=u?ls(u):window,t){case"focusin":(NE(I)||I.contentEditable==="true")&&(as=I,Vv=u,Du=null);break;case"focusout":Du=Vv=as=null;break;case"mousedown":Fv=!0;break;case"contextmenu":case"mouseup":case"dragend":Fv=!1,$E(f,n,c);break;case"selectionchange":if(FV)break;case"keydown":case"keyup":$E(f,n,c)}var x;if(N_)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else os?vC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(yC&&n.locale!=="ko"&&(os||S!=="onCompositionStart"?S==="onCompositionEnd"&&os&&(x=gC()):(Yi=c,O_="value"in Yi?Yi.value:Yi.textContent,os=!0)),I=mh(u,S),0<I.length&&(S=new IE(S,t,null,n,c),f.push({event:S,listeners:I}),x?S.data=x:(x=bC(n),x!==null&&(S.data=x)))),(x=IV?OV(t,n):kV(t,n))&&(u=mh(u,"onBeforeInput"),0<u.length&&(c=new IE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=x))}CC(f,e)})}function lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=tc(t,n),o!=null&&r.unshift(lc(t,o,i)),o=tc(t,e),o!=null&&r.push(lc(t,o,i))),t=t.return}return r}function Ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function FE(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=tc(n,o),l!=null&&a.unshift(lc(n,l,s))):i||(l=tc(n,o),l!=null&&a.push(lc(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var WV=/\r\n?/g,qV=/\u0000|\uFFFD/g;function UE(t){return(typeof t=="string"?t:""+t).replace(WV,`
`).replace(qV,"")}function dd(t,e,n){if(e=UE(e),UE(t)!==e&&n)throw Error(Q(425))}function gh(){}var Uv=null,Bv=null;function zv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wv=typeof setTimeout=="function"?setTimeout:void 0,HV=typeof clearTimeout=="function"?clearTimeout:void 0,BE=typeof Promise=="function"?Promise:void 0,GV=typeof queueMicrotask=="function"?queueMicrotask:typeof BE<"u"?function(t){return BE.resolve(null).then(t).catch(KV)}:Wv;function KV(t){setTimeout(function(){throw t})}function yy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ic(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ic(e)}function io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _l=Math.random().toString(36).slice(2),Mr="__reactFiber$"+_l,uc="__reactProps$"+_l,_i="__reactContainer$"+_l,qv="__reactEvents$"+_l,XV="__reactListeners$"+_l,YV="__reactHandles$"+_l;function Qo(t){var e=t[Mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_i]||n[Mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zE(t);t!==null;){if(n=t[Mr])return n;t=zE(t)}return e}t=n,n=t.parentNode}return null}function ff(t){return t=t[Mr]||t[_i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function lm(t){return t[uc]||null}var Hv=[],us=-1;function Po(t){return{current:t}}function Ge(t){0>us||(t.current=Hv[us],Hv[us]=null,us--)}function Ue(t,e){us++,Hv[us]=t.current,t.current=e}var vo={},tn=Po(vo),yn=Po(!1),fa=vo;function Ms(t,e){var n=t.type.contextTypes;if(!n)return vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vn(t){return t=t.childContextTypes,t!=null}function yh(){Ge(yn),Ge(tn)}function WE(t,e,n){if(tn.current!==vo)throw Error(Q(168));Ue(tn,e),Ue(yn,n)}function RC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,j4(t)||"Unknown",i));return et({},n,r)}function vh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vo,fa=tn.current,Ue(tn,t),Ue(yn,yn.current),!0}function qE(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=RC(t,e,fa),r.__reactInternalMemoizedMergedChildContext=t,Ge(yn),Ge(tn),Ue(tn,t)):Ge(yn),Ue(yn,n)}var ii=null,um=!1,vy=!1;function jC(t){ii===null?ii=[t]:ii.push(t)}function QV(t){um=!0,jC(t)}function Io(){if(!vy&&ii!==null){vy=!0;var t=0,e=Ne;try{var n=ii;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ii=null,um=!1}catch(i){throw ii!==null&&(ii=ii.slice(t+1)),oC(T_,Io),i}finally{Ne=e,vy=!1}}return null}var cs=[],fs=0,bh=null,_h=0,zn=[],Wn=0,da=null,oi=1,ai="";function qo(t,e){cs[fs++]=_h,cs[fs++]=bh,bh=t,_h=e}function MC(t,e,n){zn[Wn++]=oi,zn[Wn++]=ai,zn[Wn++]=da,da=t;var r=oi;t=ai;var i=32-wr(r)-1;r&=~(1<<i),n+=1;var o=32-wr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,oi=1<<32-wr(e)+i|n<<i|r,ai=o+t}else oi=1<<o|n<<i|r,ai=t}function j_(t){t.return!==null&&(qo(t,1),MC(t,1,0))}function M_(t){for(;t===bh;)bh=cs[--fs],cs[fs]=null,_h=cs[--fs],cs[fs]=null;for(;t===da;)da=zn[--Wn],zn[Wn]=null,ai=zn[--Wn],zn[Wn]=null,oi=zn[--Wn],zn[Wn]=null}var Rn=null,kn=null,Xe=!1,mr=null;function DC(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function HE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rn=t,kn=io(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rn=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=da!==null?{id:oi,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rn=t,kn=null,!0):!1;default:return!1}}function Gv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kv(t){if(Xe){var e=kn;if(e){var n=e;if(!HE(t,e)){if(Gv(t))throw Error(Q(418));e=io(n.nextSibling);var r=Rn;e&&HE(t,e)?DC(r,n):(t.flags=t.flags&-4097|2,Xe=!1,Rn=t)}}else{if(Gv(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Xe=!1,Rn=t}}}function GE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function hd(t){if(t!==Rn)return!1;if(!Xe)return GE(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zv(t.type,t.memoizedProps)),e&&(e=kn)){if(Gv(t))throw $C(),Error(Q(418));for(;e;)DC(t,e),e=io(e.nextSibling)}if(GE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=Rn?io(t.stateNode.nextSibling):null;return!0}function $C(){for(var t=kn;t;)t=io(t.nextSibling)}function Ds(){kn=Rn=null,Xe=!1}function D_(t){mr===null?mr=[t]:mr.push(t)}var JV=ki.ReactCurrentBatchConfig;function au(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function pd(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function KE(t){var e=t._init;return e(t._payload)}function LC(t){function e(b,_){if(t){var w=b.deletions;w===null?(b.deletions=[_],b.flags|=16):w.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function r(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=lo(b,_),b.index=0,b.sibling=null,b}function o(b,_,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<_?(b.flags|=2,_):w):(b.flags|=2,_)):(b.flags|=1048576,_)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,_,w,O){return _===null||_.tag!==6?(_=Ty(w,b.mode,O),_.return=b,_):(_=i(_,w),_.return=b,_)}function l(b,_,w,O){var A=w.type;return A===is?c(b,_,w.props.children,O,w.key):_!==null&&(_.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Fi&&KE(A)===_.type)?(O=i(_,w.props),O.ref=au(b,_,w),O.return=b,O):(O=Qd(w.type,w.key,w.props,null,b.mode,O),O.ref=au(b,_,w),O.return=b,O)}function u(b,_,w,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Ay(w,b.mode,O),_.return=b,_):(_=i(_,w.children||[]),_.return=b,_)}function c(b,_,w,O,A){return _===null||_.tag!==7?(_=sa(w,b.mode,O,A),_.return=b,_):(_=i(_,w),_.return=b,_)}function f(b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ty(""+_,b.mode,w),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case rd:return w=Qd(_.type,_.key,_.props,null,b.mode,w),w.ref=au(b,null,_),w.return=b,w;case rs:return _=Ay(_,b.mode,w),_.return=b,_;case Fi:var O=_._init;return f(b,O(_._payload),w)}if(wu(_)||tu(_))return _=sa(_,b.mode,w,null),_.return=b,_;pd(b,_)}return null}function h(b,_,w,O){var A=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return A!==null?null:s(b,_,""+w,O);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rd:return w.key===A?l(b,_,w,O):null;case rs:return w.key===A?u(b,_,w,O):null;case Fi:return A=w._init,h(b,_,A(w._payload),O)}if(wu(w)||tu(w))return A!==null?null:c(b,_,w,O,null);pd(b,w)}return null}function p(b,_,w,O,A){if(typeof O=="string"&&O!==""||typeof O=="number")return b=b.get(w)||null,s(_,b,""+O,A);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case rd:return b=b.get(O.key===null?w:O.key)||null,l(_,b,O,A);case rs:return b=b.get(O.key===null?w:O.key)||null,u(_,b,O,A);case Fi:var I=O._init;return p(b,_,w,I(O._payload),A)}if(wu(O)||tu(O))return b=b.get(w)||null,c(_,b,O,A,null);pd(_,O)}return null}function m(b,_,w,O){for(var A=null,I=null,x=_,S=_=0,T=null;x!==null&&S<w.length;S++){x.index>S?(T=x,x=null):T=x.sibling;var N=h(b,x,w[S],O);if(N===null){x===null&&(x=T);break}t&&x&&N.alternate===null&&e(b,x),_=o(N,_,S),I===null?A=N:I.sibling=N,I=N,x=T}if(S===w.length)return n(b,x),Xe&&qo(b,S),A;if(x===null){for(;S<w.length;S++)x=f(b,w[S],O),x!==null&&(_=o(x,_,S),I===null?A=x:I.sibling=x,I=x);return Xe&&qo(b,S),A}for(x=r(b,x);S<w.length;S++)T=p(x,b,S,w[S],O),T!==null&&(t&&T.alternate!==null&&x.delete(T.key===null?S:T.key),_=o(T,_,S),I===null?A=T:I.sibling=T,I=T);return t&&x.forEach(function(C){return e(b,C)}),Xe&&qo(b,S),A}function g(b,_,w,O){var A=tu(w);if(typeof A!="function")throw Error(Q(150));if(w=A.call(w),w==null)throw Error(Q(151));for(var I=A=null,x=_,S=_=0,T=null,N=w.next();x!==null&&!N.done;S++,N=w.next()){x.index>S?(T=x,x=null):T=x.sibling;var C=h(b,x,N.value,O);if(C===null){x===null&&(x=T);break}t&&x&&C.alternate===null&&e(b,x),_=o(C,_,S),I===null?A=C:I.sibling=C,I=C,x=T}if(N.done)return n(b,x),Xe&&qo(b,S),A;if(x===null){for(;!N.done;S++,N=w.next())N=f(b,N.value,O),N!==null&&(_=o(N,_,S),I===null?A=N:I.sibling=N,I=N);return Xe&&qo(b,S),A}for(x=r(b,x);!N.done;S++,N=w.next())N=p(x,b,S,N.value,O),N!==null&&(t&&N.alternate!==null&&x.delete(N.key===null?S:N.key),_=o(N,_,S),I===null?A=N:I.sibling=N,I=N);return t&&x.forEach(function(R){return e(b,R)}),Xe&&qo(b,S),A}function v(b,_,w,O){if(typeof w=="object"&&w!==null&&w.type===is&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case rd:e:{for(var A=w.key,I=_;I!==null;){if(I.key===A){if(A=w.type,A===is){if(I.tag===7){n(b,I.sibling),_=i(I,w.props.children),_.return=b,b=_;break e}}else if(I.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Fi&&KE(A)===I.type){n(b,I.sibling),_=i(I,w.props),_.ref=au(b,I,w),_.return=b,b=_;break e}n(b,I);break}else e(b,I);I=I.sibling}w.type===is?(_=sa(w.props.children,b.mode,O,w.key),_.return=b,b=_):(O=Qd(w.type,w.key,w.props,null,b.mode,O),O.ref=au(b,_,w),O.return=b,b=O)}return a(b);case rs:e:{for(I=w.key;_!==null;){if(_.key===I)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(b,_.sibling),_=i(_,w.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else e(b,_);_=_.sibling}_=Ay(w,b.mode,O),_.return=b,b=_}return a(b);case Fi:return I=w._init,v(b,_,I(w._payload),O)}if(wu(w))return m(b,_,w,O);if(tu(w))return g(b,_,w,O);pd(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(b,_.sibling),_=i(_,w),_.return=b,b=_):(n(b,_),_=Ty(w,b.mode,O),_.return=b,b=_),a(b)):n(b,_)}return v}var $s=LC(!0),VC=LC(!1),wh=Po(null),xh=null,ds=null,$_=null;function L_(){$_=ds=xh=null}function V_(t){var e=wh.current;Ge(wh),t._currentValue=e}function Xv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Es(t,e){xh=t,$_=ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if($_!==t)if(t={context:t,memoizedValue:e,next:null},ds===null){if(xh===null)throw Error(Q(308));ds=t,xh.dependencies={lanes:0,firstContext:t}}else ds=ds.next=t;return e}var Jo=null;function F_(t){Jo===null?Jo=[t]:Jo.push(t)}function FC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,F_(e)):(n.next=i.next,i.next=n),e.interleaved=n,wi(t,r)}function wi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ui=!1;function U_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wi(t,n)}return i=r.interleaved,i===null?(e.next=e,F_(r)):(e.next=i.next,i.next=e),r.interleaved=e,wi(t,n)}function qd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A_(t,n)}}function XE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Eh(t,e,n,r){var i=t.updateQueue;Ui=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=et({},f,h);break e;case 2:Ui=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);pa|=a,t.lanes=a,t.memoizedState=f}}function YE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var df={},Lr=Po(df),cc=Po(df),fc=Po(df);function Zo(t){if(t===df)throw Error(Q(174));return t}function B_(t,e){switch(Ue(fc,e),Ue(cc,t),Ue(Lr,df),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ov(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ov(e,t)}Ge(Lr),Ue(Lr,e)}function Ls(){Ge(Lr),Ge(cc),Ge(fc)}function BC(t){Zo(fc.current);var e=Zo(Lr.current),n=Ov(e,t.type);e!==n&&(Ue(cc,t),Ue(Lr,n))}function z_(t){cc.current===t&&(Ge(Lr),Ge(cc))}var Je=Po(0);function Sh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var by=[];function W_(){for(var t=0;t<by.length;t++)by[t]._workInProgressVersionPrimary=null;by.length=0}var Hd=ki.ReactCurrentDispatcher,_y=ki.ReactCurrentBatchConfig,ha=0,Ze=null,_t=null,It=null,Th=!1,$u=!1,dc=0,ZV=0;function Ht(){throw Error(Q(321))}function q_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Er(t[n],e[n]))return!1;return!0}function H_(t,e,n,r,i,o){if(ha=o,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hd.current=t===null||t.memoizedState===null?r3:i3,t=n(r,i),$u){o=0;do{if($u=!1,dc=0,25<=o)throw Error(Q(301));o+=1,It=_t=null,e.updateQueue=null,Hd.current=o3,t=n(r,i)}while($u)}if(Hd.current=Ah,e=_t!==null&&_t.next!==null,ha=0,It=_t=Ze=null,Th=!1,e)throw Error(Q(300));return t}function G_(){var t=dc!==0;return dc=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ze.memoizedState=It=t:It=It.next=t,It}function Zn(){if(_t===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=It===null?Ze.memoizedState:It.next;if(e!==null)It=e,_t=t;else{if(t===null)throw Error(Q(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},It===null?Ze.memoizedState=It=t:It=It.next=t}return It}function hc(t,e){return typeof e=="function"?e(t):e}function wy(t){var e=Zn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=_t,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ha&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Ze.lanes|=c,pa|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Er(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ze.lanes|=o,pa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xy(t){var e=Zn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Er(o,e.memoizedState)||(mn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function zC(){}function WC(t,e){var n=Ze,r=Zn(),i=e(),o=!Er(r.memoizedState,i);if(o&&(r.memoizedState=i,mn=!0),r=r.queue,K_(GC.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,pc(9,HC.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(Q(349));ha&30||qC(n,e,i)}return i}function qC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HC(t,e,n,r){e.value=n,e.getSnapshot=r,KC(e)&&XC(t)}function GC(t,e,n){return n(function(){KC(e)&&XC(t)})}function KC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Er(t,n)}catch{return!0}}function XC(t){var e=wi(t,1);e!==null&&xr(e,t,1,-1)}function QE(t){var e=Nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:t},e.queue=t,t=t.dispatch=n3.bind(null,Ze,t),[e.memoizedState,t]}function pc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YC(){return Zn().memoizedState}function Gd(t,e,n,r){var i=Nr();Ze.flags|=t,i.memoizedState=pc(1|e,n,void 0,r===void 0?null:r)}function cm(t,e,n,r){var i=Zn();r=r===void 0?null:r;var o=void 0;if(_t!==null){var a=_t.memoizedState;if(o=a.destroy,r!==null&&q_(r,a.deps)){i.memoizedState=pc(e,n,o,r);return}}Ze.flags|=t,i.memoizedState=pc(1|e,n,o,r)}function JE(t,e){return Gd(8390656,8,t,e)}function K_(t,e){return cm(2048,8,t,e)}function QC(t,e){return cm(4,2,t,e)}function JC(t,e){return cm(4,4,t,e)}function ZC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eN(t,e,n){return n=n!=null?n.concat([t]):null,cm(4,4,ZC.bind(null,e,t),n)}function X_(){}function tN(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&q_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nN(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&q_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rN(t,e,n){return ha&21?(Er(n,e)||(n=lC(),Ze.lanes|=n,pa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function e3(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=_y.transition;_y.transition={};try{t(!1),e()}finally{Ne=n,_y.transition=r}}function iN(){return Zn().memoizedState}function t3(t,e,n){var r=so(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oN(t))aN(e,n);else if(n=FC(t,e,n,r),n!==null){var i=ln();xr(n,t,r,i),sN(n,e,r)}}function n3(t,e,n){var r=so(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oN(t))aN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Er(s,a)){var l=e.interleaved;l===null?(i.next=i,F_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=FC(t,e,i,r),n!==null&&(i=ln(),xr(n,t,r,i),sN(n,e,r))}}function oN(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function aN(t,e){$u=Th=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A_(t,n)}}var Ah={readContext:Jn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},r3={readContext:Jn,useCallback:function(t,e){return Nr().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:JE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gd(4194308,4,ZC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gd(4,2,t,e)},useMemo:function(t,e){var n=Nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=t3.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=Nr();return t={current:t},e.memoizedState=t},useState:QE,useDebugValue:X_,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=QE(!1),e=t[0];return t=e3.bind(null,t[1]),Nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=Nr();if(Xe){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Ot===null)throw Error(Q(349));ha&30||qC(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,JE(GC.bind(null,r,o,t),[t]),r.flags|=2048,pc(9,HC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Nr(),e=Ot.identifierPrefix;if(Xe){var n=ai,r=oi;n=(r&~(1<<32-wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},i3={readContext:Jn,useCallback:tN,useContext:Jn,useEffect:K_,useImperativeHandle:eN,useInsertionEffect:QC,useLayoutEffect:JC,useMemo:nN,useReducer:wy,useRef:YC,useState:function(){return wy(hc)},useDebugValue:X_,useDeferredValue:function(t){var e=Zn();return rN(e,_t.memoizedState,t)},useTransition:function(){var t=wy(hc)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:zC,useSyncExternalStore:WC,useId:iN,unstable_isNewReconciler:!1},o3={readContext:Jn,useCallback:tN,useContext:Jn,useEffect:K_,useImperativeHandle:eN,useInsertionEffect:QC,useLayoutEffect:JC,useMemo:nN,useReducer:xy,useRef:YC,useState:function(){return xy(hc)},useDebugValue:X_,useDeferredValue:function(t){var e=Zn();return _t===null?e.memoizedState=t:rN(e,_t.memoizedState,t)},useTransition:function(){var t=xy(hc)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:zC,useSyncExternalStore:WC,useId:iN,unstable_isNewReconciler:!1};function fr(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fm={isMounted:function(t){return(t=t._reactInternals)?Ia(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=so(t),o=di(r,i);o.payload=e,n!=null&&(o.callback=n),e=oo(t,o,i),e!==null&&(xr(e,t,i,r),qd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=so(t),o=di(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=oo(t,o,i),e!==null&&(xr(e,t,i,r),qd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=so(t),i=di(n,r);i.tag=2,e!=null&&(i.callback=e),e=oo(t,i,r),e!==null&&(xr(e,t,r,n),qd(e,t,r))}};function ZE(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!ac(n,r)||!ac(i,o):!0}function lN(t,e,n){var r=!1,i=vo,o=e.contextType;return typeof o=="object"&&o!==null?o=Jn(o):(i=vn(e)?fa:tn.current,r=e.contextTypes,o=(r=r!=null)?Ms(t,i):vo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function eS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fm.enqueueReplaceState(e,e.state,null)}function Qv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},U_(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Jn(o):(o=vn(e)?fa:tn.current,i.context=Ms(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Yv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fm.enqueueReplaceState(i,i.state,null),Eh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vs(t,e){try{var n="",r=e;do n+=R4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ey(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var a3=typeof WeakMap=="function"?WeakMap:Map;function uN(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ih||(Ih=!0,l0=r),Jv(t,e)},n}function cN(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Jv(t,e),typeof r!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function tS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new a3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_3.bind(null,t,e,n),e.then(t,t))}function nS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,oo(n,e,1))),n.lanes|=1),t)}var s3=ki.ReactCurrentOwner,mn=!1;function an(t,e,n,r){e.child=t===null?VC(e,null,n,r):$s(e,t.child,n,r)}function iS(t,e,n,r,i){n=n.render;var o=e.ref;return Es(e,i),r=H_(t,e,n,r,o,i),n=G_(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(Xe&&n&&j_(e),e.flags|=1,an(t,e,r,i),e.child)}function oS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!rw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,fN(t,e,o,r,i)):(t=Qd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ac,n(a,r)&&t.ref===e.ref)return xi(t,e,i)}return e.flags|=1,t=lo(o,r),t.ref=e.ref,t.return=e,e.child=t}function fN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ac(o,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,xi(t,e,i)}return Zv(t,e,n,r,i)}function dN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(ps,An),An|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(ps,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ue(ps,An),An|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ue(ps,An),An|=r;return an(t,e,i,n),e.child}function hN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zv(t,e,n,r,i){var o=vn(n)?fa:tn.current;return o=Ms(e,o),Es(e,i),n=H_(t,e,n,r,o,i),r=G_(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(Xe&&r&&j_(e),e.flags|=1,an(t,e,n,i),e.child)}function aS(t,e,n,r,i){if(vn(n)){var o=!0;vh(e)}else o=!1;if(Es(e,i),e.stateNode===null)Kd(t,e),lN(e,n,r),Qv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jn(u):(u=vn(n)?fa:tn.current,u=Ms(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&eS(e,a,r,u),Ui=!1;var h=e.memoizedState;a.state=h,Eh(e,r,a,i),l=e.memoizedState,s!==r||h!==l||yn.current||Ui?(typeof c=="function"&&(Yv(e,n,c,r),l=e.memoizedState),(s=Ui||ZE(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,UC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:fr(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=vn(n)?fa:tn.current,l=Ms(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&eS(e,a,r,l),Ui=!1,h=e.memoizedState,a.state=h,Eh(e,r,a,i);var m=e.memoizedState;s!==f||h!==m||yn.current||Ui?(typeof p=="function"&&(Yv(e,n,p,r),m=e.memoizedState),(u=Ui||ZE(e,n,u,r,h,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return e0(t,e,n,r,o,i)}function e0(t,e,n,r,i,o){hN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&qE(e,n,!1),xi(t,e,o);r=e.stateNode,s3.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=$s(e,t.child,null,o),e.child=$s(e,null,s,o)):an(t,e,s,o),e.memoizedState=r.state,i&&qE(e,n,!0),e.child}function pN(t){var e=t.stateNode;e.pendingContext?WE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&WE(t,e.context,!1),B_(t,e.containerInfo)}function sS(t,e,n,r,i){return Ds(),D_(i),e.flags|=256,an(t,e,n,r),e.child}var t0={dehydrated:null,treeContext:null,retryLane:0};function n0(t){return{baseLanes:t,cachePool:null,transitions:null}}function mN(t,e,n){var r=e.pendingProps,i=Je.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Je,i&1),t===null)return Kv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=pm(a,r,0,null),t=sa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=n0(n),e.memoizedState=t0,t):Y_(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return l3(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=lo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=lo(s,o):(o=sa(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?n0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=t0,r}return o=t.child,t=o.sibling,r=lo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Y_(t,e){return e=pm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function md(t,e,n,r){return r!==null&&D_(r),$s(e,t.child,null,n),t=Y_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function l3(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Ey(Error(Q(422))),md(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=pm({mode:"visible",children:r.children},i,0,null),o=sa(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&$s(e,t.child,null,a),e.child.memoizedState=n0(a),e.memoizedState=t0,o);if(!(e.mode&1))return md(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Q(419)),r=Ey(o,r,void 0),md(t,e,a,r)}if(s=(a&t.childLanes)!==0,mn||s){if(r=Ot,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,wi(t,i),xr(r,t,i,-1))}return nw(),r=Ey(Error(Q(421))),md(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=w3.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,kn=io(i.nextSibling),Rn=e,Xe=!0,mr=null,t!==null&&(zn[Wn++]=oi,zn[Wn++]=ai,zn[Wn++]=da,oi=t.id,ai=t.overflow,da=e),e=Y_(e,r.children),e.flags|=4096,e)}function lS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xv(t.return,e,n)}function Sy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function gN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(an(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lS(t,n,e);else if(t.tag===19)lS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sy(e,!0,n,null,o);break;case"together":Sy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=lo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=lo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function u3(t,e,n){switch(e.tag){case 3:pN(e),Ds();break;case 5:BC(e);break;case 1:vn(e.type)&&vh(e);break;case 4:B_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(wh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?mN(t,e,n):(Ue(Je,Je.current&1),t=xi(t,e,n),t!==null?t.sibling:null);Ue(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,dN(t,e,n)}return xi(t,e,n)}var yN,r0,vN,bN;yN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};r0=function(){};vN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zo(Lr.current);var o=null;switch(n){case"input":i=Tv(t,i),r=Tv(t,r),o=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),o=[];break;case"textarea":i=Iv(t,i),r=Iv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gh)}kv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};bN=function(t,e,n,r){n!==r&&(e.flags|=4)};function su(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function c3(t,e,n){var r=e.pendingProps;switch(M_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return vn(e.type)&&yh(),Gt(e),null;case 3:return r=e.stateNode,Ls(),Ge(yn),Ge(tn),W_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mr!==null&&(f0(mr),mr=null))),r0(t,e),Gt(e),null;case 5:z_(e);var i=Zo(fc.current);if(n=e.type,t!==null&&e.stateNode!=null)vN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Gt(e),null}if(t=Zo(Lr.current),hd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Mr]=e,r[uc]=o,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Eu.length;i++)ze(Eu[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":yE(r,o),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ze("invalid",r);break;case"textarea":bE(r,o),ze("invalid",r)}kv(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&dd(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&dd(r.textContent,s,t),i=["children",""+s]):Zu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&ze("scroll",r)}switch(n){case"input":id(r),vE(r,o,!0);break;case"textarea":id(r),_E(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=gh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Mr]=e,t[uc]=r,yN(t,e,!1,!1),e.stateNode=t;e:{switch(a=Cv(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Eu.length;i++)ze(Eu[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":yE(t,r),i=Tv(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),ze("invalid",t);break;case"textarea":bE(t,r),i=Iv(t,r),ze("invalid",t);break;default:i=r}kv(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Yk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ec(t,l):typeof l=="number"&&ec(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Zu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ze("scroll",t):l!=null&&__(t,o,l,a))}switch(n){case"input":id(t),vE(t,r,!1);break;case"textarea":id(t),_E(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?bs(t,!!r.multiple,o,!1):r.defaultValue!=null&&bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)bN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Zo(fc.current),Zo(Lr.current),hd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mr]=e,(o=r.nodeValue!==n)&&(t=Rn,t!==null))switch(t.tag){case 3:dd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mr]=e,e.stateNode=r}return Gt(e),null;case 13:if(Ge(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&kn!==null&&e.mode&1&&!(e.flags&128))$C(),Ds(),e.flags|=98560,o=!1;else if(o=hd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[Mr]=e}else Ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),o=!1}else mr!==null&&(f0(mr),mr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?wt===0&&(wt=3):nw())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Ls(),r0(t,e),t===null&&sc(e.stateNode.containerInfo),Gt(e),null;case 10:return V_(e.type._context),Gt(e),null;case 17:return vn(e.type)&&yh(),Gt(e),null;case 19:if(Ge(Je),o=e.memoizedState,o===null)return Gt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)su(o,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sh(t),a!==null){for(e.flags|=128,su(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Je,Je.current&1|2),e.child}t=t.sibling}o.tail!==null&&lt()>Fs&&(e.flags|=128,r=!0,su(o,!1),e.lanes=4194304)}else{if(!r)if(t=Sh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),su(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Xe)return Gt(e),null}else 2*lt()-o.renderingStartTime>Fs&&n!==1073741824&&(e.flags|=128,r=!0,su(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=lt(),e.sibling=null,n=Je.current,Ue(Je,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return tw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function f3(t,e){switch(M_(e),e.tag){case 1:return vn(e.type)&&yh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ls(),Ge(yn),Ge(tn),W_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return z_(e),null;case 13:if(Ge(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Je),null;case 4:return Ls(),null;case 10:return V_(e.type._context),null;case 22:case 23:return tw(),null;case 24:return null;default:return null}}var gd=!1,Qt=!1,d3=typeof WeakSet=="function"?WeakSet:Set,oe=null;function hs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function i0(t,e,n){try{n()}catch(r){it(t,e,r)}}var uS=!1;function h3(t,e){if(Uv=hh,t=SC(),R_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bv={focusedElem:t,selectionRange:n},hh=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:fr(e.type,g),v);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(O){it(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return m=uS,uS=!1,m}function Lu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&i0(e,n,o)}i=i.next}while(i!==r)}}function dm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function o0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _N(t){var e=t.alternate;e!==null&&(t.alternate=null,_N(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mr],delete e[uc],delete e[qv],delete e[XV],delete e[YV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wN(t){return t.tag===5||t.tag===3||t.tag===4}function cS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function a0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gh));else if(r!==4&&(t=t.child,t!==null))for(a0(t,e,n),t=t.sibling;t!==null;)a0(t,e,n),t=t.sibling}function s0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(s0(t,e,n),t=t.sibling;t!==null;)s0(t,e,n),t=t.sibling}var Mt=null,dr=!1;function Li(t,e,n){for(n=n.child;n!==null;)xN(t,e,n),n=n.sibling}function xN(t,e,n){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(im,n)}catch{}switch(n.tag){case 5:Qt||hs(n,e);case 6:var r=Mt,i=dr;Mt=null,Li(t,e,n),Mt=r,dr=i,Mt!==null&&(dr?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(dr?(t=Mt,n=n.stateNode,t.nodeType===8?yy(t.parentNode,n):t.nodeType===1&&yy(t,n),ic(t)):yy(Mt,n.stateNode));break;case 4:r=Mt,i=dr,Mt=n.stateNode.containerInfo,dr=!0,Li(t,e,n),Mt=r,dr=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&i0(n,e,a),i=i.next}while(i!==r)}Li(t,e,n);break;case 1:if(!Qt&&(hs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){it(n,e,s)}Li(t,e,n);break;case 21:Li(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,Li(t,e,n),Qt=r):Li(t,e,n);break;default:Li(t,e,n)}}function fS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new d3),e.forEach(function(r){var i=x3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Mt=s.stateNode,dr=!1;break e;case 3:Mt=s.stateNode.containerInfo,dr=!0;break e;case 4:Mt=s.stateNode.containerInfo,dr=!0;break e}s=s.return}if(Mt===null)throw Error(Q(160));xN(o,a,i),Mt=null,dr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)EN(e,t),e=e.sibling}function EN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),Cr(t),r&4){try{Lu(3,t,t.return),dm(3,t)}catch(g){it(t,t.return,g)}try{Lu(5,t,t.return)}catch(g){it(t,t.return,g)}}break;case 1:lr(e,t),Cr(t),r&512&&n!==null&&hs(n,n.return);break;case 5:if(lr(e,t),Cr(t),r&512&&n!==null&&hs(n,n.return),t.flags&32){var i=t.stateNode;try{ec(i,"")}catch(g){it(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&qk(i,o),Cv(s,a);var u=Cv(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?Yk(i,f):c==="dangerouslySetInnerHTML"?Kk(i,f):c==="children"?ec(i,f):__(i,c,f,u)}switch(s){case"input":Av(i,o);break;case"textarea":Hk(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?bs(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?bs(i,!!o.multiple,o.defaultValue,!0):bs(i,!!o.multiple,o.multiple?[]:"",!1))}i[uc]=o}catch(g){it(t,t.return,g)}}break;case 6:if(lr(e,t),Cr(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){it(t,t.return,g)}}break;case 3:if(lr(e,t),Cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ic(e.containerInfo)}catch(g){it(t,t.return,g)}break;case 4:lr(e,t),Cr(t);break;case 13:lr(e,t),Cr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Z_=lt())),r&4&&fS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(u=Qt)||c,lr(e,t),Qt=u):lr(e,t),Cr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(f=oe=c;oe!==null;){switch(h=oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Lu(4,h,h.return);break;case 1:hs(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){it(r,n,g)}}break;case 5:hs(h,h.return);break;case 22:if(h.memoizedState!==null){hS(f);continue}}p!==null?(p.return=h,oe=p):hS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Xk("display",a))}catch(g){it(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){it(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lr(e,t),Cr(t),r&4&&fS(t);break;case 21:break;default:lr(e,t),Cr(t)}}function Cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wN(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ec(i,""),r.flags&=-33);var o=cS(t);s0(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=cS(t);a0(t,s,a);break;default:throw Error(Q(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function p3(t,e,n){oe=t,SN(t)}function SN(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||gd;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Qt;s=gd;var u=Qt;if(gd=a,(Qt=l)&&!u)for(oe=i;oe!==null;)a=oe,l=a.child,a.tag===22&&a.memoizedState!==null?pS(i):l!==null?(l.return=a,oe=l):pS(i);for(;o!==null;)oe=o,SN(o),o=o.sibling;oe=i,gd=s,Qt=u}dS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):dS(t)}}function dS(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||dm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&YE(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}YE(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ic(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Qt||e.flags&512&&o0(e)}catch(h){it(e,e.return,h)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function hS(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function pS(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dm(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){it(e,i,l)}}var o=e.return;try{o0(e)}catch(l){it(e,o,l)}break;case 5:var a=e.return;try{o0(e)}catch(l){it(e,a,l)}}}catch(l){it(e,e.return,l)}if(e===t){oe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,oe=s;break}oe=e.return}}var m3=Math.ceil,Ph=ki.ReactCurrentDispatcher,Q_=ki.ReactCurrentOwner,Kn=ki.ReactCurrentBatchConfig,Te=0,Ot=null,ht=null,Vt=0,An=0,ps=Po(0),wt=0,mc=null,pa=0,hm=0,J_=0,Vu=null,hn=null,Z_=0,Fs=1/0,ri=null,Ih=!1,l0=null,ao=null,yd=!1,Qi=null,Oh=0,Fu=0,u0=null,Xd=-1,Yd=0;function ln(){return Te&6?lt():Xd!==-1?Xd:Xd=lt()}function so(t){return t.mode&1?Te&2&&Vt!==0?Vt&-Vt:JV.transition!==null?(Yd===0&&(Yd=lC()),Yd):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:mC(t.type)),t):1}function xr(t,e,n,r){if(50<Fu)throw Fu=0,u0=null,Error(Q(185));uf(t,n,r),(!(Te&2)||t!==Ot)&&(t===Ot&&(!(Te&2)&&(hm|=n),wt===4&&Wi(t,Vt)),bn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Fs=lt()+500,um&&Io()))}function bn(t,e){var n=t.callbackNode;J4(t,e);var r=dh(t,t===Ot?Vt:0);if(r===0)n!==null&&EE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&EE(n),e===1)t.tag===0?QV(mS.bind(null,t)):jC(mS.bind(null,t)),GV(function(){!(Te&6)&&Io()}),n=null;else{switch(uC(r)){case 1:n=T_;break;case 4:n=aC;break;case 16:n=fh;break;case 536870912:n=sC;break;default:n=fh}n=NN(n,TN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TN(t,e){if(Xd=-1,Yd=0,Te&6)throw Error(Q(327));var n=t.callbackNode;if(Ss()&&t.callbackNode!==n)return null;var r=dh(t,t===Ot?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kh(t,r);else{e=r;var i=Te;Te|=2;var o=PN();(Ot!==t||Vt!==e)&&(ri=null,Fs=lt()+500,aa(t,e));do try{v3();break}catch(s){AN(t,s)}while(1);L_(),Ph.current=o,Te=i,ht!==null?e=0:(Ot=null,Vt=0,e=wt)}if(e!==0){if(e===2&&(i=Dv(t),i!==0&&(r=i,e=c0(t,i))),e===1)throw n=mc,aa(t,0),Wi(t,r),bn(t,lt()),n;if(e===6)Wi(t,r);else{if(i=t.current.alternate,!(r&30)&&!g3(i)&&(e=kh(t,r),e===2&&(o=Dv(t),o!==0&&(r=o,e=c0(t,o))),e===1))throw n=mc,aa(t,0),Wi(t,r),bn(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Ho(t,hn,ri);break;case 3:if(Wi(t,r),(r&130023424)===r&&(e=Z_+500-lt(),10<e)){if(dh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wv(Ho.bind(null,t,hn,ri),e);break}Ho(t,hn,ri);break;case 4:if(Wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-wr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*m3(r/1960))-r,10<r){t.timeoutHandle=Wv(Ho.bind(null,t,hn,ri),r);break}Ho(t,hn,ri);break;case 5:Ho(t,hn,ri);break;default:throw Error(Q(329))}}}return bn(t,lt()),t.callbackNode===n?TN.bind(null,t):null}function c0(t,e){var n=Vu;return t.current.memoizedState.isDehydrated&&(aa(t,e).flags|=256),t=kh(t,e),t!==2&&(e=hn,hn=n,e!==null&&f0(e)),t}function f0(t){hn===null?hn=t:hn.push.apply(hn,t)}function g3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Er(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wi(t,e){for(e&=~J_,e&=~hm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wr(e),r=1<<n;t[n]=-1,e&=~r}}function mS(t){if(Te&6)throw Error(Q(327));Ss();var e=dh(t,0);if(!(e&1))return bn(t,lt()),null;var n=kh(t,e);if(t.tag!==0&&n===2){var r=Dv(t);r!==0&&(e=r,n=c0(t,r))}if(n===1)throw n=mc,aa(t,0),Wi(t,e),bn(t,lt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ho(t,hn,ri),bn(t,lt()),null}function ew(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Fs=lt()+500,um&&Io())}}function ma(t){Qi!==null&&Qi.tag===0&&!(Te&6)&&Ss();var e=Te;Te|=1;var n=Kn.transition,r=Ne;try{if(Kn.transition=null,Ne=1,t)return t()}finally{Ne=r,Kn.transition=n,Te=e,!(Te&6)&&Io()}}function tw(){An=ps.current,Ge(ps)}function aa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HV(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(M_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yh();break;case 3:Ls(),Ge(yn),Ge(tn),W_();break;case 5:z_(r);break;case 4:Ls();break;case 13:Ge(Je);break;case 19:Ge(Je);break;case 10:V_(r.type._context);break;case 22:case 23:tw()}n=n.return}if(Ot=t,ht=t=lo(t.current,null),Vt=An=e,wt=0,mc=null,J_=hm=pa=0,hn=Vu=null,Jo!==null){for(e=0;e<Jo.length;e++)if(n=Jo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Jo=null}return t}function AN(t,e){do{var n=ht;try{if(L_(),Hd.current=Ah,Th){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Th=!1}if(ha=0,It=_t=Ze=null,$u=!1,dc=0,Q_.current=null,n===null||n.return===null){wt=1,mc=e,ht=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Vt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=nS(a);if(p!==null){p.flags&=-257,rS(p,a,s,o,e),p.mode&1&&tS(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){tS(o,u,e),nw();break e}l=Error(Q(426))}}else if(Xe&&s.mode&1){var v=nS(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),rS(v,a,s,o,e),D_(Vs(l,s));break e}}o=l=Vs(l,s),wt!==4&&(wt=2),Vu===null?Vu=[o]:Vu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=uN(o,l,e);XE(o,b);break e;case 1:s=l;var _=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ao===null||!ao.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=cN(o,s,e);XE(o,O);break e}}o=o.return}while(o!==null)}ON(n)}catch(A){e=A,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function PN(){var t=Ph.current;return Ph.current=Ah,t===null?Ah:t}function nw(){(wt===0||wt===3||wt===2)&&(wt=4),Ot===null||!(pa&268435455)&&!(hm&268435455)||Wi(Ot,Vt)}function kh(t,e){var n=Te;Te|=2;var r=PN();(Ot!==t||Vt!==e)&&(ri=null,aa(t,e));do try{y3();break}catch(i){AN(t,i)}while(1);if(L_(),Te=n,Ph.current=r,ht!==null)throw Error(Q(261));return Ot=null,Vt=0,wt}function y3(){for(;ht!==null;)IN(ht)}function v3(){for(;ht!==null&&!z4();)IN(ht)}function IN(t){var e=CN(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?ON(t):ht=e,Q_.current=null}function ON(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=f3(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,ht=null;return}}else if(n=c3(n,e,An),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);wt===0&&(wt=5)}function Ho(t,e,n){var r=Ne,i=Kn.transition;try{Kn.transition=null,Ne=1,b3(t,e,n,r)}finally{Kn.transition=i,Ne=r}return null}function b3(t,e,n,r){do Ss();while(Qi!==null);if(Te&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Z4(t,o),t===Ot&&(ht=Ot=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yd||(yd=!0,NN(fh,function(){return Ss(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Kn.transition,Kn.transition=null;var a=Ne;Ne=1;var s=Te;Te|=4,Q_.current=null,h3(t,n),EN(n,t),VV(Bv),hh=!!Uv,Bv=Uv=null,t.current=n,p3(n),W4(),Te=s,Ne=a,Kn.transition=o}else t.current=n;if(yd&&(yd=!1,Qi=t,Oh=i),o=t.pendingLanes,o===0&&(ao=null),G4(n.stateNode),bn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ih)throw Ih=!1,t=l0,l0=null,t;return Oh&1&&t.tag!==0&&Ss(),o=t.pendingLanes,o&1?t===u0?Fu++:(Fu=0,u0=t):Fu=0,Io(),null}function Ss(){if(Qi!==null){var t=uC(Oh),e=Kn.transition,n=Ne;try{if(Kn.transition=null,Ne=16>t?16:t,Qi===null)var r=!1;else{if(t=Qi,Qi=null,Oh=0,Te&6)throw Error(Q(331));var i=Te;for(Te|=4,oe=t.current;oe!==null;){var o=oe,a=o.child;if(oe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:Lu(8,c,o)}var f=c.child;if(f!==null)f.return=c,oe=f;else for(;oe!==null;){c=oe;var h=c.sibling,p=c.return;if(_N(c),c===u){oe=null;break}if(h!==null){h.return=p,oe=h;break}oe=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}oe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,oe=a;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Lu(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,oe=b;break e}oe=o.return}}var _=t.current;for(oe=_;oe!==null;){a=oe;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,oe=w;else e:for(a=_;oe!==null;){if(s=oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:dm(9,s)}}catch(A){it(s,s.return,A)}if(s===a){oe=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,oe=O;break e}oe=s.return}}if(Te=i,Io(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(im,t)}catch{}r=!0}return r}finally{Ne=n,Kn.transition=e}}return!1}function gS(t,e,n){e=Vs(n,e),e=uN(t,e,1),t=oo(t,e,1),e=ln(),t!==null&&(uf(t,1,e),bn(t,e))}function it(t,e,n){if(t.tag===3)gS(t,t,n);else for(;e!==null;){if(e.tag===3){gS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ao===null||!ao.has(r))){t=Vs(n,t),t=cN(e,t,1),e=oo(e,t,1),t=ln(),e!==null&&(uf(e,1,t),bn(e,t));break}}e=e.return}}function _3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(Vt&n)===n&&(wt===4||wt===3&&(Vt&130023424)===Vt&&500>lt()-Z_?aa(t,0):J_|=n),bn(t,e)}function kN(t,e){e===0&&(t.mode&1?(e=sd,sd<<=1,!(sd&130023424)&&(sd=4194304)):e=1);var n=ln();t=wi(t,e),t!==null&&(uf(t,e,n),bn(t,n))}function w3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kN(t,n)}function x3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),kN(t,n)}var CN;CN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,u3(t,e,n);mn=!!(t.flags&131072)}else mn=!1,Xe&&e.flags&1048576&&MC(e,_h,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kd(t,e),t=e.pendingProps;var i=Ms(e,tn.current);Es(e,n),i=H_(null,e,r,t,i,n);var o=G_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(r)?(o=!0,vh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,U_(e),i.updater=fm,e.stateNode=i,i._reactInternals=e,Qv(e,r,t,n),e=e0(null,e,r,!0,o,n)):(e.tag=0,Xe&&o&&j_(e),an(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=S3(r),t=fr(r,t),i){case 0:e=Zv(null,e,r,t,n);break e;case 1:e=aS(null,e,r,t,n);break e;case 11:e=iS(null,e,r,t,n);break e;case 14:e=oS(null,e,r,fr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Zv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),aS(t,e,r,i,n);case 3:e:{if(pN(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,UC(t,e),Eh(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Vs(Error(Q(423)),e),e=sS(t,e,r,n,i);break e}else if(r!==i){i=Vs(Error(Q(424)),e),e=sS(t,e,r,n,i);break e}else for(kn=io(e.stateNode.containerInfo.firstChild),Rn=e,Xe=!0,mr=null,n=VC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ds(),r===i){e=xi(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return BC(e),t===null&&Kv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,zv(r,i)?a=null:o!==null&&zv(r,o)&&(e.flags|=32),hN(t,e),an(t,e,a,n),e.child;case 6:return t===null&&Kv(e),null;case 13:return mN(t,e,n);case 4:return B_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$s(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),iS(t,e,r,i,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ue(wh,r._currentValue),r._currentValue=a,o!==null)if(Er(o.value,a)){if(o.children===i.children&&!yn.current){e=xi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=di(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Xv(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Q(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Xv(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}an(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Es(e,n),i=Jn(i),r=r(i),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,i=fr(r,e.pendingProps),i=fr(r.type,i),oS(t,e,r,i,n);case 15:return fN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Kd(t,e),e.tag=1,vn(r)?(t=!0,vh(e)):t=!1,Es(e,n),lN(e,r,i),Qv(e,r,i,n),e0(null,e,r,!0,t,n);case 19:return gN(t,e,n);case 22:return dN(t,e,n)}throw Error(Q(156,e.tag))};function NN(t,e){return oC(t,e)}function E3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new E3(t,e,n,r)}function rw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S3(t){if(typeof t=="function")return rw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x_)return 11;if(t===E_)return 14}return 2}function lo(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qd(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")rw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case is:return sa(n.children,i,o,e);case w_:a=8,i|=8;break;case wv:return t=Hn(12,n,e,i|2),t.elementType=wv,t.lanes=o,t;case xv:return t=Hn(13,n,e,i),t.elementType=xv,t.lanes=o,t;case Ev:return t=Hn(19,n,e,i),t.elementType=Ev,t.lanes=o,t;case Bk:return pm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fk:a=10;break e;case Uk:a=9;break e;case x_:a=11;break e;case E_:a=14;break e;case Fi:a=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Hn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function sa(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function pm(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=Bk,t.lanes=n,t.stateNode={isHidden:!1},t}function Ty(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function Ay(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function T3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ay(0),this.expirationTimes=ay(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ay(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iw(t,e,n,r,i,o,a,s,l){return t=new T3(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Hn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},U_(o),t}function A3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RN(t){if(!t)return vo;t=t._reactInternals;e:{if(Ia(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(vn(n))return RC(t,n,e)}return e}function jN(t,e,n,r,i,o,a,s,l){return t=iw(n,r,!0,t,i,o,a,s,l),t.context=RN(null),n=t.current,r=ln(),i=so(n),o=di(r,i),o.callback=e??null,oo(n,o,i),t.current.lanes=i,uf(t,i,r),bn(t,r),t}function mm(t,e,n,r){var i=e.current,o=ln(),a=so(i);return n=RN(n),e.context===null?e.context=n:e.pendingContext=n,e=di(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oo(i,e,a),t!==null&&(xr(t,i,a,o),qd(t,i,a)),a}function Ch(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ow(t,e){yS(t,e),(t=t.alternate)&&yS(t,e)}function P3(){return null}var MN=typeof reportError=="function"?reportError:function(t){console.error(t)};function aw(t){this._internalRoot=t}gm.prototype.render=aw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));mm(t,e,null,null)};gm.prototype.unmount=aw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ma(function(){mm(null,t,null,null)}),e[_i]=null}};function gm(t){this._internalRoot=t}gm.prototype.unstable_scheduleHydration=function(t){if(t){var e=dC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zi.length&&e!==0&&e<zi[n].priority;n++);zi.splice(n,0,t),n===0&&pC(t)}};function sw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vS(){}function I3(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ch(a);o.call(u)}}var a=jN(e,r,t,0,null,!1,!1,"",vS);return t._reactRootContainer=a,t[_i]=a.current,sc(t.nodeType===8?t.parentNode:t),ma(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Ch(l);s.call(u)}}var l=iw(t,0,!1,null,null,!1,!1,"",vS);return t._reactRootContainer=l,t[_i]=l.current,sc(t.nodeType===8?t.parentNode:t),ma(function(){mm(e,l,n,r)}),l}function vm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Ch(a);s.call(l)}}mm(e,a,t,i)}else a=I3(n,e,t,i,r);return Ch(a)}cC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xu(e.pendingLanes);n!==0&&(A_(e,n|1),bn(e,lt()),!(Te&6)&&(Fs=lt()+500,Io()))}break;case 13:ma(function(){var r=wi(t,1);if(r!==null){var i=ln();xr(r,t,1,i)}}),ow(t,1)}};P_=function(t){if(t.tag===13){var e=wi(t,134217728);if(e!==null){var n=ln();xr(e,t,134217728,n)}ow(t,134217728)}};fC=function(t){if(t.tag===13){var e=so(t),n=wi(t,e);if(n!==null){var r=ln();xr(n,t,e,r)}ow(t,e)}};dC=function(){return Ne};hC=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Rv=function(t,e,n){switch(e){case"input":if(Av(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lm(r);if(!i)throw Error(Q(90));Wk(r),Av(r,i)}}}break;case"textarea":Hk(t,n);break;case"select":e=n.value,e!=null&&bs(t,!!n.multiple,e,!1)}};Zk=ew;eC=ma;var O3={usingClientEntryPoint:!1,Events:[ff,ls,lm,Qk,Jk,ew]},lu={findFiberByHostInstance:Qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k3={bundleType:lu.bundleType,version:lu.version,rendererPackageName:lu.rendererPackageName,rendererConfig:lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rC(t),t===null?null:t.stateNode},findFiberByHostInstance:lu.findFiberByHostInstance||P3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{im=vd.inject(k3),$r=vd}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O3;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sw(e))throw Error(Q(200));return A3(t,e,null,n)};$n.createRoot=function(t,e){if(!sw(t))throw Error(Q(299));var n=!1,r="",i=MN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iw(t,1,!1,null,null,n,!1,r,i),t[_i]=e.current,sc(t.nodeType===8?t.parentNode:t),new aw(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=rC(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return ma(t)};$n.hydrate=function(t,e,n){if(!ym(e))throw Error(Q(200));return vm(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!sw(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=MN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=jN(e,null,t,1,n??null,i,!1,o,a),t[_i]=e.current,sc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gm(e)};$n.render=function(t,e,n){if(!ym(e))throw Error(Q(200));return vm(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!ym(t))throw Error(Q(40));return t._reactRootContainer?(ma(function(){vm(null,null,t,!1,function(){t._reactRootContainer=null,t[_i]=null})}),!0):!1};$n.unstable_batchedUpdates=ew;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ym(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return vm(t,e,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function DN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DN)}catch(t){console.error(t)}}DN(),Dk.exports=$n;var C3=Dk.exports,$N,bS=C3;$N=bS.createRoot,bS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}var Ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ji||(Ji={}));const _S="popstate";function N3(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return d0("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Nh(i)}return j3(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function R3(){return Math.random().toString(36).substr(2,8)}function wS(t,e){return{usr:t.state,key:t.key,idx:e}}function d0(t,e,n,r){return n===void 0&&(n=null),gc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wl(e):e,{state:n,key:e&&e.key||r||R3()})}function Nh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function j3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Ji.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(gc({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=Ji.Pop;let v=c(),b=v==null?null:v-u;u=v,l&&l({action:s,location:g.location,delta:b})}function h(v,b){s=Ji.Push;let _=d0(g.location,v,b);n&&n(_,v),u=c()+1;let w=wS(_,u),O=g.createHref(_);try{a.pushState(w,"",O)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(O)}o&&l&&l({action:s,location:g.location,delta:1})}function p(v,b){s=Ji.Replace;let _=d0(g.location,v,b);n&&n(_,v),u=c();let w=wS(_,u),O=g.createHref(_);a.replaceState(w,"",O),o&&l&&l({action:s,location:g.location,delta:0})}function m(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:Nh(v);return _=_.replace(/ $/,"%20"),gt(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let g={get action(){return s},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_S,f),l=v,()=>{i.removeEventListener(_S,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let b=m(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(v){return a.go(v)}};return g}var xS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xS||(xS={}));function M3(t,e,n){return n===void 0&&(n="/"),D3(t,e,n,!1)}function D3(t,e,n,r){let i=typeof e=="string"?wl(e):e,o=lw(i.pathname||"/",n);if(o==null)return null;let a=VN(t);$3(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=K3(o);s=H3(a[l],u,r)}return s}function VN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(gt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=uo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(gt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),VN(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:W3(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of FN(o.path))i(o,a,l)}),e}function FN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=FN(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function $3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:q3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const L3=/^:[\w-]+$/,V3=3,F3=2,U3=1,B3=10,z3=-2,ES=t=>t==="*";function W3(t,e){let n=t.split("/"),r=n.length;return n.some(ES)&&(r+=z3),e&&(r+=F3),n.filter(i=>!ES(i)).reduce((i,o)=>i+(L3.test(o)?V3:o===""?U3:B3),r)}function q3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function H3(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=SS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=SS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:uo([o,f.pathname]),pathnameBase:J3(uo([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=uo([o,f.pathnameBase]))}return a}function SS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=G3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let g=s[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function G3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),LN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function K3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return LN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function lw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function X3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wl(t):t;return{pathname:n?n.startsWith("/")?n:Y3(n,e):e,search:Z3(r),hash:e6(i)}}function Y3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Py(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Q3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function UN(t,e){let n=Q3(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=wl(t):(i=gc({},t),gt(!i.pathname||!i.pathname.includes("?"),Py("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),Py("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),Py("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=X3(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const uo=t=>t.join("/").replace(/\/\/+/g,"/"),J3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Z3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,e6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function t6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zN=["post","put","patch","delete"];new Set(zN);const n6=["get",...zN];new Set(n6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(this,arguments)}const uw=M.createContext(null),r6=M.createContext(null),Oa=M.createContext(null),bm=M.createContext(null),Oo=M.createContext({outlet:null,matches:[],isDataRoute:!1}),WN=M.createContext(null);function i6(t,e){let{relative:n}=e===void 0?{}:e;hf()||gt(!1);let{basename:r,navigator:i}=M.useContext(Oa),{hash:o,pathname:a,search:s}=HN(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:uo([r,a])),i.createHref({pathname:l,search:s,hash:o})}function hf(){return M.useContext(bm)!=null}function pf(){return hf()||gt(!1),M.useContext(bm).location}function qN(t){M.useContext(Oa).static||M.useLayoutEffect(t)}function mf(){let{isDataRoute:t}=M.useContext(Oo);return t?v6():o6()}function o6(){hf()||gt(!1);let t=M.useContext(uw),{basename:e,future:n,navigator:r}=M.useContext(Oa),{matches:i}=M.useContext(Oo),{pathname:o}=pf(),a=JSON.stringify(UN(i,n.v7_relativeSplatPath)),s=M.useRef(!1);return qN(()=>{s.current=!0}),M.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=BN(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:uo([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function a6(){let{matches:t}=M.useContext(Oo),e=t[t.length-1];return e?e.params:{}}function HN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(Oa),{matches:i}=M.useContext(Oo),{pathname:o}=pf(),a=JSON.stringify(UN(i,r.v7_relativeSplatPath));return M.useMemo(()=>BN(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function s6(t,e){return l6(t,e)}function l6(t,e,n,r){hf()||gt(!1);let{navigator:i}=M.useContext(Oa),{matches:o}=M.useContext(Oo),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=pf(),c;if(e){var f;let v=typeof e=="string"?wl(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||gt(!1),c=v}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=M3(t,{pathname:p}),g=h6(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:uo([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:uo([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&g?M.createElement(bm.Provider,{value:{location:yc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ji.Pop}},g):g}function u6(){let t=y6(),e=t6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,o)}const c6=M.createElement(u6,null);class f6 extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Oo.Provider,{value:this.props.routeContext},M.createElement(WN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d6(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(uw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Oo.Provider,{value:e},r)}function h6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||gt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,h)=>{let p,m=!1,g=null,v=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||c6,l&&(u<0&&h===0?(b6("route-fallback",!1),m=!0,v=null):u===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,h+1)),_=()=>{let w;return p?w=g:m?w=v:f.route.Component?w=M.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=c,M.createElement(d6,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?M.createElement(f6,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var GN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(GN||{}),Rh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rh||{});function p6(t){let e=M.useContext(uw);return e||gt(!1),e}function m6(t){let e=M.useContext(r6);return e||gt(!1),e}function g6(t){let e=M.useContext(Oo);return e||gt(!1),e}function KN(t){let e=g6(),n=e.matches[e.matches.length-1];return n.route.id||gt(!1),n.route.id}function y6(){var t;let e=M.useContext(WN),n=m6(Rh.UseRouteError),r=KN(Rh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function v6(){let{router:t}=p6(GN.UseNavigateStable),e=KN(Rh.UseNavigateStable),n=M.useRef(!1);return qN(()=>{n.current=!0}),M.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yc({fromRouteId:e},o)))},[t,e])}const TS={};function b6(t,e,n){!e&&!TS[t]&&(TS[t]=!0)}function _6(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function cr(t){gt(!1)}function w6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ji.Pop,navigator:o,static:a=!1,future:s}=t;hf()&&gt(!1);let l=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:o,static:a,future:yc({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=wl(r));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=M.useMemo(()=>{let v=lw(c,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:i}},[l,c,f,h,p,m,i]);return g==null?null:M.createElement(Oa.Provider,{value:u},M.createElement(bm.Provider,{children:n,value:g}))}function AS(t){let{children:e,location:n}=t;return s6(h0(e),n)}new Promise(()=>{});function h0(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let o=[...e,i];if(r.type===M.Fragment){n.push.apply(n,h0(r.props.children,o));return}r.type!==cr&&gt(!1),!r.props.index||!r.props.children||gt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=h0(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p0.apply(this,arguments)}function x6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function E6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function S6(t,e){return t.button===0&&(!e||e==="_self")&&!E6(t)}const T6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A6="6";try{window.__reactRouterVersion=A6}catch{}const P6="startTransition",PS=_4[P6];function I6(t){let{basename:e,children:n,future:r,window:i}=t,o=M.useRef();o.current==null&&(o.current=N3({window:i,v5Compat:!0}));let a=o.current,[s,l]=M.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=M.useCallback(f=>{u&&PS?PS(()=>l(f)):l(f)},[l,u]);return M.useLayoutEffect(()=>a.listen(c),[a,c]),M.useEffect(()=>_6(r),[r]),M.createElement(w6,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const O6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cn=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,h=x6(e,T6),{basename:p}=M.useContext(Oa),m,g=!1;if(typeof u=="string"&&k6.test(u)&&(m=u,O6))try{let w=new URL(window.location.href),O=u.startsWith("//")?new URL(w.protocol+u):new URL(u),A=lw(O.pathname,p);O.origin===w.origin&&A!=null?u=A+O.search+O.hash:g=!0}catch{}let v=i6(u,{relative:i}),b=C6(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function _(w){r&&r(w),w.defaultPrevented||b(w)}return M.createElement("a",p0({},h,{href:m||v,onClick:g||o?r:_,ref:n,target:l}))});var IS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(IS||(IS={}));var OS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(OS||(OS={}));function C6(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=mf(),u=pf(),c=HN(t,{relative:a});return M.useCallback(f=>{if(S6(f,n)){f.preventDefault();let h=r!==void 0?r:Nh(u)===Nh(c);l(t,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,t,o,a,s])}var N6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const R6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kt=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:s,...l},u)=>M.createElement("svg",{ref:u,...N6,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:`lucide lucide-${R6(t)}`,...l},[...e.map(([c,f])=>M.createElement(c,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${t}`,n},cw=kt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),fw=kt("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]]),j6=kt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),M6=kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),D6=kt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),$6=kt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),L6=kt("Minus",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),V6=kt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),kS=kt("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),F6=kt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),CS=kt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),U6=kt("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]),_m=kt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),B6=kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),z6=kt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),W6=kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),XN=kt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),dw=kt("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]]),q6=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},H6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},QN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new G6;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K6=function(t){const e=YN(t);return QN.encodeByteArray(e,!0)},jh=function(t){return K6(t).replace(/\./g,"")},JN=function(t){try{return QN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=()=>X6().__FIREBASE_DEFAULTS__,Q6=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},J6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JN(t[1]);return e&&JSON.parse(e)},wm=()=>{try{return q6()||Y6()||Q6()||J6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZN=t=>{var e,n;return(n=(e=wm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},e2=t=>{const e=ZN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},t2=()=>{var t;return(t=wm())==null?void 0:t.config},n2=t=>{var e;return(e=wm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},s="";return[jh(JSON.stringify(n)),jh(JSON.stringify(a)),s].join(".")}const Uu={};function eF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uu))Uu[e]?t.emulator.push(e):t.prod.push(e);return t}function tF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let NS=!1;function pw(t,e){if(typeof window>"u"||typeof document>"u"||!ka(window.location.host)||Uu[t]===e||Uu[t]||NS)return;Uu[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=eF().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{NS=!0,a()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=tF(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),v=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),_=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;s(w),c(v,g);const O=u();l(_,b),w.append(_,m,v,O),document.body.appendChild(w)}o?(m.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function rF(){var e;const t=(e=wm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aF(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sF(){return!rF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o2(){try{return typeof indexedDB=="object"}catch{return!1}}function a2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}function lF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="FirebaseError";class nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uF,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ca.prototype.create)}}class Ca{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?cF(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new nr(i,s,r)}}function cF(t,e){return t.replace(fF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fF=/\{\$([^}]+)}/g;function dF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(RS(o)&&RS(a)){if(!bo(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function RS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Su(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Tu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hF(t,e){const n=new pF(t,e);return n.subscribe.bind(n)}class pF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Iy),i.error===void 0&&(i.error=Iy),i.complete===void 0&&(i.complete=Iy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Iy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=1e3,yF=2,vF=4*60*60*1e3,bF=.5;function jS(t,e=gF,n=yF){const r=e*Math.pow(n,t),i=Math.round(bF*r*(Math.random()-.5)*2);return Math.min(vF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Z6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xF(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wF(t){return t===Go?void 0:t}function xF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _F(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const SF={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},TF=_e.INFO,AF={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},PF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=TF,this._logHandler=PF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const IF=(t,e)=>e.some(n=>t instanceof n);let MS,DS;function OF(){return MS||(MS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kF(){return DS||(DS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s2=new WeakMap,m0=new WeakMap,l2=new WeakMap,Oy=new WeakMap,mw=new WeakMap;function CF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(co(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&s2.set(n,t)}).catch(()=>{}),mw.set(e,t),e}function NF(t){if(m0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});m0.set(t,e)}let g0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return m0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||l2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RF(t){g0=t(g0)}function jF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ky(this),e,...n);return l2.set(r,e.sort?e.sort():[e]),co(r)}:kF().includes(t)?function(...e){return t.apply(ky(this),e),co(s2.get(this))}:function(...e){return co(t.apply(ky(this),e))}}function MF(t){return typeof t=="function"?jF(t):(t instanceof IDBTransaction&&NF(t),IF(t,OF())?new Proxy(t,g0):t)}function co(t){if(t instanceof IDBRequest)return CF(t);if(Oy.has(t))return Oy.get(t);const e=MF(t);return e!==t&&(Oy.set(t,e),mw.set(e,t)),e}const ky=t=>mw.get(t);function u2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=co(a);return r&&a.addEventListener("upgradeneeded",l=>{r(co(a.result),l.oldVersion,l.newVersion,co(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const DF=["get","getKey","getAll","getAllKeys","count"],$F=["put","add","delete","clear"],Cy=new Map;function $S(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cy.get(e))return Cy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$F.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DF.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Cy.set(e,o),o}RF(t=>({...t,get:(e,n,r)=>$S(e,n)||t.get(e,n,r),has:(e,n)=>!!$S(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const y0="@firebase/app",LS="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new xm("@firebase/app"),FF="@firebase/app-compat",UF="@firebase/analytics-compat",BF="@firebase/analytics",zF="@firebase/app-check-compat",WF="@firebase/app-check",qF="@firebase/auth",HF="@firebase/auth-compat",GF="@firebase/database",KF="@firebase/data-connect",XF="@firebase/database-compat",YF="@firebase/functions",QF="@firebase/functions-compat",JF="@firebase/installations",ZF="@firebase/installations-compat",eU="@firebase/messaging",tU="@firebase/messaging-compat",nU="@firebase/performance",rU="@firebase/performance-compat",iU="@firebase/remote-config",oU="@firebase/remote-config-compat",aU="@firebase/storage",sU="@firebase/storage-compat",lU="@firebase/firestore",uU="@firebase/ai",cU="@firebase/firestore-compat",fU="firebase",dU="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="[DEFAULT]",hU={[y0]:"fire-core",[FF]:"fire-core-compat",[BF]:"fire-analytics",[UF]:"fire-analytics-compat",[WF]:"fire-app-check",[zF]:"fire-app-check-compat",[qF]:"fire-auth",[HF]:"fire-auth-compat",[GF]:"fire-rtdb",[KF]:"fire-data-connect",[XF]:"fire-rtdb-compat",[YF]:"fire-fn",[QF]:"fire-fn-compat",[JF]:"fire-iid",[ZF]:"fire-iid-compat",[eU]:"fire-fcm",[tU]:"fire-fcm-compat",[nU]:"fire-perf",[rU]:"fire-perf-compat",[iU]:"fire-rc",[oU]:"fire-rc-compat",[aU]:"fire-gcs",[sU]:"fire-gcs-compat",[lU]:"fire-fst",[cU]:"fire-fst-compat",[uU]:"fire-vertex","fire-js":"fire-js",[fU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,pU=new Map,b0=new Map;function VS(t,e){try{t.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){const e=t.name;if(b0.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;b0.set(e,t);for(const n of Mh.values())VS(n,t);for(const n of pU.values())VS(n,t);return!0}function ko(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new Ca("app","Firebase",mU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=dU;function c2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:v0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw fo.create("bad-app-name",{appName:String(i)});if(n||(n=t2()),!n)throw fo.create("no-options");const o=Mh.get(i);if(o){if(bo(n,o.options)&&bo(r,o.config))return o;throw fo.create("duplicate-app",{appName:i})}const a=new EF(i);for(const l of b0.values())a.addComponent(l);const s=new gU(n,r,a);return Mh.set(i,s),s}function Em(t=v0){const e=Mh.get(t);if(!e&&t===v0&&t2())return c2();if(!e)throw fo.create("no-app",{appName:t});return e}function _n(t,e,n){let r=hU[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(a.join(" "));return}Sr(new er(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="firebase-heartbeat-database",vU=1,vc="firebase-heartbeat-store";let Ny=null;function f2(){return Ny||(Ny=u2(yU,vU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw fo.create("idb-open",{originalErrorMessage:t.message})})),Ny}async function bU(t){try{const n=(await f2()).transaction(vc),r=await n.objectStore(vc).get(d2(t));return await n.done,r}catch(e){if(e instanceof nr)Ei.warn(e.message);else{const n=fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(n.message)}}}async function FS(t,e){try{const r=(await f2()).transaction(vc,"readwrite");await r.objectStore(vc).put(e,d2(t)),await r.done}catch(n){if(n instanceof nr)Ei.warn(n.message);else{const r=fo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(r.message)}}}function d2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=1024,wU=30;class xU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=US();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>wU){const a=TU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ei.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=US(),{heartbeatsToSend:r,unsentEntries:i}=EU(this._heartbeatsCache.heartbeats),o=jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ei.warn(n),""}}}function US(){return new Date().toISOString().substring(0,10)}function EU(t,e=_U){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),BS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o2()?a2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return FS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return FS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function BS(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}function TU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){Sr(new er("platform-logger",e=>new LF(e),"PRIVATE")),Sr(new er("heartbeat",e=>new xU(e),"PRIVATE")),_n(y0,LS,t),_n(y0,LS,"esm2020"),_n("fire-js","")}AU("");var zS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ho,h2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function T(){}T.prototype=S.prototype,x.D=S.prototype,x.prototype=new T,x.prototype.constructor=x,x.C=function(N,C,R){for(var k=Array(arguments.length-2),U=2;U<arguments.length;U++)k[U-2]=arguments[U];return S.prototype[C].apply(N,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,S,T){T||(T=0);var N=Array(16);if(typeof S=="string")for(var C=0;16>C;++C)N[C]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(C=0;16>C;++C)N[C]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=x.g[0],T=x.g[1],C=x.g[2];var R=x.g[3],k=S+(R^T&(C^R))+N[0]+3614090360&4294967295;S=T+(k<<7&4294967295|k>>>25),k=R+(C^S&(T^C))+N[1]+3905402710&4294967295,R=S+(k<<12&4294967295|k>>>20),k=C+(T^R&(S^T))+N[2]+606105819&4294967295,C=R+(k<<17&4294967295|k>>>15),k=T+(S^C&(R^S))+N[3]+3250441966&4294967295,T=C+(k<<22&4294967295|k>>>10),k=S+(R^T&(C^R))+N[4]+4118548399&4294967295,S=T+(k<<7&4294967295|k>>>25),k=R+(C^S&(T^C))+N[5]+1200080426&4294967295,R=S+(k<<12&4294967295|k>>>20),k=C+(T^R&(S^T))+N[6]+2821735955&4294967295,C=R+(k<<17&4294967295|k>>>15),k=T+(S^C&(R^S))+N[7]+4249261313&4294967295,T=C+(k<<22&4294967295|k>>>10),k=S+(R^T&(C^R))+N[8]+1770035416&4294967295,S=T+(k<<7&4294967295|k>>>25),k=R+(C^S&(T^C))+N[9]+2336552879&4294967295,R=S+(k<<12&4294967295|k>>>20),k=C+(T^R&(S^T))+N[10]+4294925233&4294967295,C=R+(k<<17&4294967295|k>>>15),k=T+(S^C&(R^S))+N[11]+2304563134&4294967295,T=C+(k<<22&4294967295|k>>>10),k=S+(R^T&(C^R))+N[12]+1804603682&4294967295,S=T+(k<<7&4294967295|k>>>25),k=R+(C^S&(T^C))+N[13]+4254626195&4294967295,R=S+(k<<12&4294967295|k>>>20),k=C+(T^R&(S^T))+N[14]+2792965006&4294967295,C=R+(k<<17&4294967295|k>>>15),k=T+(S^C&(R^S))+N[15]+1236535329&4294967295,T=C+(k<<22&4294967295|k>>>10),k=S+(C^R&(T^C))+N[1]+4129170786&4294967295,S=T+(k<<5&4294967295|k>>>27),k=R+(T^C&(S^T))+N[6]+3225465664&4294967295,R=S+(k<<9&4294967295|k>>>23),k=C+(S^T&(R^S))+N[11]+643717713&4294967295,C=R+(k<<14&4294967295|k>>>18),k=T+(R^S&(C^R))+N[0]+3921069994&4294967295,T=C+(k<<20&4294967295|k>>>12),k=S+(C^R&(T^C))+N[5]+3593408605&4294967295,S=T+(k<<5&4294967295|k>>>27),k=R+(T^C&(S^T))+N[10]+38016083&4294967295,R=S+(k<<9&4294967295|k>>>23),k=C+(S^T&(R^S))+N[15]+3634488961&4294967295,C=R+(k<<14&4294967295|k>>>18),k=T+(R^S&(C^R))+N[4]+3889429448&4294967295,T=C+(k<<20&4294967295|k>>>12),k=S+(C^R&(T^C))+N[9]+568446438&4294967295,S=T+(k<<5&4294967295|k>>>27),k=R+(T^C&(S^T))+N[14]+3275163606&4294967295,R=S+(k<<9&4294967295|k>>>23),k=C+(S^T&(R^S))+N[3]+4107603335&4294967295,C=R+(k<<14&4294967295|k>>>18),k=T+(R^S&(C^R))+N[8]+1163531501&4294967295,T=C+(k<<20&4294967295|k>>>12),k=S+(C^R&(T^C))+N[13]+2850285829&4294967295,S=T+(k<<5&4294967295|k>>>27),k=R+(T^C&(S^T))+N[2]+4243563512&4294967295,R=S+(k<<9&4294967295|k>>>23),k=C+(S^T&(R^S))+N[7]+1735328473&4294967295,C=R+(k<<14&4294967295|k>>>18),k=T+(R^S&(C^R))+N[12]+2368359562&4294967295,T=C+(k<<20&4294967295|k>>>12),k=S+(T^C^R)+N[5]+4294588738&4294967295,S=T+(k<<4&4294967295|k>>>28),k=R+(S^T^C)+N[8]+2272392833&4294967295,R=S+(k<<11&4294967295|k>>>21),k=C+(R^S^T)+N[11]+1839030562&4294967295,C=R+(k<<16&4294967295|k>>>16),k=T+(C^R^S)+N[14]+4259657740&4294967295,T=C+(k<<23&4294967295|k>>>9),k=S+(T^C^R)+N[1]+2763975236&4294967295,S=T+(k<<4&4294967295|k>>>28),k=R+(S^T^C)+N[4]+1272893353&4294967295,R=S+(k<<11&4294967295|k>>>21),k=C+(R^S^T)+N[7]+4139469664&4294967295,C=R+(k<<16&4294967295|k>>>16),k=T+(C^R^S)+N[10]+3200236656&4294967295,T=C+(k<<23&4294967295|k>>>9),k=S+(T^C^R)+N[13]+681279174&4294967295,S=T+(k<<4&4294967295|k>>>28),k=R+(S^T^C)+N[0]+3936430074&4294967295,R=S+(k<<11&4294967295|k>>>21),k=C+(R^S^T)+N[3]+3572445317&4294967295,C=R+(k<<16&4294967295|k>>>16),k=T+(C^R^S)+N[6]+76029189&4294967295,T=C+(k<<23&4294967295|k>>>9),k=S+(T^C^R)+N[9]+3654602809&4294967295,S=T+(k<<4&4294967295|k>>>28),k=R+(S^T^C)+N[12]+3873151461&4294967295,R=S+(k<<11&4294967295|k>>>21),k=C+(R^S^T)+N[15]+530742520&4294967295,C=R+(k<<16&4294967295|k>>>16),k=T+(C^R^S)+N[2]+3299628645&4294967295,T=C+(k<<23&4294967295|k>>>9),k=S+(C^(T|~R))+N[0]+4096336452&4294967295,S=T+(k<<6&4294967295|k>>>26),k=R+(T^(S|~C))+N[7]+1126891415&4294967295,R=S+(k<<10&4294967295|k>>>22),k=C+(S^(R|~T))+N[14]+2878612391&4294967295,C=R+(k<<15&4294967295|k>>>17),k=T+(R^(C|~S))+N[5]+4237533241&4294967295,T=C+(k<<21&4294967295|k>>>11),k=S+(C^(T|~R))+N[12]+1700485571&4294967295,S=T+(k<<6&4294967295|k>>>26),k=R+(T^(S|~C))+N[3]+2399980690&4294967295,R=S+(k<<10&4294967295|k>>>22),k=C+(S^(R|~T))+N[10]+4293915773&4294967295,C=R+(k<<15&4294967295|k>>>17),k=T+(R^(C|~S))+N[1]+2240044497&4294967295,T=C+(k<<21&4294967295|k>>>11),k=S+(C^(T|~R))+N[8]+1873313359&4294967295,S=T+(k<<6&4294967295|k>>>26),k=R+(T^(S|~C))+N[15]+4264355552&4294967295,R=S+(k<<10&4294967295|k>>>22),k=C+(S^(R|~T))+N[6]+2734768916&4294967295,C=R+(k<<15&4294967295|k>>>17),k=T+(R^(C|~S))+N[13]+1309151649&4294967295,T=C+(k<<21&4294967295|k>>>11),k=S+(C^(T|~R))+N[4]+4149444226&4294967295,S=T+(k<<6&4294967295|k>>>26),k=R+(T^(S|~C))+N[11]+3174756917&4294967295,R=S+(k<<10&4294967295|k>>>22),k=C+(S^(R|~T))+N[2]+718787259&4294967295,C=R+(k<<15&4294967295|k>>>17),k=T+(R^(C|~S))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(C+(k<<21&4294967295|k>>>11))&4294967295,x.g[2]=x.g[2]+C&4294967295,x.g[3]=x.g[3]+R&4294967295}r.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var T=S-this.blockSize,N=this.B,C=this.h,R=0;R<S;){if(C==0)for(;R<=T;)i(this,x,R),R+=this.blockSize;if(typeof x=="string"){for(;R<S;)if(N[C++]=x.charCodeAt(R++),C==this.blockSize){i(this,N),C=0;break}}else for(;R<S;)if(N[C++]=x[R++],C==this.blockSize){i(this,N),C=0;break}}this.h=C,this.o+=S},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var T=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=T&255,T/=256;for(this.u(x),x=Array(16),S=T=0;4>S;++S)for(var N=0;32>N;N+=8)x[T++]=this.g[S]>>>N&255;return x};function o(x,S){var T=s;return Object.prototype.hasOwnProperty.call(T,x)?T[x]:T[x]=S(x)}function a(x,S){this.h=S;for(var T=[],N=!0,C=x.length-1;0<=C;C--){var R=x[C]|0;N&&R==S||(T[C]=R,N=!1)}this.g=T}var s={};function l(x){return-128<=x&&128>x?o(x,function(S){return new a([S|0],0>S?-1:0)}):new a([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return v(u(-x));for(var S=[],T=1,N=0;x>=T;N++)S[N]=x/T|0,T*=4294967296;return new a(S,0)}function c(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return v(c(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(S,8)),N=f,C=0;C<x.length;C+=8){var R=Math.min(8,x.length-C),k=parseInt(x.substring(C,C+R),S);8>R?(R=u(Math.pow(S,R)),N=N.j(R).add(u(k))):(N=N.j(T),N=N.add(u(k)))}return N}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-v(this).m();for(var x=0,S=1,T=0;T<this.g.length;T++){var N=this.i(T);x+=(0<=N?N:4294967296+N)*S,S*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(m(this))return"0";if(g(this))return"-"+v(this).toString(x);for(var S=u(Math.pow(x,6)),T=this,N="";;){var C=O(T,S).g;T=b(T,C.j(S));var R=((0<T.g.length?T.g[0]:T.h)>>>0).toString(x);if(T=C,m(T))return R+N;for(;6>R.length;)R="0"+R;N=R+N}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function m(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function g(x){return x.h==-1}t.l=function(x){return x=b(this,x),g(x)?-1:m(x)?0:1};function v(x){for(var S=x.g.length,T=[],N=0;N<S;N++)T[N]=~x.g[N];return new a(T,~x.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(x){for(var S=Math.max(this.g.length,x.g.length),T=[],N=0,C=0;C<=S;C++){var R=N+(this.i(C)&65535)+(x.i(C)&65535),k=(R>>>16)+(this.i(C)>>>16)+(x.i(C)>>>16);N=k>>>16,R&=65535,k&=65535,T[C]=k<<16|R}return new a(T,T[T.length-1]&-2147483648?-1:0)};function b(x,S){return x.add(v(S))}t.j=function(x){if(m(this)||m(x))return f;if(g(this))return g(x)?v(this).j(v(x)):v(v(this).j(x));if(g(x))return v(this.j(v(x)));if(0>this.l(p)&&0>x.l(p))return u(this.m()*x.m());for(var S=this.g.length+x.g.length,T=[],N=0;N<2*S;N++)T[N]=0;for(N=0;N<this.g.length;N++)for(var C=0;C<x.g.length;C++){var R=this.i(N)>>>16,k=this.i(N)&65535,U=x.i(C)>>>16,F=x.i(C)&65535;T[2*N+2*C]+=k*F,_(T,2*N+2*C),T[2*N+2*C+1]+=R*F,_(T,2*N+2*C+1),T[2*N+2*C+1]+=k*U,_(T,2*N+2*C+1),T[2*N+2*C+2]+=R*U,_(T,2*N+2*C+2)}for(N=0;N<S;N++)T[N]=T[2*N+1]<<16|T[2*N];for(N=S;N<2*S;N++)T[N]=0;return new a(T,0)};function _(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function w(x,S){this.g=x,this.h=S}function O(x,S){if(m(S))throw Error("division by zero");if(m(x))return new w(f,f);if(g(x))return S=O(v(x),S),new w(v(S.g),v(S.h));if(g(S))return S=O(x,v(S)),new w(v(S.g),S.h);if(30<x.g.length){if(g(x)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var T=h,N=S;0>=N.l(x);)T=A(T),N=A(N);var C=I(T,1),R=I(N,1);for(N=I(N,2),T=I(T,2);!m(N);){var k=R.add(N);0>=k.l(x)&&(C=C.add(T),R=k),N=I(N,1),T=I(T,1)}return S=b(x,C.j(S)),new w(C,S)}for(C=f;0<=x.l(S);){for(T=Math.max(1,Math.floor(x.m()/S.m())),N=Math.ceil(Math.log(T)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),R=u(T),k=R.j(S);g(k)||0<k.l(x);)T-=N,R=u(T),k=R.j(S);m(R)&&(R=h),C=C.add(R),x=b(x,k)}return new w(C,x)}t.A=function(x){return O(this,x).h},t.and=function(x){for(var S=Math.max(this.g.length,x.g.length),T=[],N=0;N<S;N++)T[N]=this.i(N)&x.i(N);return new a(T,this.h&x.h)},t.or=function(x){for(var S=Math.max(this.g.length,x.g.length),T=[],N=0;N<S;N++)T[N]=this.i(N)|x.i(N);return new a(T,this.h|x.h)},t.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),T=[],N=0;N<S;N++)T[N]=this.i(N)^x.i(N);return new a(T,this.h^x.h)};function A(x){for(var S=x.g.length+1,T=[],N=0;N<S;N++)T[N]=x.i(N)<<1|x.i(N-1)>>>31;return new a(T,x.h)}function I(x,S){var T=S>>5;S%=32;for(var N=x.g.length-T,C=[],R=0;R<N;R++)C[R]=0<S?x.i(R+T)>>>S|x.i(R+T+1)<<32-S:x.i(R+T);return new a(C,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,h2=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,ho=a}).apply(typeof zS<"u"?zS:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p2,Au,m2,Jd,_0,g2,y2,v2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,P){return d==Array.prototype||d==Object.prototype||(d[y]=P.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var y=0;y<d.length;++y){var P=d[y];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var P=r;d=d.split(".");for(var j=0;j<d.length-1;j++){var $=d[j];if(!($ in P))break e;P=P[$]}d=d[d.length-1],j=P[d],y=y(j),y!=j&&y!=null&&e(P,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var P=0,j=!1,$={next:function(){if(!j&&P<d.length){var V=P++;return{value:y(V,d[V]),done:!1}}return j=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(d){return d||function(){return o(this,function(y,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function u(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function c(d,y,P){return d.call.apply(d.bind,arguments)}function f(d,y,P){if(!d)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,j),d.apply(y,$)}}return function(){return d.apply(y,arguments)}}function h(d,y,P){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(d,y){var P=Array.prototype.slice.call(arguments,1);return function(){var j=P.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function m(d,y){function P(){}P.prototype=y.prototype,d.aa=y.prototype,d.prototype=new P,d.prototype.constructor=d,d.Qb=function(j,$,V){for(var Z=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)Z[Me-2]=arguments[Me];return y.prototype[$].apply(j,Z)}}function g(d){const y=d.length;if(0<y){const P=Array(y);for(let j=0;j<y;j++)P[j]=d[j];return P}return[]}function v(d,y){for(let P=1;P<arguments.length;P++){const j=arguments[P];if(l(j)){const $=d.length||0,V=j.length||0;d.length=$+V;for(let Z=0;Z<V;Z++)d[$+Z]=j[Z]}else d.push(j)}}class b{constructor(y,P){this.i=y,this.j=P,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function _(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function O(d){return O[" "](d),d}O[" "]=function(){};var A=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function I(d,y,P){for(const j in d)y.call(P,d[j],j,d)}function x(d,y){for(const P in d)y.call(void 0,d[P],P,d)}function S(d){const y={};for(const P in d)y[P]=d[P];return y}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,y){let P,j;for(let $=1;$<arguments.length;$++){j=arguments[$];for(P in j)d[P]=j[P];for(let V=0;V<T.length;V++)P=T[V],Object.prototype.hasOwnProperty.call(j,P)&&(d[P]=j[P])}}function C(d){var y=1;d=d.split(":");const P=[];for(;0<y&&d.length;)P.push(d.shift()),y--;return d.length&&P.push(d.join(":")),P}function R(d){s.setTimeout(()=>{throw d},0)}function k(){var d=B;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class U{constructor(){this.h=this.g=null}add(y,P){const j=F.get();j.set(y,P),this.h?this.h.next=j:this.g=j,this.h=j}}var F=new b(()=>new z,d=>d.reset());class z{constructor(){this.next=this.g=this.h=null}set(y,P){this.h=y,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let W,L=!1,B=new U,H=()=>{const d=s.Promise.resolve(void 0);W=()=>{d.then(J)}};var J=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(P){R(P)}var y=F;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}L=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const P=()=>{};s.addEventListener("test",P,y),s.removeEventListener("test",P,y)}catch{}return d}();function Pe(d,y){if(te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var P=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(A){e:{try{O(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else P=="mouseover"?y=d.fromElement:P=="mouseout"&&(y=d.toElement);this.relatedTarget=y,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ke[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Pe.aa.h.call(this)}}m(Pe,te);var Ke={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function ne(d,y,P,j,$){this.listener=d,this.proxy=null,this.src=y,this.type=P,this.capture=!!j,this.ha=$,this.key=++Bt,this.da=this.fa=!1}function fe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function he(d){this.src=d,this.g={},this.h=0}he.prototype.add=function(d,y,P,j,$){var V=d.toString();d=this.g[V],d||(d=this.g[V]=[],this.h++);var Z=Le(d,y,j,$);return-1<Z?(y=d[Z],P||(y.fa=!1)):(y=new ne(y,this.src,V,!!j,$),y.fa=P,d.push(y)),y};function Y(d,y){var P=y.type;if(P in d.g){var j=d.g[P],$=Array.prototype.indexOf.call(j,y,void 0),V;(V=0<=$)&&Array.prototype.splice.call(j,$,1),V&&(fe(y),d.g[P].length==0&&(delete d.g[P],d.h--))}}function Le(d,y,P,j){for(var $=0;$<d.length;++$){var V=d[$];if(!V.da&&V.listener==y&&V.capture==!!P&&V.ha==j)return $}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),Qe={};function nt(d,y,P,j,$){if(j&&j.once)return Zr(d,y,P,j,$);if(Array.isArray(y)){for(var V=0;V<y.length;V++)nt(d,y[V],P,j,$);return null}return P=Lg(P),d&&d[Tt]?d.K(y,P,u(j)?!!j.capture:!!j,$):Nt(d,y,P,!1,j,$)}function Nt(d,y,P,j,$,V){if(!y)throw Error("Invalid event type");var Z=u($)?!!$.capture:!!$,Me=Ba(d);if(Me||(d[ye]=Me=new he(d)),P=Me.add(y,P,j,Z,V),P.proxy)return P;if(j=Or(),P.proxy=j,j.src=d,j.listener=P,d.addEventListener)me||($=Z),$===void 0&&($=!1),d.addEventListener(y.toString(),j,$);else if(d.attachEvent)d.attachEvent(kr(y.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Or(){function d(P){return y.call(d.src,d.listener,P)}const y=Ul;return d}function Zr(d,y,P,j,$){if(Array.isArray(y)){for(var V=0;V<y.length;V++)Zr(d,y[V],P,j,$);return null}return P=Lg(P),d&&d[Tt]?d.L(y,P,u(j)?!!j.capture:!!j,$):Nt(d,y,P,!0,j,$)}function Vo(d,y,P,j,$){if(Array.isArray(y))for(var V=0;V<y.length;V++)Vo(d,y[V],P,j,$);else j=u(j)?!!j.capture:!!j,P=Lg(P),d&&d[Tt]?(d=d.i,y=String(y).toString(),y in d.g&&(V=d.g[y],P=Le(V,P,j,$),-1<P&&(fe(V[P]),Array.prototype.splice.call(V,P,1),V.length==0&&(delete d.g[y],d.h--)))):d&&(d=Ba(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Le(y,P,j,$)),(P=-1<d?y[d]:null)&&ar(P))}function ar(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Tt])Y(y.i,d);else{var P=d.type,j=d.proxy;y.removeEventListener?y.removeEventListener(P,j,d.capture):y.detachEvent?y.detachEvent(kr(P),j):y.addListener&&y.removeListener&&y.removeListener(j),(P=Ba(y))?(Y(P,d),P.h==0&&(P.src=null,y[ye]=null)):fe(d)}}}function kr(d){return d in Qe?Qe[d]:Qe[d]="on"+d}function Ul(d,y){if(d.da)d=!0;else{y=new Pe(y,this);var P=d.listener,j=d.ha||d.src;d.fa&&ar(d),d=P.call(j,y)}return d}function Ba(d){return d=d[ye],d instanceof he?d:null}var za="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lg(d){return typeof d=="function"?d:(d[za]||(d[za]=function(y){return d.handleEvent(y)}),d[za])}function zt(){X.call(this),this.i=new he(this),this.M=this,this.F=null}m(zt,X),zt.prototype[Tt]=!0,zt.prototype.removeEventListener=function(d,y,P,j){Vo(this,d,y,P,j)};function rn(d,y){var P,j=d.F;if(j)for(P=[];j;j=j.F)P.push(j);if(d=d.M,j=y.type||y,typeof y=="string")y=new te(y,d);else if(y instanceof te)y.target=y.target||d;else{var $=y;y=new te(j,d),N(y,$)}if($=!0,P)for(var V=P.length-1;0<=V;V--){var Z=y.g=P[V];$=Vf(Z,j,!0,y)&&$}if(Z=y.g=d,$=Vf(Z,j,!0,y)&&$,$=Vf(Z,j,!1,y)&&$,P)for(V=0;V<P.length;V++)Z=y.g=P[V],$=Vf(Z,j,!1,y)&&$}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var P=d.g[y],j=0;j<P.length;j++)fe(P[j]);delete d.g[y],d.h--}}this.F=null},zt.prototype.K=function(d,y,P,j){return this.i.add(String(d),y,!1,P,j)},zt.prototype.L=function(d,y,P,j){return this.i.add(String(d),y,!0,P,j)};function Vf(d,y,P,j){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,V=0;V<y.length;++V){var Z=y[V];if(Z&&!Z.da&&Z.capture==P){var Me=Z.listener,Rt=Z.ha||Z.src;Z.fa&&Y(d.i,Z),$=Me.call(Rt,j)!==!1&&$}}return $&&!j.defaultPrevented}function gx(d,y,P){if(typeof d=="function")P&&(d=h(d,P));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:s.setTimeout(d,y||0)}function yx(d){d.g=gx(()=>{d.g=null,d.i&&(d.i=!1,yx(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class NL extends X{constructor(y,P){super(),this.m=y,this.l=P,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:yx(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bl(d){X.call(this),this.h=d,this.g={}}m(Bl,X);var vx=[];function bx(d){I(d.g,function(y,P){this.g.hasOwnProperty(P)&&ar(y)},d),d.g={}}Bl.prototype.N=function(){Bl.aa.N.call(this),bx(this)},Bl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vg=s.JSON.stringify,RL=s.JSON.parse,jL=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function Fg(){}Fg.prototype.h=null;function _x(d){return d.h||(d.h=d.i())}function wx(){}var zl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ug(){te.call(this,"d")}m(Ug,te);function Bg(){te.call(this,"c")}m(Bg,te);var Fo={},xx=null;function Ff(){return xx=xx||new zt}Fo.La="serverreachability";function Ex(d){te.call(this,Fo.La,d)}m(Ex,te);function Wl(d){const y=Ff();rn(y,new Ex(y))}Fo.STAT_EVENT="statevent";function Sx(d,y){te.call(this,Fo.STAT_EVENT,d),this.stat=y}m(Sx,te);function on(d){const y=Ff();rn(y,new Sx(y,d))}Fo.Ma="timingevent";function Tx(d,y){te.call(this,Fo.Ma,d),this.size=y}m(Tx,te);function ql(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},y)}function Hl(){this.g=!0}Hl.prototype.xa=function(){this.g=!1};function ML(d,y,P,j,$,V){d.info(function(){if(d.g)if(V)for(var Z="",Me=V.split("&"),Rt=0;Rt<Me.length;Rt++){var Ie=Me[Rt].split("=");if(1<Ie.length){var Wt=Ie[0];Ie=Ie[1];var qt=Wt.split("_");Z=2<=qt.length&&qt[1]=="type"?Z+(Wt+"="+Ie+"&"):Z+(Wt+"=redacted&")}}else Z=null;else Z=V;return"XMLHTTP REQ ("+j+") [attempt "+$+"]: "+y+`
`+P+`
`+Z})}function DL(d,y,P,j,$,V,Z){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+$+"]: "+y+`
`+P+`
`+V+" "+Z})}function Wa(d,y,P,j){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+LL(d,P)+(j?" "+j:"")})}function $L(d,y){d.info(function(){return"TIMEOUT: "+y})}Hl.prototype.info=function(){};function LL(d,y){if(!d.g)return y;if(!y)return null;try{var P=JSON.parse(y);if(P){for(d=0;d<P.length;d++)if(Array.isArray(P[d])){var j=P[d];if(!(2>j.length)){var $=j[1];if(Array.isArray($)&&!(1>$.length)){var V=$[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Z=1;Z<$.length;Z++)$[Z]=""}}}}return Vg(P)}catch{return y}}var Uf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ax={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zg;function Bf(){}m(Bf,Fg),Bf.prototype.g=function(){return new XMLHttpRequest},Bf.prototype.i=function(){return{}},zg=new Bf;function Mi(d,y,P,j){this.j=d,this.i=y,this.l=P,this.R=j||1,this.U=new Bl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Px}function Px(){this.i=null,this.g="",this.h=!1}var Ix={},Wg={};function qg(d,y,P){d.L=1,d.v=Hf(ei(y)),d.m=P,d.P=!0,Ox(d,null)}function Ox(d,y){d.F=Date.now(),zf(d),d.A=ei(d.v);var P=d.A,j=d.R;Array.isArray(j)||(j=[String(j)]),zx(P.i,"t",j),d.C=0,P=d.j.J,d.h=new Px,d.g=sE(d.j,P?y:null,!d.m),0<d.O&&(d.M=new NL(h(d.Y,d,d.g),d.O)),y=d.U,P=d.g,j=d.ca;var $="readystatechange";Array.isArray($)||($&&(vx[0]=$.toString()),$=vx);for(var V=0;V<$.length;V++){var Z=nt(P,$[V],j||y.handleEvent,!1,y.h||y);if(!Z)break;y.g[Z.key]=Z}y=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Wl(),ML(d.i,d.u,d.A,d.l,d.R,d.m)}Mi.prototype.ca=function(d){d=d.target;const y=this.M;y&&ti(d)==3?y.j():this.Y(d)},Mi.prototype.Y=function(d){try{if(d==this.g)e:{const qt=ti(this.g);var y=this.g.Ba();const Ga=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Yx(this.g)))){this.J||qt!=4||y==7||(y==8||0>=Ga?Wl(3):Wl(2)),Hg(this);var P=this.g.Z();this.X=P;t:if(kx(this)){var j=Yx(this.g);d="";var $=j.length,V=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Uo(this),Gl(this);var Z="";break t}this.h.i=new s.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,d+=this.h.i.decode(j[y],{stream:!(V&&y==$-1)});j.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=P==200,DL(this.i,this.u,this.A,this.l,this.R,qt,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Rt=this.g;if((Me=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Me)){var Ie=Me;break t}}Ie=null}if(P=Ie)Wa(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gg(this,P);else{this.o=!1,this.s=3,on(12),Uo(this),Gl(this);break e}}if(this.P){P=!0;let sr;for(;!this.J&&this.C<Z.length;)if(sr=VL(this,Z),sr==Wg){qt==4&&(this.s=4,on(14),P=!1),Wa(this.i,this.l,null,"[Incomplete Response]");break}else if(sr==Ix){this.s=4,on(15),Wa(this.i,this.l,Z,"[Invalid Chunk]"),P=!1;break}else Wa(this.i,this.l,sr,null),Gg(this,sr);if(kx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||Z.length!=0||this.h.h||(this.s=1,on(16),P=!1),this.o=this.o&&P,!P)Wa(this.i,this.l,Z,"[Invalid Chunked Response]"),Uo(this),Gl(this);else if(0<Z.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Zg(Wt),Wt.M=!0,on(11))}}else Wa(this.i,this.l,Z,null),Gg(this,Z);qt==4&&Uo(this),this.o&&!this.J&&(qt==4?rE(this.j,this):(this.o=!1,zf(this)))}else n4(this.g),P==400&&0<Z.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),Uo(this),Gl(this)}}}catch{}finally{}};function kx(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function VL(d,y){var P=d.C,j=y.indexOf(`
`,P);return j==-1?Wg:(P=Number(y.substring(P,j)),isNaN(P)?Ix:(j+=1,j+P>y.length?Wg:(y=y.slice(j,j+P),d.C=j+P,y)))}Mi.prototype.cancel=function(){this.J=!0,Uo(this)};function zf(d){d.S=Date.now()+d.I,Cx(d,d.I)}function Cx(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ql(h(d.ba,d),y)}function Hg(d){d.B&&(s.clearTimeout(d.B),d.B=null)}Mi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?($L(this.i,this.A),this.L!=2&&(Wl(),on(17)),Uo(this),this.s=2,Gl(this)):Cx(this,this.S-d)};function Gl(d){d.j.G==0||d.J||rE(d.j,d)}function Uo(d){Hg(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,bx(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Gg(d,y){try{var P=d.j;if(P.G!=0&&(P.g==d||Kg(P.h,d))){if(!d.K&&Kg(P.h,d)&&P.G==3){try{var j=P.Da.g.parse(y)}catch{j=null}if(Array.isArray(j)&&j.length==3){var $=j;if($[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<d.F)Jf(P),Yf(P);else break e;Jg(P),on(18)}}else P.za=$[1],0<P.za-P.T&&37500>$[2]&&P.F&&P.v==0&&!P.C&&(P.C=ql(h(P.Za,P),6e3));if(1>=jx(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else zo(P,11)}else if((d.K||P.g==d)&&Jf(P),!_(y))for($=P.Da.g.parse(y),y=0;y<$.length;y++){let Ie=$[y];if(P.T=Ie[0],Ie=Ie[1],P.G==2)if(Ie[0]=="c"){P.K=Ie[1],P.ia=Ie[2];const Wt=Ie[3];Wt!=null&&(P.la=Wt,P.j.info("VER="+P.la));const qt=Ie[4];qt!=null&&(P.Aa=qt,P.j.info("SVER="+P.Aa));const Ga=Ie[5];Ga!=null&&typeof Ga=="number"&&0<Ga&&(j=1.5*Ga,P.L=j,P.j.info("backChannelRequestTimeoutMs_="+j)),j=P;const sr=d.g;if(sr){const ed=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ed){var V=j.h;V.g||ed.indexOf("spdy")==-1&&ed.indexOf("quic")==-1&&ed.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Xg(V,V.h),V.h=null))}if(j.D){const ey=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;ey&&(j.ya=ey,Be(j.I,j.D,ey))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-d.F,P.j.info("Handshake RTT: "+P.R+"ms")),j=P;var Z=d;if(j.qa=aE(j,j.J?j.ia:null,j.W),Z.K){Mx(j.h,Z);var Me=Z,Rt=j.L;Rt&&(Me.I=Rt),Me.B&&(Hg(Me),zf(Me)),j.g=Z}else tE(j);0<P.i.length&&Qf(P)}else Ie[0]!="stop"&&Ie[0]!="close"||zo(P,7);else P.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?zo(P,7):Qg(P):Ie[0]!="noop"&&P.l&&P.l.ta(Ie),P.v=0)}}Wl(4)}catch{}}var FL=class{constructor(d,y){this.g=d,this.map=y}};function Nx(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rx(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function jx(d){return d.h?1:d.g?d.g.size:0}function Kg(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Xg(d,y){d.g?d.g.add(y):d.h=y}function Mx(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Nx.prototype.cancel=function(){if(this.i=Dx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Dx(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const P of d.g.values())y=y.concat(P.D);return y}return g(d.i)}function UL(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],P=d.length,j=0;j<P;j++)y.push(d[j]);return y}y=[],P=0;for(j in d)y[P++]=d[j];return y}function BL(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var P=0;P<d;P++)y.push(P);return y}y=[],P=0;for(const j in d)y[P++]=j;return y}}}function $x(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var P=BL(d),j=UL(d),$=j.length,V=0;V<$;V++)y.call(void 0,j[V],P&&P[V],d)}var Lx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zL(d,y){if(d){d=d.split("&");for(var P=0;P<d.length;P++){var j=d[P].indexOf("="),$=null;if(0<=j){var V=d[P].substring(0,j);$=d[P].substring(j+1)}else V=d[P];y(V,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Bo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Bo){this.h=d.h,Wf(this,d.j),this.o=d.o,this.g=d.g,qf(this,d.s),this.l=d.l;var y=d.i,P=new Yl;P.i=y.i,y.g&&(P.g=new Map(y.g),P.h=y.h),Vx(this,P),this.m=d.m}else d&&(y=String(d).match(Lx))?(this.h=!1,Wf(this,y[1]||"",!0),this.o=Kl(y[2]||""),this.g=Kl(y[3]||"",!0),qf(this,y[4]),this.l=Kl(y[5]||"",!0),Vx(this,y[6]||"",!0),this.m=Kl(y[7]||"")):(this.h=!1,this.i=new Yl(null,this.h))}Bo.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Xl(y,Fx,!0),":");var P=this.g;return(P||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Xl(y,Fx,!0),"@"),d.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&d.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&d.push("/"),d.push(Xl(P,P.charAt(0)=="/"?HL:qL,!0))),(P=this.i.toString())&&d.push("?",P),(P=this.m)&&d.push("#",Xl(P,KL)),d.join("")};function ei(d){return new Bo(d)}function Wf(d,y,P){d.j=P?Kl(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function qf(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Vx(d,y,P){y instanceof Yl?(d.i=y,XL(d.i,d.h)):(P||(y=Xl(y,GL)),d.i=new Yl(y,d.h))}function Be(d,y,P){d.i.set(y,P)}function Hf(d){return Be(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Kl(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Xl(d,y,P){return typeof d=="string"?(d=encodeURI(d).replace(y,WL),P&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function WL(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Fx=/[#\/\?@]/g,qL=/[#\?:]/g,HL=/[#\?]/g,GL=/[#\?@]/g,KL=/#/g;function Yl(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Di(d){d.g||(d.g=new Map,d.h=0,d.i&&zL(d.i,function(y,P){d.add(decodeURIComponent(y.replace(/\+/g," ")),P)}))}t=Yl.prototype,t.add=function(d,y){Di(this),this.i=null,d=qa(this,d);var P=this.g.get(d);return P||this.g.set(d,P=[]),P.push(y),this.h+=1,this};function Ux(d,y){Di(d),y=qa(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Bx(d,y){return Di(d),y=qa(d,y),d.g.has(y)}t.forEach=function(d,y){Di(this),this.g.forEach(function(P,j){P.forEach(function($){d.call(y,$,j,this)},this)},this)},t.na=function(){Di(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),P=[];for(let j=0;j<y.length;j++){const $=d[j];for(let V=0;V<$.length;V++)P.push(y[j])}return P},t.V=function(d){Di(this);let y=[];if(typeof d=="string")Bx(this,d)&&(y=y.concat(this.g.get(qa(this,d))));else{d=Array.from(this.g.values());for(let P=0;P<d.length;P++)y=y.concat(d[P])}return y},t.set=function(d,y){return Di(this),this.i=null,d=qa(this,d),Bx(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function zx(d,y,P){Ux(d,y),0<P.length&&(d.i=null,d.g.set(qa(d,y),g(P)),d.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var P=0;P<y.length;P++){var j=y[P];const V=encodeURIComponent(String(j)),Z=this.V(j);for(j=0;j<Z.length;j++){var $=V;Z[j]!==""&&($+="="+encodeURIComponent(String(Z[j]))),d.push($)}}return this.i=d.join("&")};function qa(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function XL(d,y){y&&!d.j&&(Di(d),d.i=null,d.g.forEach(function(P,j){var $=j.toLowerCase();j!=$&&(Ux(this,j),zx(this,$,P))},d)),d.j=y}function YL(d,y){const P=new Hl;if(s.Image){const j=new Image;j.onload=p($i,P,"TestLoadImage: loaded",!0,y,j),j.onerror=p($i,P,"TestLoadImage: error",!1,y,j),j.onabort=p($i,P,"TestLoadImage: abort",!1,y,j),j.ontimeout=p($i,P,"TestLoadImage: timeout",!1,y,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else y(!1)}function QL(d,y){const P=new Hl,j=new AbortController,$=setTimeout(()=>{j.abort(),$i(P,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:j.signal}).then(V=>{clearTimeout($),V.ok?$i(P,"TestPingServer: ok",!0,y):$i(P,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),$i(P,"TestPingServer: error",!1,y)})}function $i(d,y,P,j,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),j(P)}catch{}}function JL(){this.g=new jL}function ZL(d,y,P){const j=P||"";try{$x(d,function($,V){let Z=$;u($)&&(Z=Vg($)),y.push(j+V+"="+encodeURIComponent(Z))})}catch($){throw y.push(j+"type="+encodeURIComponent("_badmap")),$}}function Gf(d){this.l=d.Ub||null,this.j=d.eb||!1}m(Gf,Fg),Gf.prototype.g=function(){return new Kf(this.l,this.j)},Gf.prototype.i=function(d){return function(){return d}}({});function Kf(d,y){zt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Kf,zt),t=Kf.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Jl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||s).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ql(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Jl(this)),this.g&&(this.readyState=3,Jl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wx(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wx(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Ql(this):Jl(this),this.readyState==3&&Wx(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ql(this))},t.Qa=function(d){this.g&&(this.response=d,Ql(this))},t.ga=function(){this.g&&Ql(this)};function Ql(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Jl(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var P=y.next();!P.done;)P=P.value,d.push(P[0]+": "+P[1]),P=y.next();return d.join(`\r
`)};function Jl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Kf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function qx(d){let y="";return I(d,function(P,j){y+=j,y+=":",y+=P,y+=`\r
`}),y}function Yg(d,y,P){e:{for(j in P){var j=!1;break e}j=!0}j||(P=qx(P),typeof d=="string"?P!=null&&encodeURIComponent(String(P)):Be(d,y,P))}function rt(d){zt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(rt,zt);var e4=/^https?$/i,t4=["POST","PUT"];t=rt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,P,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zg.g(),this.v=this.o?_x(this.o):_x(zg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(V){Hx(this,V);return}if(d=P||"",P=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var $ in j)P.set($,j[$]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const V of j.keys())P.set(V,j.get(V));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(P.keys()).find(V=>V.toLowerCase()=="content-type"),$=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(t4,y,void 0))||j||$||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Z]of P)this.g.setRequestHeader(V,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xx(this),this.u=!0,this.g.send(d),this.u=!1}catch(V){Hx(this,V)}};function Hx(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Gx(d),Xf(d)}function Gx(d){d.A||(d.A=!0,rn(d,"complete"),rn(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,rn(this,"complete"),rn(this,"abort"),Xf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xf(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kx(this):this.bb())},t.bb=function(){Kx(this)};function Kx(d){if(d.h&&typeof a<"u"&&(!d.v[1]||ti(d)!=4||d.Z()!=2)){if(d.u&&ti(d)==4)gx(d.Ea,0,d);else if(rn(d,"readystatechange"),ti(d)==4){d.h=!1;try{const Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var P;if(!(P=y)){var j;if(j=Z===0){var $=String(d.D).match(Lx)[1]||null;!$&&s.self&&s.self.location&&($=s.self.location.protocol.slice(0,-1)),j=!e4.test($?$.toLowerCase():"")}P=j}if(P)rn(d,"complete"),rn(d,"success");else{d.m=6;try{var V=2<ti(d)?d.g.statusText:""}catch{V=""}d.l=V+" ["+d.Z()+"]",Gx(d)}}finally{Xf(d)}}}}function Xf(d,y){if(d.g){Xx(d);const P=d.g,j=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||rn(d,"ready");try{P.onreadystatechange=j}catch{}}}function Xx(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ti(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),RL(y)}};function Yx(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function n4(d){const y={};d=(d.g&&2<=ti(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(_(d[j]))continue;var P=C(d[j]);const $=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const V=y[$]||[];y[$]=V,V.push(P)}x(y,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zl(d,y,P){return P&&P.internalChannelParams&&P.internalChannelParams[d]||y}function Qx(d){this.Aa=0,this.i=[],this.j=new Hl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zl("baseRetryDelayMs",5e3,d),this.cb=Zl("retryDelaySeedMs",1e4,d),this.Wa=Zl("forwardChannelMaxRetries",2,d),this.wa=Zl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Nx(d&&d.concurrentRequestLimit),this.Da=new JL,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qx.prototype,t.la=8,t.G=1,t.connect=function(d,y,P,j){on(0),this.W=d,this.H=y||{},P&&j!==void 0&&(this.H.OSID=P,this.H.OAID=j),this.F=this.X,this.I=aE(this,null,this.W),Qf(this)};function Qg(d){if(Jx(d),d.G==3){var y=d.U++,P=ei(d.I);if(Be(P,"SID",d.K),Be(P,"RID",y),Be(P,"TYPE","terminate"),eu(d,P),y=new Mi(d,d.j,y),y.L=2,y.v=Hf(ei(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(y.v.toString(),"")}catch{}!P&&s.Image&&(new Image().src=y.v,P=!0),P||(y.g=sE(y.j,null),y.g.ea(y.v)),y.F=Date.now(),zf(y)}oE(d)}function Yf(d){d.g&&(Zg(d),d.g.cancel(),d.g=null)}function Jx(d){Yf(d),d.u&&(s.clearTimeout(d.u),d.u=null),Jf(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function Qf(d){if(!Rx(d.h)&&!d.s){d.s=!0;var y=d.Ga;W||H(),L||(W(),L=!0),B.add(y,d),d.B=0}}function r4(d,y){return jx(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ql(h(d.Ga,d,y),iE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new Mi(this,this.j,d);let V=this.o;if(this.S&&(V?(V=S(V),N(V,this.S)):V=this.S),this.m!==null||this.O||($.H=V,V=null),this.P)e:{for(var y=0,P=0;P<this.i.length;P++){t:{var j=this.i[P];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(y+=j,4096<y){y=P;break e}if(y===4096||P===this.i.length-1){y=P+1;break e}}y=1e3}else y=1e3;y=eE(this,$,y),P=ei(this.I),Be(P,"RID",d),Be(P,"CVER",22),this.D&&Be(P,"X-HTTP-Session-Id",this.D),eu(this,P),V&&(this.O?y="headers="+encodeURIComponent(String(qx(V)))+"&"+y:this.m&&Yg(P,this.m,V)),Xg(this.h,$),this.Ua&&Be(P,"TYPE","init"),this.P?(Be(P,"$req",y),Be(P,"SID","null"),$.T=!0,qg($,P,null)):qg($,P,y),this.G=2}}else this.G==3&&(d?Zx(this,d):this.i.length==0||Rx(this.h)||Zx(this))};function Zx(d,y){var P;y?P=y.l:P=d.U++;const j=ei(d.I);Be(j,"SID",d.K),Be(j,"RID",P),Be(j,"AID",d.T),eu(d,j),d.m&&d.o&&Yg(j,d.m,d.o),P=new Mi(d,d.j,P,d.B+1),d.m===null&&(P.H=d.o),y&&(d.i=y.D.concat(d.i)),y=eE(d,P,1e3),P.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Xg(d.h,P),qg(P,j,y)}function eu(d,y){d.H&&I(d.H,function(P,j){Be(y,j,P)}),d.l&&$x({},function(P,j){Be(y,j,P)})}function eE(d,y,P){P=Math.min(d.i.length,P);var j=d.l?h(d.l.Na,d.l,d):null;e:{var $=d.i;let V=-1;for(;;){const Z=["count="+P];V==-1?0<P?(V=$[0].g,Z.push("ofs="+V)):V=0:Z.push("ofs="+V);let Me=!0;for(let Rt=0;Rt<P;Rt++){let Ie=$[Rt].g;const Wt=$[Rt].map;if(Ie-=V,0>Ie)V=Math.max(0,$[Rt].g-100),Me=!1;else try{ZL(Wt,Z,"req"+Ie+"_")}catch{j&&j(Wt)}}if(Me){j=Z.join("&");break e}}}return d=d.i.splice(0,P),y.D=d,j}function tE(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;W||H(),L||(W(),L=!0),B.add(y,d),d.v=0}}function Jg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ql(h(d.Fa,d),iE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,nE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ql(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),Yf(this),nE(this))};function Zg(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function nE(d){d.g=new Mi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=ei(d.qa);Be(y,"RID","rpc"),Be(y,"SID",d.K),Be(y,"AID",d.T),Be(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Be(y,"TO",d.ja),Be(y,"TYPE","xmlhttp"),eu(d,y),d.m&&d.o&&Yg(y,d.m,d.o),d.L&&(d.g.I=d.L);var P=d.g;d=d.ia,P.L=1,P.v=Hf(ei(y)),P.m=null,P.P=!0,Ox(P,d)}t.Za=function(){this.C!=null&&(this.C=null,Yf(this),Jg(this),on(19))};function Jf(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function rE(d,y){var P=null;if(d.g==y){Jf(d),Zg(d),d.g=null;var j=2}else if(Kg(d.h,y))P=y.D,Mx(d.h,y),j=1;else return;if(d.G!=0){if(y.o)if(j==1){P=y.m?y.m.length:0,y=Date.now()-y.F;var $=d.B;j=Ff(),rn(j,new Tx(j,P)),Qf(d)}else tE(d);else if($=y.s,$==3||$==0&&0<y.X||!(j==1&&r4(d,y)||j==2&&Jg(d)))switch(P&&0<P.length&&(y=d.h,y.i=y.i.concat(P)),$){case 1:zo(d,5);break;case 4:zo(d,10);break;case 3:zo(d,6);break;default:zo(d,2)}}}function iE(d,y){let P=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(P*=2),P*y}function zo(d,y){if(d.j.info("Error code "+y),y==2){var P=h(d.fb,d),j=d.Xa;const $=!j;j=new Bo(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Wf(j,"https"),Hf(j),$?YL(j.toString(),P):QL(j.toString(),P)}else on(2);d.G=0,d.l&&d.l.sa(y),oE(d),Jx(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function oE(d){if(d.G=0,d.ka=[],d.l){const y=Dx(d.h);(y.length!=0||d.i.length!=0)&&(v(d.ka,y),v(d.ka,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.ra()}}function aE(d,y,P){var j=P instanceof Bo?ei(P):new Bo(P);if(j.g!="")y&&(j.g=y+"."+j.g),qf(j,j.s);else{var $=s.location;j=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var V=new Bo(null);j&&Wf(V,j),y&&(V.g=y),$&&qf(V,$),P&&(V.l=P),j=V}return P=d.D,y=d.ya,P&&y&&Be(j,P,y),Be(j,"VER",d.la),eu(d,j),j}function sE(d,y,P){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new rt(new Gf({eb:P})):new rt(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lE(){}t=lE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zf(){}Zf.prototype.g=function(d,y){return new En(d,y)};function En(d,y){zt.call(this),this.g=new Qx(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!_(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!_(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Ha(this)}m(En,zt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Qg(this.g)},En.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var P={};P.__data__=d,d=P}else this.u&&(P={},P.__data__=Vg(d),d=P);y.i.push(new FL(y.Ya++,d)),y.G==3&&Qf(y)},En.prototype.N=function(){this.g.l=null,delete this.j,Qg(this.g),delete this.g,En.aa.N.call(this)};function uE(d){Ug.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const P in y){d=P;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}m(uE,Ug);function cE(){Bg.call(this),this.status=1}m(cE,Bg);function Ha(d){this.g=d}m(Ha,lE),Ha.prototype.ua=function(){rn(this.g,"a")},Ha.prototype.ta=function(d){rn(this.g,new uE(d))},Ha.prototype.sa=function(d){rn(this.g,new cE)},Ha.prototype.ra=function(){rn(this.g,"b")},Zf.prototype.createWebChannel=Zf.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,v2=function(){return new Zf},y2=function(){return Ff()},g2=Fo,_0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Uf.NO_ERROR=0,Uf.TIMEOUT=8,Uf.HTTP_ERROR=6,Jd=Uf,Ax.COMPLETE="complete",m2=Ax,wx.EventType=zl,zl.OPEN="a",zl.CLOSE="b",zl.ERROR="c",zl.MESSAGE="d",zt.prototype.listen=zt.prototype.K,Au=wx,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,p2=rt}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const WS="@firebase/firestore",qS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new xm("@firebase/firestore");function Za(){return ga.logLevel}function ie(t,...e){if(ga.logLevel<=_e.DEBUG){const n=e.map(gw);ga.debug(`Firestore (${xl}): ${t}`,...n)}}function Si(t,...e){if(ga.logLevel<=_e.ERROR){const n=e.map(gw);ga.error(`Firestore (${xl}): ${t}`,...n)}}function Us(t,...e){if(ga.logLevel<=_e.WARN){const n=e.map(gw);ga.warn(`Firestore (${xl}): ${t}`,...n)}}function gw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,b2(t,r,n)}function b2(t,e,n){let r=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Si(r),new Error(r)}function Ce(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||b2(e,i,r)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class IU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OU{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new _2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class kU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const r=o=>{o.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new HS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=RU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function w0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Ry(i)===Ry(o)?we(i,o):Ry(i)?1:-1}return we(t.length,e.length)}const jU=55296,MU=57343;function Ry(t){const e=t.charCodeAt(0);return e>=jU&&e<=MU}function Bs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="__name__";class Rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Rr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return we(e.length,n.length)}static compareSegments(e,n){const r=Rr.isNumericId(e),i=Rr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Rr.extractNumericId(e).compare(Rr.extractNumericId(n)):w0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class Fe extends Rr{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const DU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Rr{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return DU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GS}static keyField(){return new $t([GS])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new re(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new re(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new re(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Fe.fromString(e))}static fromName(e){return new se(Fe.fromString(e).popFirst(5))}static empty(){return new se(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Fe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e,n){if(!n)throw new re(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $U(t,e,n,r){if(e===!0&&r===!0)throw new re(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KS(t){if(!se.isDocumentKey(t))throw new re(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XS(t){if(se.isDocumentKey(t))throw new re(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function x2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sm(t);throw new re(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function yf(t,e){if(!x2(t))throw new re(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new re(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=-62135596800,QS=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*QS);return new He(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<YS)throw new re(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QS}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yf(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-YS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:mt("string",He._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new He(0,0))}static max(){return new de(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=-1;function LU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new _o(i,se.empty(),e)}function VU(t){return new _o(t.readTime,t.key,bc)}class _o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _o(de.min(),se.empty(),bc)}static max(){return new _o(de.max(),se.empty(),bc)}}function FU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==UU)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new K((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function zU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=-1;function Am(t){return t==null}function Dh(t){return t===0&&1/t==-1/0}function WU(t){return typeof t=="number"&&Number.isInteger(t)&&!Dh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="";function qU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=JS(e)),e=HU(t.get(n),e);return JS(e)}function HU(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case E2:n+="";break;default:n+=o}}return n}function JS(t){return t+E2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}}class _d{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=i??Dt.EMPTY,this.right=o??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Dt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eT(this.data.getIterator())}getIteratorFrom(e){return new eT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class eT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Et($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new T2("Invalid base64 string: "+o):o}}(e);return new Ut(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const GU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=GU.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="server_timestamp",P2="__type__",I2="__previous_value__",O2="__local_write_time__";function bw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[P2])==null?void 0:r.stringValue)===A2}function Pm(t){const e=t.mapValue.fields[I2];return bw(e)?Pm(e):e}function _c(t){const e=wo(t.mapValue.fields[O2].timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r,i,o,a,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const $h="(default)";class wc{constructor(e,n){this.projectId=e,this.database=n||$h}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="__type__",C2="__max__",wd={mapValue:{fields:{__type__:{stringValue:C2}}}},N2="__vector__",Lh="value";function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bw(t)?4:YU(t)?9007199254740991:XU(t)?10:11:ce(28295,{value:t})}function Gr(t,e){if(t===e)return!0;const n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _c(t).isEqual(_c(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=wo(i.timestampValue),s=wo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return xo(i.bytesValue).isEqual(xo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return st(i.geoPointValue.latitude)===st(o.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return st(i.integerValue)===st(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=st(i.doubleValue),s=st(o.doubleValue);return a===s?Dh(a)===Dh(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Bs(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(ZS(a)!==ZS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Gr(a[l],s[l])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function xc(t,e){return(t.values||[]).find(n=>Gr(n,e))!==void 0}function zs(t,e){if(t===e)return 0;const n=Eo(t),r=Eo(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=st(o.integerValue||o.doubleValue),l=st(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return tT(t.timestampValue,e.timestampValue);case 4:return tT(_c(t),_c(e));case 5:return w0(t.stringValue,e.stringValue);case 6:return function(o,a){const s=xo(o),l=xo(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=we(s[u],l[u]);if(c!==0)return c}return we(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=we(st(o.latitude),st(a.latitude));return s!==0?s:we(st(o.longitude),st(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nT(t.arrayValue,e.arrayValue);case 10:return function(o,a){var h,p,m,g;const s=o.fields||{},l=a.fields||{},u=(h=s[Lh])==null?void 0:h.arrayValue,c=(p=l[Lh])==null?void 0:p.arrayValue,f=we(((m=u==null?void 0:u.values)==null?void 0:m.length)||0,((g=c==null?void 0:c.values)==null?void 0:g.length)||0);return f!==0?f:nT(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===wd.mapValue&&a===wd.mapValue)return 0;if(o===wd.mapValue)return 1;if(a===wd.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=w0(l[f],c[f]);if(h!==0)return h;const p=zs(s[l[f]],u[c[f]]);if(p!==0)return p}return we(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function tT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=wo(t),r=wo(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function nT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=zs(n[i],r[i]);if(o)return o}return we(n.length,r.length)}function Ws(t){return x0(t)}function x0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=x0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${x0(n.fields[a])}`;return i+"}"}(t.mapValue):ce(61005,{value:t})}function Zd(t){switch(Eo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pm(t);return e?16+Zd(e):16;case 5:return 2*t.stringValue.length;case 6:return xo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Zd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Co(r.fields,(o,a)=>{i+=o.length+Zd(a)}),i}(t.mapValue);default:throw ce(13486,{value:t})}}function rT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function E0(t){return!!t&&"integerValue"in t}function _w(t){return!!t&&"arrayValue"in t}function iT(t){return!!t&&"nullValue"in t}function oT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eh(t){return!!t&&"mapValue"in t}function XU(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[k2])==null?void 0:r.stringValue)===N2}function Bu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bu(t.arrayValue.values[n]);return e}return{...t}}function YU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===C2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(n)}setAll(e){let n=$t.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Bu(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];eh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Co(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new pn(Bu(this.value))}}function R2(t){const e=[];return Co(t.fields,(n,r)=>{const i=new $t([n]);if(eh(r)){const o=R2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Jt(e,0,de.min(),de.min(),de.min(),pn.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,de.min(),de.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,de.min(),de.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function aT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=se.comparator(se.fromName(a.referenceValue),n.key):r=zs(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function sT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function QU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{}class pt extends j2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZU(e,n,r):n==="array-contains"?new nB(e,r):n==="in"?new rB(e,r):n==="not-in"?new iB(e,r):n==="array-contains-any"?new oB(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eB(e,r):new tB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zs(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends j2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ar(e,n)}matches(e){return M2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M2(t){return t.op==="and"}function D2(t){return JU(t)&&M2(t)}function JU(t){for(const e of t.filters)if(e instanceof Ar)return!1;return!0}function S0(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Ws(t.value);if(D2(t))return t.filters.map(e=>S0(e)).join(",");{const e=t.filters.map(n=>S0(n)).join(",");return`${t.op}(${e})`}}function $2(t,e){return t instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&Gr(r.value,i.value)}(t,e):t instanceof Ar?function(r,i){return i instanceof Ar&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&$2(a,i.filters[s]),!0):!1}(t,e):void ce(19439)}function L2(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ws(n.value)}`}(t):t instanceof Ar?function(n){return n.op.toString()+" {"+n.getFilters().map(L2).join(" ,")+"}"}(t):"Filter"}class ZU extends pt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class eB extends pt{constructor(e,n){super(e,"in",n),this.keys=V2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tB extends pt{constructor(e,n){super(e,"not-in",n),this.keys=V2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function V2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class nB extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _w(n)&&xc(n.arrayValue,this.value)}}class rB extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xc(this.value.arrayValue,n)}}class iB extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xc(this.value.arrayValue,n)}}class oB extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_w(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Te=null}}function lT(t,e=null,n=[],r=[],i=null,o=null,a=null){return new aB(t,e,n,r,i,o,a)}function ww(t){const e=pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>S0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ws(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ws(r)).join(",")),e.Te=n}return e.Te}function xw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sT(t.startAt,e.startAt)&&sT(t.endAt,e.endAt)}function T0(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sB(t,e,n,r,i,o,a,s){return new vf(t,e,n,r,i,o,a,s)}function Ew(t){return new vf(t)}function uT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F2(t){return t.collectionGroup!==null}function zu(t){const e=pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Et($t.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Fh(o,r))}),n.has($t.keyField().canonicalString())||e.Ie.push(new Fh($t.keyField(),r))}return e.Ie}function Vr(t){const e=pe(t);return e.Ee||(e.Ee=lB(e,zu(t))),e.Ee}function lB(t,e){if(t.limitType==="F")return lT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Fh(i.field,o)});const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;return lT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function A0(t,e){const n=t.filters.concat([e]);return new vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function P0(t,e,n){return new vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Im(t,e){return xw(Vr(t),Vr(e))&&t.limitType===e.limitType}function U2(t){return`${ww(Vr(t))}|lt:${t.limitType}`}function es(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>L2(i)).join(", ")}]`),Am(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ws(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ws(i)).join(",")),`Target(${r})`}(Vr(t))}; limitType=${t.limitType})`}function Om(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):se.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of zu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=aT(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,zu(r),i)||r.endAt&&!function(a,s,l){const u=aT(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,zu(r),i))}(t,e)}function uB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function B2(t){return(e,n)=>{let r=!1;for(const i of zu(t)){const o=cB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function cB(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?zs(l,u):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return S2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=new tt(se.comparator);function Ti(){return fB}const z2=new tt(se.comparator);function Pu(...t){let e=z2;for(const n of t)e=e.insert(n.key,n);return e}function W2(t){let e=z2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ea(){return Wu()}function q2(){return Wu()}function Wu(){return new Ra(t=>t.toString(),(t,e)=>t.isEqual(e))}const dB=new tt(se.comparator),hB=new Et(se.comparator);function xe(...t){let e=hB;for(const n of t)e=e.add(n);return e}const pB=new Et(we);function mB(){return pB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function H2(t){return{integerValue:""+t}}function gB(t,e){return WU(e)?H2(e):Sw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this._=void 0}}function yB(t,e,n){return t instanceof Uh?function(i,o){const a={fields:{[P2]:{stringValue:A2},[O2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&bw(o)&&(o=Pm(o)),o&&(a.fields[I2]=o),{mapValue:a}}(n,e):t instanceof Ec?K2(t,e):t instanceof Sc?X2(t,e):function(i,o){const a=G2(i,o),s=cT(a)+cT(i.Ae);return E0(a)&&E0(i.Ae)?H2(s):Sw(i.serializer,s)}(t,e)}function vB(t,e,n){return t instanceof Ec?K2(t,e):t instanceof Sc?X2(t,e):n}function G2(t,e){return t instanceof Bh?function(r){return E0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Uh extends km{}class Ec extends km{constructor(e){super(),this.elements=e}}function K2(t,e){const n=Y2(e);for(const r of t.elements)n.some(i=>Gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Sc extends km{constructor(e){super(),this.elements=e}}function X2(t,e){let n=Y2(e);for(const r of t.elements)n=n.filter(i=>!Gr(i,r));return{arrayValue:{values:n}}}class Bh extends km{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function cT(t){return st(t.integerValue||t.doubleValue)}function Y2(t){return _w(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ec&&i instanceof Ec||r instanceof Sc&&i instanceof Sc?Bs(r.elements,i.elements,Gr):r instanceof Bh&&i instanceof Bh?Gr(r.Ae,i.Ae):r instanceof Uh&&i instanceof Uh}(t.transform,e.transform)}class _B{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cm{}function Q2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tw(t.key,Xn.none()):new bf(t.key,t.data,Xn.none());{const n=t.data,r=pn.empty();let i=new Et($t.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new No(t.key,r,new Nn(i.toArray()),Xn.none())}}function wB(t,e,n){t instanceof bf?function(i,o,a){const s=i.value.clone(),l=dT(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof No?function(i,o,a){if(!th(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=dT(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(J2(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function qu(t,e,n,r){return t instanceof bf?function(o,a,s,l){if(!th(o.precondition,a))return s;const u=o.value.clone(),c=hT(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof No?function(o,a,s,l){if(!th(o.precondition,a))return s;const u=hT(o.fieldTransforms,l,a),c=a.data;return c.setAll(J2(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return th(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function xB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=G2(r.transform,i||null);o!=null&&(n===null&&(n=pn.empty()),n.set(r.field,o))}return n||null}function fT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bs(r,i,(o,a)=>bB(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bf extends Cm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class No extends Cm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function J2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dT(t,e,n){const r=new Map;Ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,vB(a,s,n[i]))}return r}function hT(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,yB(o,a,e))}return r}class Tw extends Cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EB extends Cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&wB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=q2();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=Q2(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,(n,r)=>fT(n,r))&&Bs(this.baseMutations,e.baseMutations,(n,r)=>fT(n,r))}}class Aw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return dB}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new Aw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Se;function PB(t){switch(t){case G.OK:return ce(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function Z2(t){if(t===void 0)return Si("GRPC error has no .code"),G.UNKNOWN;switch(t){case ft.OK:return G.OK;case ft.CANCELLED:return G.CANCELLED;case ft.UNKNOWN:return G.UNKNOWN;case ft.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case ft.INTERNAL:return G.INTERNAL;case ft.UNAVAILABLE:return G.UNAVAILABLE;case ft.UNAUTHENTICATED:return G.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case ft.NOT_FOUND:return G.NOT_FOUND;case ft.ALREADY_EXISTS:return G.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return G.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case ft.ABORTED:return G.ABORTED;case ft.OUT_OF_RANGE:return G.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return G.UNIMPLEMENTED;case ft.DATA_LOSS:return G.DATA_LOSS;default:return ce(39323,{code:t})}}(Se=ft||(ft={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=new ho([4294967295,4294967295],0);function pT(t){const e=IB().encode(t),n=new h2;return n.update(e),new Uint8Array(n.digest())}function mT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ho([n,r],0),new ho([i,o],0)]}class Pw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Iu(`Invalid padding: ${n}`);if(r<0)throw new Iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ho.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ho.fromNumber(r)));return i.compare(OB)===1&&(i=new ho([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pT(e),[r,i]=mT(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Pw(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.ge===0)return;const n=pT(e),[r,i]=mT(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_f.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nm(de.min(),i,new tt(we),Ti(),xe())}}class _f{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _f(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class eR{constructor(e,n){this.targetId=e,this.Ce=n}}class tR{constructor(e,n,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gT{constructor(){this.ve=0,this.Fe=yT(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),n=xe(),r=xe();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce(38017,{changeType:o})}}),new _f(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=yT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kB{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ti(),this.Je=xd(),this.He=xd(),this.Ye=new tt(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(T0(o))if(r===0){const a=new se(o.path);this.et(n,a,Jt.newNoDocument(a,de.min()))}else Ce(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const s=this.ut(e),l=s?this.ct(s,e,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=xo(r).toUint8Array()}catch(l){if(l instanceof T2)return Us("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Pw(a,i,o)}catch(l){return Us(l instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Ge.ht(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const s=this.ot(a);if(s){if(o.current&&T0(s.target)){const l=new se(s.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Jt.newNoDocument(l,e))}o.Be&&(n.set(a,o.ke()),o.qe())}});let r=xe();this.He.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const i=new Nm(e,n,this.Ye,this.je,r);return this.je=Ti(),this.Je=xd(),this.He=xd(),this.Ye=new tt(we),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new gT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Et(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Et(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xd(){return new tt(se.comparator)}function yT(){return new tt(se.comparator)}const CB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),NB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),RB=(()=>({and:"AND",or:"OR"}))();class jB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function I0(t,e){return t.useProto3Json||Am(e)?e:{value:e}}function zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MB(t,e){return zh(t,e.toTimestamp())}function Fr(t){return Ce(!!t,49232),de.fromTimestamp(function(n){const r=wo(n);return new He(r.seconds,r.nanos)}(t))}function Iw(t,e){return O0(t,e).canonicalString()}function O0(t,e){const n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rR(t){const e=Fe.fromString(t);return Ce(lR(e),10190,{key:e.toString()}),e}function k0(t,e){return Iw(t.databaseId,e.path)}function jy(t,e){const n=rR(e);if(n.get(1)!==t.databaseId.projectId)throw new re(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(oR(n))}function iR(t,e){return Iw(t.databaseId,e)}function DB(t){const e=rR(t);return e.length===4?Fe.emptyPath():oR(e)}function C0(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oR(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vT(t,e,n){return{name:k0(t,e),fields:n.value.mapValue.fields}}function $B(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ce(c===void 0||typeof c=="string",58123),Ut.fromBase64String(c||"")):(Ce(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Ut.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?G.UNKNOWN:Z2(u.code);return new re(c,u.message||"")}(a);n=new tR(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jy(t,r.document.name),o=Fr(r.document.updateTime),a=r.document.createTime?Fr(r.document.createTime):de.min(),s=new pn({mapValue:{fields:r.document.fields}}),l=Jt.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new nh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jy(t,r.document),o=r.readTime?Fr(r.readTime):de.min(),a=Jt.newNoDocument(i,o),s=r.removedTargetIds||[];n=new nh([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jy(t,r.document),o=r.removedTargetIds||[];n=new nh([],o,i,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new AB(i,o),s=r.targetId;n=new eR(s,a)}}return n}function LB(t,e){let n;if(e instanceof bf)n={update:vT(t,e.key,e.value)};else if(e instanceof Tw)n={delete:k0(t,e.key)};else if(e instanceof No)n={update:vT(t,e.key,e.data),updateMask:GB(e.fieldMask)};else{if(!(e instanceof EB))return ce(16599,{Vt:e.type});n={verify:k0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof Uh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ec)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Sc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Bh)return{fieldPath:a.field.canonicalString(),increment:s.Ae};throw ce(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:MB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce(27497)}(t,e.precondition)),n}function VB(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map(n=>function(i,o){let a=i.updateTime?Fr(i.updateTime):Fr(o);return a.isEqual(de.min())&&(a=Fr(o)),new _B(a,i.transformResults||[])}(n,e))):[]}function FB(t,e){return{documents:[iR(t,e.path)]}}function UB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iR(t,i);const o=function(u){if(u.length!==0)return sR(Ar.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:ts(h.field),direction:WB(h.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=I0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function BB(t){let e=DB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=aR(f);return h instanceof Ar&&D2(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(m){return new Fh(ns(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Am(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Vh(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new Vh(p,h)}(n.endAt)),sB(e,i,a,o,s,"F",l,u)}function zB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ns(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ns(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ns(n.unaryFilter.field);return pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ns(n.unaryFilter.field);return pt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return pt.create(ns(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ar.create(n.compositeFilter.filters.map(r=>aR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function WB(t){return CB[t]}function qB(t){return NB[t]}function HB(t){return RB[t]}function ts(t){return{fieldPath:t.canonicalString()}}function ns(t){return $t.fromServerFormat(t.fieldPath)}function sR(t){return t instanceof pt?function(n){if(n.op==="=="){if(oT(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NAN"}};if(iT(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oT(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NAN"}};if(iT(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(n.field),op:qB(n.op),value:n.value}}}(t):t instanceof Ar?function(n){const r=n.getFilters().map(i=>sR(i));return r.length===1?r[0]:{compositeFilter:{op:HB(n.op),filters:r}}}(t):ce(54877,{filter:t})}function GB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,i,o=de.min(),a=de.min(),s=Ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.yt=e}}function XB(t){const e=BB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?P0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(){this.Cn=new QB}addToCollectionParentIndex(e,n){return this.Cn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(_o.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class QB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(Fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uR=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(uR,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qs(0)}static cr(){return new qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="LruGarbageCollector",JB=1048576;function wT([t,e],[n,r]){const i=we(t,n);return i===0?we(e,r):i}class ZB{constructor(e){this.Ir=e,this.buffer=new Et(wT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class e5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(_T,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sl(n)?ie(_T,"Ignoring IndexedDB error during garbage collection: ",n):await El(n)}await this.Vr(3e5)})}}class t5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(Tm.ce);const r=new ZB(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(bT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,a,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Za()<=_e.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function n5(t,e){return new t5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.changes=new Ra(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qu(r.mutation,i,Nn.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=ea();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Pu();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ea();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Ti();const a=Wu(),s=function(){return Wu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof No)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),qu(c.mutation,u,c.mutation.getFieldMask(),He.now())):a.set(u.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>s.set(u,new i5(c,a.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=Wu();let i=new tt((a,s)=>a-s),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Nn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||xe()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=q2();c.forEach(h=>{if(!o.has(h)){const p=Q2(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return K.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return se.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):K.resolve(ea());let s=bc,l=o;return a.next(u=>K.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?K.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,xe())).next(c=>({batchId:s,changes:W2(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Pu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Pu();return this.indexManager.getCollectionParents(e,o).next(s=>K.forEach(s,l=>{const u=function(f,h){return new vf(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Jt.newInvalidDocument(c)))});let s=Pu();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&qu(c.mutation,u,Nn.empty(),He.now()),Om(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return K.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fr(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:XB(i.bundledQuery),readTime:Fr(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.overlays=new tt(se.comparator),this.qr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ea();return K.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=ea(),o=n.length+1,a=new se(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new tt((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ea(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=ea(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return K.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new TB(n,r));let o=this.qr.get(n);o===void 0&&(o=xe(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.Qr=new Et(At.$r),this.Ur=new Et(At.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new At(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new At(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new se(new Fe([])),r=new At(n,e),i=new At(n,e+1),o=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new se(new Fe([])),r=new At(n,e),i=new At(n,e+1);let o=xe();return this.Ur.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new At(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return se.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Et(At.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new SB(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.Zr=this.Zr.add(new At(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?vw:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],a=>{const s=this.Xr(a.Yr);o.push(s)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(we);return n.forEach(i=>{const o=new At(i,0),a=new At(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],s=>{r=r.add(s.Yr)})}),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;se.isDocumentKey(o)||(o=o.child(""));const a=new At(new se(o),0);let s=new Et(we);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},a),K.resolve(this.ti(s))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(n.mutations,i=>{const o=new At(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new At(n,0),i=this.Zr.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.ri=e,this.docs=function(){return new tt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=Ti();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Jt.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ti();const a=n.path,s=new se(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||FU(VU(c),r)<=0||(i.has(c.key)||Om(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ce(9500)}ii(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new f5(this)}getSize(e){return K.resolve(this.size)}}class f5 extends r5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.persistence=e,this.si=new Ra(n=>ww(n),xw),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.oi=0,this._i=new Ow,this.targetCount=0,this.ai=qs.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),K.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qs(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Pr(n),K.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),K.waitFor(o).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Tm(0),this.li=!1,this.li=!0,this.hi=new l5,this.referenceDelegate=e(this),this.Pi=new d5(this),this.indexManager=new YB,this.remoteDocumentCache=function(i){return new c5(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new KB(n),this.Ii=new a5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new s5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new u5(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new h5(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return K.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class h5 extends BU{constructor(e){super(),this.currentSequenceNumber=e}}class kw{constructor(e){this.persistence=e,this.Ri=new Ow,this.Vi=null}static mi(e){return new kw(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,r=>{const i=se.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,de.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return K.or([()=>K.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wh{constructor(e,n){this.persistence=e,this.pi=new Ra(r=>qU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=n5(this,n)}static mi(e,n){return new Wh(e,n)}Ei(){}di(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return K.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?K.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(s=>{s||(r++,o.removeEntry(a,de.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zd(e.data.value)),n}br(e,n,r){return K.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return K.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=xe(),i=xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Cw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return sF()?8:zU(nn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new p5;return this.Ss(e,n,a).next(s=>{if(o.result=s,this.Vs)return this.bs(e,n,a,s.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Za()<=_e.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Za()<=_e.DEBUG&&ie("QueryEngine","Query:",es(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Za()<=_e.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):K.resolve())}ys(e,n){if(uT(n))return K.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=P0(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=xe(...o);return this.ps.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,s);return this.Cs(n,u,a,l.readTime)?this.ys(e,P0(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return uT(n)||i.isEqual(de.min())?K.resolve(null):this.ps.getDocuments(e,r).next(o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,i)?K.resolve(null):(Za()<=_e.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),es(n)),this.vs(e,a,n,LU(i,bc)).next(s=>s))})}Ds(e,n){let r=new Et(B2(e));return n.forEach((i,o)=>{Om(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Za()<=_e.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",es(n)),this.ps.getDocumentsMatchingQuery(e,n,_o.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="LocalStore",g5=3e8;class y5{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new tt(we),this.xs=new Ra(o=>ww(o),xw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function v5(t,e,n,r){return new y5(t,e,n,r)}async function fR(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=xe();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:s}))})})}function b5(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,h=f.keys();let p=K.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const v=u.docVersions.get(m);Ce(v!==null,48541),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=xe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dR(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function _5(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Ut.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,v,b){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=g5?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,c)&&s.push(n.Pi.updateTargetData(o,p))});let l=Ti(),u=xe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(w5(o,a,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(de.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return K.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function w5(t,e,n){let r=xe(),i=xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Ti();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):ie(Nw,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:a,qs:i}})}function x5(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=vw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function E5(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,K.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new Zi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function N0(t,e,n){const r=pe(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Sl(a))throw a;ie(Nw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function xT(t,e,n){const r=pe(t);let i=de.min(),o=xe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=pe(l),h=f.xs.get(c);return h!==void 0?K.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,c)}(r,a,Vr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:de.min(),n?o:xe())).next(s=>(S5(r,uB(e),s),{documents:s,Qs:o})))}function S5(t,e,n){let r=t.Os.get(e)||de.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class ET{constructor(){this.activeTargetIds=mB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T5{constructor(){this.Mo=new ET,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ET,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="ConnectivityMonitor";class TT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(ST,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(ST,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed=null;function R0(){return Ed===null?Ed=function(){return 268435456+Math.round(2147483648*Math.random())}():Ed++,"0x"+Ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="RestConnection",P5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class I5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$h?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const a=R0(),s=this.zo(e,n.toUriEncodedString());ie(My,`Sending RPC '${e}' ${a}:`,s,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(s),c=ka(u);return this.Jo(e,s,l,r,c).then(f=>(ie(My,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Us(My,`RPC '${e}' ${a} failed with error: `,f,"url: ",s,"request:",r),f})}Ho(e,n,r,i,o,a){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=P5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class k5 extends I5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const a=R0();return new Promise((s,l)=>{const u=new p2;u.setWithCredentials(!0),u.listenOnce(m2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Jd.NO_ERROR:const f=u.getResponseJson();ie(Kt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),s(f);break;case Jd.TIMEOUT:ie(Kt,`RPC '${e}' ${a} timed out`),l(new re(G.DEADLINE_EXCEEDED,"Request time out"));break;case Jd.HTTP_ERROR:const h=u.getStatus();if(ie(Kt,`RPC '${e}' ${a} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(_)>=0?_:G.UNKNOWN}(m.status);l(new re(g,m.message))}else l(new re(G.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new re(G.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ie(Kt,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);ie(Kt,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=R0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=v2(),s=y2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ie(Kt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);this.I_(f);let h=!1,p=!1;const m=new O5({Yo:v=>{p?ie(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ie(Kt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ie(Kt,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},Zo:()=>f.close()}),g=(v,b,_)=>{v.listen(b,w=>{try{_(w)}catch(O){setTimeout(()=>{throw O},0)}})};return g(f,Au.EventType.OPEN,()=>{p||(ie(Kt,`RPC '${e}' stream ${i} transport opened.`),m.o_())}),g(f,Au.EventType.CLOSE,()=>{p||(p=!0,ie(Kt,`RPC '${e}' stream ${i} transport closed`),m.a_(),this.E_(f))}),g(f,Au.EventType.ERROR,v=>{p||(p=!0,Us(Kt,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),m.a_(new re(G.UNAVAILABLE,"The operation could not be completed")))}),g(f,Au.EventType.MESSAGE,v=>{var b;if(!p){const _=v.data[0];Ce(!!_,16349);const w=_,O=(w==null?void 0:w.error)||((b=w[0])==null?void 0:b.error);if(O){ie(Kt,`RPC '${e}' stream ${i} received error:`,O);const A=O.status;let I=function(T){const N=ft[T];if(N!==void 0)return Z2(N)}(A),x=O.message;I===void 0&&(I=G.INTERNAL,x="Unknown error status: "+A+" with message "+O.message),p=!0,m.a_(new re(I,x)),f.close()}else ie(Kt,`RPC '${e}' stream ${i} received:`,_),m.u_(_)}}),g(s,g2.STAT_EVENT,v=>{v.stat===_0.PROXY?ie(Kt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===_0.NOPROXY&&ie(Kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.__()},0),m}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Dy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t){return new jB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="PersistentStream";class pR{constructor(e,n,r,i,o,a,s,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new re(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ie(AT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ie(AT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C5 extends pR{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$B(this.serializer,e),r=function(o){if(!("targetChange"in o))return de.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?de.min():a.readTime?Fr(a.readTime):de.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=C0(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=T0(l)?{documents:FB(o,l)}:{query:UB(o,l).ft},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=nR(o,a.resumeToken);const u=I0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(de.min())>0){s.readTime=zh(o,a.snapshotVersion.toTimestamp());const u=I0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=zB(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=C0(this.serializer),n.removeTarget=e,this.q_(n)}}class N5 extends pR{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=VB(e.writeResults,e.commitTime),r=Fr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=C0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>LB(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{}class j5 extends R5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new re(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(e,O0(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(G.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Ho(e,O0(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new re(G.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class M5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(n),this.aa=!1):ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class D5{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{ja(this)&&(ie(ya,"Restarting streams for network reachability change."),await async function(l){const u=pe(l);u.Ea.add(4),await wf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await jm(u)}(this))})}),this.Ra=new M5(r,i)}}async function jm(t){if(ja(t))for(const e of t.da)await e(!0)}async function wf(t){for(const e of t.da)await e(!1)}function mR(t,e){const n=pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Dw(n)?Mw(n):Tl(n).O_()&&jw(n,e))}function Rw(t,e){const n=pe(t),r=Tl(n);n.Ia.delete(e),r.O_()&&gR(n,e),n.Ia.size===0&&(r.O_()?r.L_():ja(n)&&n.Ra.set("Unknown"))}function jw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tl(t).Y_(e)}function gR(t,e){t.Va.Ue(e),Tl(t).Z_(e)}function Mw(t){t.Va=new kB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Tl(t).start(),t.Ra.ua()}function Dw(t){return ja(t)&&!Tl(t).x_()&&t.Ia.size>0}function ja(t){return pe(t).Ea.size===0}function yR(t){t.Va=void 0}async function $5(t){t.Ra.set("Online")}async function L5(t){t.Ia.forEach((e,n)=>{jw(t,e)})}async function V5(t,e){yR(t),Dw(t)?(t.Ra.ha(e),Mw(t)):t.Ra.set("Unknown")}async function F5(t,e,n){if(t.Ra.set("Online"),e instanceof tR&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(r){ie(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qh(t,r)}else if(e instanceof nh?t.Va.Ze(e):e instanceof eR?t.Va.st(e):t.Va.tt(e),!n.isEqual(de.min()))try{const r=await dR(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Va.Tt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(Ut.EMPTY_BYTE_STRING,c.snapshotVersion)),gR(o,l);const f=new Zi(c.target,l,u,c.sequenceNumber);jw(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ie(ya,"Failed to raise snapshot:",r),await qh(t,r)}}async function qh(t,e,n){if(!Sl(e))throw e;t.Ea.add(1),await wf(t),t.Ra.set("Offline"),n||(n=()=>dR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie(ya,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jm(t)})}function vR(t,e){return e().catch(n=>qh(t,n,e))}async function Mm(t){const e=pe(t),n=So(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vw;for(;U5(e);)try{const i=await x5(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,B5(e,i)}catch(i){await qh(e,i)}bR(e)&&_R(e)}function U5(t){return ja(t)&&t.Ta.length<10}function B5(t,e){t.Ta.push(e);const n=So(t);n.O_()&&n.X_&&n.ea(e.mutations)}function bR(t){return ja(t)&&!So(t).x_()&&t.Ta.length>0}function _R(t){So(t).start()}async function z5(t){So(t).ra()}async function W5(t){const e=So(t);for(const n of t.Ta)e.ea(n.mutations)}async function q5(t,e,n){const r=t.Ta.shift(),i=Aw.from(r,e,n);await vR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Mm(t)}async function H5(t,e){e&&So(t).X_&&await async function(r,i){if(function(a){return PB(a)&&a!==G.ABORTED}(i.code)){const o=r.Ta.shift();So(r).B_(),await vR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Mm(r)}}(t,e),bR(t)&&_R(t)}async function PT(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),ie(ya,"RemoteStore received new credentials");const r=ja(n);n.Ea.add(3),await wf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jm(n)}async function G5(t,e){const n=pe(t);e?(n.Ea.delete(2),await jm(n)):e||(n.Ea.add(2),await wf(n),n.Ra.set("Unknown"))}function Tl(t){return t.ma||(t.ma=function(n,r,i){const o=pe(n);return o.sa(),new C5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:$5.bind(null,t),t_:L5.bind(null,t),r_:V5.bind(null,t),H_:F5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Dw(t)?Mw(t):t.Ra.set("Unknown")):(await t.ma.stop(),yR(t))})),t.ma}function So(t){return t.fa||(t.fa=function(n,r,i){const o=pe(n);return o.sa(),new N5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:z5.bind(null,t),r_:H5.bind(null,t),ta:W5.bind(null,t),na:q5.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Mm(t)):(await t.fa.stop(),t.Ta.length>0&&(ie(ya,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new $w(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lw(t,e){if(Si("AsyncQueue",`${e}: ${t}`),Sl(t))return new re(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{static emptySet(e){return new Ts(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Pu(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ts)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ts;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.ga=new tt(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hs{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Hs(e,n,Ts.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class X5{constructor(){this.queries=OT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=pe(n),o=i.queries;i.queries=OT(),o.forEach((a,s)=>{for(const l of s.Sa)l.onError(r)})})(this,new re(G.ABORTED,"Firestore shutting down"))}}function OT(){return new Ra(t=>U2(t),Im)}async function wR(t,e){const n=pe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new K5,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=Lw(a,`Initialization of query '${es(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Vw(n)}async function xR(t,e){const n=pe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Y5(t,e){const n=pe(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.Sa)s.Fa(i)&&(r=!0);a.wa=i}}r&&Vw(n)}function Q5(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function Vw(t){t.Ca.forEach(e=>{e.next()})}var j0,kT;(kT=j0||(j0={})).Ma="default",kT.Cache="cache";class ER{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==j0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.key=e}}class TR{constructor(e){this.key=e}}class J5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=B2(e),this.tu=new Ts(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new IT,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=Om(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),v=!0):this.su(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(s=!0)),v&&(p?(a=a.add(p),o=g?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:a,iu:r,Cs:s,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((c,f)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:v})}};return g(p)-g(m)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new Hs(this.query,e.tu,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new TR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new SR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Hs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fw="SyncEngine";class Z5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class e9{constructor(e){this.key=e,this.hu=!1}}class t9{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ra(s=>U2(s),Im),this.Iu=new Map,this.Eu=new Set,this.du=new tt(se.comparator),this.Au=new Map,this.Ru=new Ow,this.Vu={},this.mu=new Map,this.fu=qs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n9(t,e,n=!0){const r=CR(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await AR(r,e,n,!0),i}async function r9(t,e){const n=CR(t);await AR(n,e,!0,!1)}async function AR(t,e,n,r){const i=await E5(t.localStore,Vr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await i9(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&mR(t.remoteStore,i),s}async function i9(t,e,n,r,i){t.pu=(f,h,p)=>async function(g,v,b,_){let w=v.view.ru(b);w.Cs&&(w=await xT(g.localStore,v.query,!1).then(({documents:x})=>v.view.ru(x,w)));const O=_&&_.targetChanges.get(v.targetId),A=_&&_.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(w,g.isPrimaryClient,O,A);return NT(g,v.targetId,I.au),I.snapshot}(t,f,h,p);const o=await xT(t.localStore,e,!0),a=new J5(e,o.Qs),s=a.ru(o.documents),l=_f.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);NT(t,n,u.au);const c=new Z5(e,n,a);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function o9(t,e,n){const r=pe(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(a=>!Im(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await N0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rw(r.remoteStore,i.targetId),M0(r,i.targetId)}).catch(El)):(M0(r,i.targetId),await N0(r.localStore,i.targetId,!0))}async function a9(t,e){const n=pe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rw(n.remoteStore,r.targetId))}async function s9(t,e,n){const r=p9(t);try{const i=await function(a,s){const l=pe(a),u=He.now(),c=s.reduce((p,m)=>p.add(m.key),xe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ti(),g=xe();return l.Ns.getEntries(p,c).next(v=>{m=v,m.forEach((b,_)=>{_.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(v=>{f=v;const b=[];for(const _ of s){const w=xB(_,f.get(_.key).overlayedDocument);w!=null&&b.push(new No(_.key,w,R2(w.value.mapValue),Xn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,s)}).next(v=>{h=v;const b=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,b)})}).then(()=>({batchId:h.batchId,changes:W2(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new tt(we)),u=u.insert(s,l),a.Vu[a.currentUser.toKey()]=u}(r,i.batchId,n),await xf(r,i.changes),await Mm(r.remoteStore)}catch(i){const o=Lw(i,"Failed to persist write");n.reject(o)}}async function PR(t,e){const n=pe(t);try{const r=await _5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Au.get(o);a&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Ce(a.hu,14607):i.removedDocuments.size>0&&(Ce(a.hu,42227),a.hu=!1))}),await xf(n,r,e)}catch(r){await El(r)}}function CT(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,a)=>{const s=a.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=pe(a);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.Sa)h.va(s)&&(u=!0)}),u&&Vw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function l9(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new tt(se.comparator);a=a.insert(o,Jt.newNoDocument(o,de.min()));const s=xe().add(o),l=new Nm(de.min(),new Map,new tt(we),a,s);await PR(r,l),r.du=r.du.remove(o),r.Au.delete(e),Uw(r)}else await N0(r.localStore,e,!1).then(()=>M0(r,e,n)).catch(El)}async function u9(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await b5(n.localStore,e);OR(n,r,null),IR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xf(n,i)}catch(i){await El(i)}}async function c9(t,e,n){const r=pe(t);try{const i=await function(a,s){const l=pe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Ce(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);OR(r,e,n),IR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xf(r,i)}catch(i){await El(i)}}function IR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function OR(t,e,n){const r=pe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function M0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||kR(t,r)})}function kR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Rw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Uw(t))}function NT(t,e,n){for(const r of n)r instanceof SR?(t.Ru.addReference(r.key,e),f9(t,r)):r instanceof TR?(ie(Fw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||kR(t,r.key)):ce(19791,{wu:r})}function f9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ie(Fw,"New document in limbo: "+n),t.Eu.add(r),Uw(t))}function Uw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se(Fe.fromString(e)),r=t.fu.next();t.Au.set(r,new e9(n)),t.du=t.du.insert(n,r),mR(t.remoteStore,new Zi(Vr(Ew(n.path)),r,"TargetPurposeLimboResolution",Tm.ce))}}async function xf(t,e,n){const r=pe(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{a.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Cw.As(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(l,u){const c=pe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(u,h=>K.forEach(h.Es,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>K.forEach(h.ds,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Sl(f))throw f;ie(Nw,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.Ms.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.Ms=c.Ms.insert(h,g)}}}(r.localStore,o))}async function d9(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){ie(Fw,"User change. New user:",e.toKey());const r=await fR(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(s=>{s.forEach(l=>{l.reject(new re(G.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xf(n,r.Ls)}}function h9(t,e){const n=pe(t),r=n.Au.get(e);if(r&&r.hu)return xe().add(r.key);{let i=xe();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const s=n.Tu.get(a);i=i.unionWith(s.view.nu)}return i}}function CR(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l9.bind(null,e),e.Pu.H_=Y5.bind(null,e.eventManager),e.Pu.yu=Q5.bind(null,e.eventManager),e}function p9(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c9.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return v5(this.persistence,new m5,e.initialUser,this.serializer)}Cu(e){return new cR(kw.mi,this.serializer)}Du(e){return new T5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class m9 extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof Wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new e5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new cR(r=>Wh.mi(r,n),this.serializer)}}class D0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=d9.bind(null,this.syncEngine),await G5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X5}()}createDatastore(e){const n=Rm(e.databaseInfo.databaseId),r=function(o){return new k5(o)}(e.databaseInfo);return function(o,a,s,l){return new j5(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new D5(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>CT(this.syncEngine,n,0),function(){return TT.v()?new TT:new A5}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const f=new t9(i,o,a,s,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=pe(i);ie(ya,"RemoteStore shutting down."),o.Ea.add(5),await wf(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}D0.provider={build:()=>new D0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="FirestoreClient";class g9{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=yw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{ie(To,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ie(To,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $y(t,e){t.asyncQueue.verifyOperationInProgress(),ie(To,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y9(t);ie(To,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>PT(e.remoteStore,i)),t._onlineComponents=e}async function y9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie(To,"Using user provided OfflineComponentProvider");try{await $y(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Us("Error using user provided cache. Falling back to memory cache: "+n),await $y(t,new Hh)}}else ie(To,"Using default OfflineComponentProvider"),await $y(t,new m9(void 0));return t._offlineComponents}async function RR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie(To,"Using user provided OnlineComponentProvider"),await RT(t,t._uninitializedComponentsProvider._online)):(ie(To,"Using default OnlineComponentProvider"),await RT(t,new D0))),t._onlineComponents}function v9(t){return RR(t).then(e=>e.syncEngine)}async function jR(t){const e=await RR(t),n=e.eventManager;return n.onListen=n9.bind(null,e.syncEngine),n.onUnlisten=o9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=r9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a9.bind(null,e.syncEngine),n}function b9(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new NR({next:h=>{c.Nu(),a.enqueueAndForget(()=>xR(o,f));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new re(G.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new re(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new ER(Ew(s.path),c,{includeMetadataChanges:!0,qa:!0});return wR(o,f)}(await jR(t),t.asyncQueue,e,n,r)),r.promise}function _9(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new NR({next:h=>{c.Nu(),a.enqueueAndForget(()=>xR(o,f)),h.fromCache&&l.source==="server"?u.reject(new re(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new ER(s,c,{includeMetadataChanges:!0,qa:!0});return wR(o,f)}(await jR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="firestore.googleapis.com",MT=!0;class DT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DR,this.ssl=MT}else this.host=e.host,this.ssl=e.ssl??MT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JB)throw new re(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$U("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new re(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new re(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new re(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PU;switch(r.type){case"firstParty":return new CU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jT.get(n);r&&(ie("ComponentProvider","Removing Datastore"),jT.delete(n),r.terminate())}(this),Promise.resolve()}}function w9(t,e,n,r={}){var u;t=Tr(t,Dm);const i=ka(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(hw(`https://${s}`),pw("Firestore",!0)),o.host!==DR&&o.host!==s&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:s,ssl:i,emulatorOptions:r};if(!bo(l,a)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Yt.MOCK_USER;else{c=r2(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new re(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Yt(h)}t._authCredentials=new IU(new _2(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Al(this.firestore,e,this._query)}}class ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}toJSON(){return{type:ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yf(n,ct._jsonSchema))return new ct(e,r||null,new se(Fe.fromString(n.referencePath)))}}ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:mt("string",ct._jsonSchemaVersion),referencePath:mt("string")};class po extends Al{constructor(e,n,r){super(e,n,Ew(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new se(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function $R(t,e,...n){if(t=at(t),w2("collection","path",e),t instanceof Dm){const r=Fe.fromString(e,...n);return XS(r),new po(t,null,r)}{if(!(t instanceof ct||t instanceof po))throw new re(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return XS(r),new po(t.firestore,null,r)}}function rr(t,e,...n){if(t=at(t),arguments.length===1&&(e=yw.newId()),w2("doc","path",e),t instanceof Dm){const r=Fe.fromString(e,...n);return KS(r),new ct(t,null,new se(r))}{if(!(t instanceof ct||t instanceof po))throw new re(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return KS(r),new ct(t.firestore,t instanceof po?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="AsyncQueue";class LT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hR(this,"async_queue_retry"),this._c=()=>{const r=Dy();r&&ie($T,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Dy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new hi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sl(e))throw e;ie($T,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",VT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=$w.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ce(47125,{Pc:VT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ma extends Dm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new LT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LT(e),this._firestoreClient=void 0,await e}}}function x9(t,e){const n=typeof t=="object"?t:Em(),r=typeof t=="string"?t:e||$h,i=ko(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=e2("firestore");o&&w9(i,...o)}return i}function Bw(t){if(t._terminated)throw new re(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||E9(t),t._firestoreClient}function E9(t){var r,i,o;const e=t._freezeSettings(),n=function(s,l,u,c){return new KU(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,MR(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new g9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Ut.fromBase64String(e))}catch(n){throw new re(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yf(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:mt("string",qn._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ur._jsonSchemaVersion}}static fromJSON(e){if(yf(e,Ur._jsonSchema))return new Ur(e.latitude,e.longitude)}}Ur._jsonSchemaVersion="firestore/geoPoint/1.0",Ur._jsonSchema={type:mt("string",Ur._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yf(e,Br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Br(e.vectorValues);throw new re(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Br._jsonSchemaVersion="firestore/vectorValue/1.0",Br._jsonSchema={type:mt("string",Br._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=/^__.*__$/;class T9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new No(e,this.data,this.fieldMask,n,this.fieldTransforms):new bf(e,this.data,n,this.fieldTransforms)}}class LR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new No(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}class Ww{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ww({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VR(this.Ac)&&S9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class A9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rm(e)}Cc(e,n,r,i=!1){return new Ww({Ac:e,methodName:n,Dc:r,path:$t.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(t){const e=t._freezeSettings(),n=Rm(t._databaseId);return new A9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FR(t,e,n,r,i,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);qw("Data must be an object, but it was:",a,r);const s=UR(r,a);let l,u;if(o.merge)l=new Nn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=$0(e,f,n);if(!a.contains(h))throw new re(G.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);zR(c,h)||c.push(h)}l=new Nn(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new T9(new pn(s),l,u)}class Vm extends zw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vm}}function P9(t,e,n,r){const i=t.Cc(1,e,n);qw("Data must be an object, but it was:",i,r);const o=[],a=pn.empty();Co(r,(l,u)=>{const c=Hw(e,l,n);u=at(u);const f=i.yc(c);if(u instanceof Vm)o.push(c);else{const h=Ef(u,f);h!=null&&(o.push(c),a.set(c,h))}});const s=new Nn(o);return new LR(a,s,i.fieldTransforms)}function I9(t,e,n,r,i,o){const a=t.Cc(1,e,n),s=[$0(e,r,n)],l=[i];if(o.length%2!=0)throw new re(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push($0(e,o[h])),l.push(o[h+1]);const u=[],c=pn.empty();for(let h=s.length-1;h>=0;--h)if(!zR(u,s[h])){const p=s[h];let m=l[h];m=at(m);const g=a.yc(p);if(m instanceof Vm)u.push(p);else{const v=Ef(m,g);v!=null&&(u.push(p),c.set(p,v))}}const f=new Nn(u);return new LR(c,f,a.fieldTransforms)}function O9(t,e,n,r=!1){return Ef(n,t.Cc(r?4:3,e))}function Ef(t,e){if(BR(t=at(t)))return qw("Unsupported field value:",e,t),UR(t,e);if(t instanceof zw)return function(r,i){if(!VR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=Ef(s,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=He.fromDate(r);return{timestampValue:zh(i.serializer,o)}}if(r instanceof He){const o=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zh(i.serializer,o)}}if(r instanceof Ur)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:nR(i.serializer,r._byteString)};if(r instanceof ct){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Iw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Br)return function(a,s){return{mapValue:{fields:{[k2]:{stringValue:N2},[Lh]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return Sw(s.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Sm(r)}`)}(t,e)}function UR(t,e){const n={};return S2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,(r,i)=>{const o=Ef(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function BR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof Ur||t instanceof qn||t instanceof ct||t instanceof zw||t instanceof Br)}function qw(t,e,n){if(!BR(n)||!x2(n)){const r=Sm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function $0(t,e,n){if((e=at(e))instanceof $m)return e._internalPath;if(typeof e=="string")return Hw(t,e);throw Gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const k9=new RegExp("[~\\*/\\[\\]]");function Hw(t,e,n){if(e.search(k9)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $m(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gh(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new re(G.INVALID_ARGUMENT,s+t+l)}function zR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new C9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C9 extends WR{data(){return super.data()}}function Gw(t,e){return typeof e=="string"?Hw(t,e):e instanceof $m?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kw{}class R9 extends Kw{}function j9(t,e,...n){let r=[];e instanceof Kw&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof Xw).length,s=o.filter(l=>l instanceof Fm).length;if(a>1||a>0&&s>0)throw new re(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Fm extends R9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fm(e,n,r)}_apply(e){const n=this._parse(e);return qR(e._query,n),new Al(e.firestore,e.converter,A0(e._query,n))}_parse(e){const n=Lm(e.firestore);return function(o,a,s,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new re(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){UT(f,c);const m=[];for(const g of f)m.push(FT(l,o,g));h={arrayValue:{values:m}}}else h=FT(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||UT(f,c),h=O9(s,a,f,c==="in"||c==="not-in");return pt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function M9(t,e,n){const r=e,i=Gw("where",t);return Fm._create(i,r,n)}class Xw extends Kw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)qR(a,l),a=A0(a,l)}(e._query,n),new Al(e.firestore,e.converter,A0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FT(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new re(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F2(e)&&n.indexOf("/")!==-1)throw new re(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fe.fromString(n));if(!se.isDocumentKey(r))throw new re(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rT(t,new se(r))}if(n instanceof ct)return rT(t,n._key);throw new re(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sm(n)}.`)}function UT(t,e){if(!Array.isArray(t)||t.length===0)throw new re(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qR(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class D9{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Co(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Lh].arrayValue)==null?void 0:i.values)==null?void 0:o.map(a=>st(a.doubleValue));return new Br(n)}convertGeoPoint(e){return new Ur(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_c(e));default:return null}}convertTimestamp(e){const n=wo(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);Ce(lR(r),9688,{name:e});const i=new wc(r.get(1),r.get(3)),o=new se(r.popFirst(5));return i.isEqual(n)||Si(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends WR{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:mt("string",la._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class rh extends la{data(e={}){return super.data(e)}}class As{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ou(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new Ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new rh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Ou(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new rh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Ou(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:$9(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=As._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t){t=Tr(t,ct);const e=Tr(t.firestore,Ma);return b9(Bw(e),t._key).then(n=>B9(e,t,n))}As._jsonSchemaVersion="firestore/querySnapshot/1.0",As._jsonSchema={type:mt("string",As._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class GR extends D9{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function L9(t){t=Tr(t,Al);const e=Tr(t.firestore,Ma),n=Bw(e),r=new GR(e);return N9(t._query),_9(n,t._query).then(i=>new As(e,r,t,i))}function V9(t,e,n){t=Tr(t,ct);const r=Tr(t.firestore,Ma),i=HR(t.converter,e,n);return Um(r,[FR(Lm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xn.none())])}function Da(t,e,n,...r){t=Tr(t,ct);const i=Tr(t.firestore,Ma),o=Lm(i);let a;return a=typeof(e=at(e))=="string"||e instanceof $m?I9(o,"updateDoc",t._key,e,n,r):P9(o,"updateDoc",t._key,e),Um(i,[a.toMutation(t._key,Xn.exists(!0))])}function F9(t){return Um(Tr(t.firestore,Ma),[new Tw(t._key,Xn.none())])}function U9(t,e){const n=Tr(t.firestore,Ma),r=rr(t),i=HR(t.converter,e);return Um(n,[FR(Lm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function Um(t,e){return function(r,i){const o=new hi;return r.asyncQueue.enqueueAndForget(async()=>s9(await v9(r),i,o)),o.promise}(Bw(t),e)}function B9(t,e,n){const r=n.docs.get(e._key),i=new GR(t);return new la(t,i,e._key,r,new Ou(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){xl=i})(Na),Sr(new er("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Ma(new OU(r.getProvider("auth-internal")),new NU(a,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(u.options.projectId,c)}(a,i),a);return o={useFetchStreams:n,...o},s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),_n(WS,qS,e),_n(WS,qS,"esm2020")})();var z9="firebase",W9="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n(z9,W9,"app");function KR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q9=KR,XR=new Ca("auth","Firebase",KR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new xm("@firebase/auth");function H9(t,...e){Kh.logLevel<=_e.WARN&&Kh.warn(`Auth (${Na}): ${t}`,...e)}function ih(t,...e){Kh.logLevel<=_e.ERROR&&Kh.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,...e){throw Yw(t,...e)}function zr(t,...e){return Yw(t,...e)}function YR(t,e,n){const r={...q9(),[e]:n};return new Ca("auth","Firebase",r).create(e,{appName:t.name})}function pi(t){return YR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XR.create(t,...e)}function ue(t,e,...n){if(!t)throw Yw(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ih(e),new Error(e)}function Ai(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function G9(){return BT()==="http:"||BT()==="https:"}function BT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G9()||i2()||"connection"in navigator)?navigator.onLine:!0}function X9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=nF()||oF()}get(){return K9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J9=new Sf(3e4,6e4);function Ro(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ci(t,e,n,r,i={}){return JR(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=gf({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return iF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ka(t.emulatorConfig.host)&&(u.credentials="include"),QR.fetch()(await ZR(t,t.config.apiHost,n,s),u)})}async function JR(t,e,n){t._canInitEmulator=!1;const r={...Y9,...e};try{const i=new ez(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Sd(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Sd(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Sd(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw YR(t,c,u);Pr(t,c)}}catch(i){if(i instanceof nr)throw i;Pr(t,"network-request-failed",{message:String(i)})}}async function Tf(t,e,n,r,i={}){const o=await Ci(t,e,n,r,i);return"mfaPendingCredential"in o&&Pr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function ZR(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?Qw(t.config,i):`${t.config.apiScheme}://${i}`;return Q9.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function Z9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ez{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),J9.get())})}}function Sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zr(t,e,r);return i.customData._tokenResponse=n,i}function zT(t){return t!==void 0&&t.enterprise!==void 0}class tz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Z9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nz(t,e){return Ci(t,"GET","/v2/recaptchaConfig",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(t,e){return Ci(t,"POST","/v1/accounts:delete",e)}async function Xh(t,e){return Ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iz(t,e=!1){const n=at(t),r=await n.getIdToken(e),i=Jw(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Hu(Ly(i.auth_time)),issuedAtTime:Hu(Ly(i.iat)),expirationTime:Hu(Ly(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ly(t){return Number(t)*1e3}function Jw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const i=JN(n);return i?JSON.parse(i):(ih("Failed to decode base64 JWT payload"),null)}catch(i){return ih("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function WT(t){const e=Jw(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof nr&&oz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Gs(t,Xh(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?ej(i.providerUserInfo):[],a=lz(t.providerData,o),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=s?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new V0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function sz(t){const e=at(t);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ej(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uz(t,e){const n=await JR(t,{},async()=>{const r=gf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await ZR(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&ka(t.emulatorConfig.host)&&(l.credentials="include"),QR.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cz(t,e){return Ci(t,"POST","/v2/accounts:revokeToken",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=WT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await uz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Ps;return r&&(ue(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ps,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new az(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new V0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Gs(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iz(this,e)}reload(){return sz(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await Gs(this,rz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:m,stsTokenManager:g}=n;ue(f&&g,e,"internal-error");const v=Ps.fromJSON(this.name,g);ue(typeof f=="string",e,"internal-error"),Vi(r,e.name),Vi(i,e.name),ue(typeof h=="boolean",e,"internal-error"),ue(typeof p=="boolean",e,"internal-error"),Vi(o,e.name),Vi(a,e.name),Vi(s,e.name),Vi(l,e.name),Vi(u,e.name),Vi(c,e.name);const b=new vr({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:v,createdAt:u,lastLoginAt:c});return m&&Array.isArray(m)&&(b.providerData=m.map(_=>({..._}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ps;i.updateFromServerResponse(n);const o=new vr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?ej(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Ps;s.updateFromIdToken(r);const l=new vr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new V0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Map;function li(t){Ai(t instanceof Function,"Expected a class definition");let e=qT.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tj.type="NONE";const HT=tj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n){return`firebase:${t}:${e}:${n}`}class Is{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=oh(this.userKey,i.apiKey,o),this.fullPersistenceKey=oh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xh(this.auth,{idToken:e}).catch(()=>{});return n?vr._fromGetAccountInfoResponse(this.auth,n,e):null}return vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Is(li(HT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||li(HT);const a=oh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){let f;if(typeof c=="string"){const h=await Xh(e,{idToken:c}).catch(()=>{});if(!h)break;f=await vr._fromGetAccountInfoResponse(e,h,c)}else f=vr._fromJSON(e,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Is(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Is(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sj(e))return"Blackberry";if(lj(e))return"Webos";if(rj(e))return"Safari";if((e.includes("chrome/")||ij(e))&&!e.includes("edge/"))return"Chrome";if(aj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nj(t=nn()){return/firefox\//i.test(t)}function rj(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ij(t=nn()){return/crios\//i.test(t)}function oj(t=nn()){return/iemobile/i.test(t)}function aj(t=nn()){return/android/i.test(t)}function sj(t=nn()){return/blackberry/i.test(t)}function lj(t=nn()){return/webos/i.test(t)}function Zw(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fz(t=nn()){var e;return Zw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function dz(){return aF()&&document.documentMode===10}function uj(t=nn()){return Zw(t)||aj(t)||lj(t)||sj(t)||/windows phone/i.test(t)||oj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t,e=[]){let n;switch(t){case"Browser":n=GT(nn());break;case"Worker":n=`${GT(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e={}){return Ci(t,"GET","/v2/passwordPolicy",Ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=6;class gz{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KT(this),this.idTokenSubscription=new KT(this),this.beforeStateQueue=new hz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Is.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xh(this,{idToken:e}),r=await vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(In(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(pi(this));const n=e?at(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pz(this),n=new gz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ca("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Is.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&H9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $a(t){return at(t)}class KT{constructor(e){this.auth=e,this.observer=null,this.addObserver=hF(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vz(t){Bm=t}function fj(t){return Bm.loadJS(t)}function bz(){return Bm.recaptchaEnterpriseScript}function _z(){return Bm.gapiScript}function wz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xz{constructor(){this.enterprise=new Ez}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Ez{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Sz="recaptcha-enterprise",dj="NO_RECAPTCHA";class Tz{constructor(e){this.type=Sz,this.auth=$a(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{nz(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new tz(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;zT(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(dj)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xz().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&zT(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=bz();l.length!==0&&(l+=s),fj(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function uu(t,e,n,r=!1,i=!1){const o=new Tz(t);let a;if(i)a=dj;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const s={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function F0(t,e,n,r,i){var o,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await uu(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await uu(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const s=await uu(t,e,n);return r(t,s).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const c=await uu(t,e,n,!1,!0);return r(t,c)}return Promise.reject(l)})}else{const s=await uu(t,e,n,!1,!0);return r(t,s)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t,e){const n=ko(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(bo(o,e??{}))return i;Pr(i,"already-initialized")}return n.initialize({options:e})}function Pz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Iz(t,e,n){const r=$a(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=hj(e),{host:a,port:s}=Oz(e),l=s===null?"":`:${s}`,u={url:`${o}//${a}${l}/`},c=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(bo(u,r.config.emulator)&&bo(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,ka(a)?(hw(`${o}//${a}${l}`),pw("Auth",!0)):i||kz()}function hj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Oz(t){const e=hj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:XT(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:XT(a)}}}function XT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function Cz(t,e){return Ci(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(t,e){return Tf(t,"POST","/v1/accounts:signInWithPassword",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(t,e){return Tf(t,"POST","/v1/accounts:signInWithEmailLink",Ro(t,e))}async function jz(t,e){return Tf(t,"POST","/v1/accounts:signInWithEmailLink",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends e1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Tc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F0(e,n,"signInWithPassword",Nz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Rz(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F0(e,r,"signUpPassword",Cz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return jz(e,{idToken:n,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(t,e){return Tf(t,"POST","/v1/accounts:signInWithIdp",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz="http://localhost";class va extends e1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new va(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Os(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Os(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Os(e,n)}buildRequest(){const e={requestUri:Mz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $z(t){const e=Su(Tu(t)).link,n=e?Su(Tu(e)).deep_link_id:null,r=Su(Tu(t)).deep_link_id;return(r?Su(Tu(r)).link:null)||r||n||e||t}class t1{constructor(e){const n=Su(Tu(e)),r=n.apiKey??null,i=n.oobCode??null,o=Dz(n.mode??null);ue(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=$z(e);try{return new t1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.providerId=Pl.PROVIDER_ID}static credential(e,n){return Tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=t1.parseLink(n);return ue(r,"argument-error"),Tc._fromEmailAndCode(e,r.code,r.tenantId)}}Pl.PROVIDER_ID="password";Pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends pj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Af{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return va._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Af{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Af{constructor(){super("twitter.com")}static credential(e,n){return va._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lz(t,e){return Tf(t,"POST","/v1/accounts:signUp",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await vr._fromIdTokenResponse(e,r,i),a=YT(r);return new ba({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=YT(r);return new ba({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function YT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends nr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qh(e,n,r,i)}}function mj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(t,o,e,r):o})}async function Vz(t,e,n=!1){const r=await Gs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ba._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(t,e,n=!1){const{auth:r}=t;if(In(r.app))return Promise.reject(pi(r));const i="reauthenticate";try{const o=await Gs(t,mj(r,i,e,t),n);ue(o.idToken,r,"internal-error");const a=Jw(o.idToken);ue(a,r,"internal-error");const{sub:s}=a;return ue(t.uid===s,r,"user-mismatch"),ba._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Pr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e,n=!1){if(In(t.app))return Promise.reject(pi(t));const r="signIn",i=await mj(t,r,e),o=await ba._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Uz(t,e){return gj($a(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(t){const e=$a(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bz(t,e,n){if(In(t.app))return Promise.reject(pi(t));const r=$a(t),a=await F0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lz,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&yj(t),l}),s=await ba._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function zz(t,e,n){return In(t.app)?Promise.reject(pi(t)):Uz(at(t),Pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yj(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(t,e){return Ci(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=at(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Gs(r,Wz(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function Hz(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function Gz(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function Kz(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function Xz(t){return at(t).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=1e3,Qz=10;class bj extends vj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);dz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Qz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Yz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bj.type="LOCAL";const Jz=bj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j extends vj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_j.type="SESSION";const wj=_j;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new zm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await Zz(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=n1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function t8(t){Wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function n8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function i8(){return xj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="firebaseLocalStorageDb",o8=1,Zh="firebaseLocalStorage",Sj="fbase_key";class Pf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wm(t,e){return t.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function a8(){const t=indexedDB.deleteDatabase(Ej);return new Pf(t).toPromise()}function U0(){const t=indexedDB.open(Ej,o8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zh,{keyPath:Sj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zh)?e(r):(r.close(),await a8(),e(await U0()))})})}async function QT(t,e,n){const r=Wm(t,!0).put({[Sj]:e,value:n});return new Pf(r).toPromise()}async function s8(t,e){const n=Wm(t,!1).get(e),r=await new Pf(n).toPromise();return r===void 0?null:r.value}function JT(t,e){const n=Wm(t,!0).delete(e);return new Pf(n).toPromise()}const l8=800,u8=3;class Tj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>u8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zm._getInstance(i8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await n8(),!this.activeServiceWorker)return;this.sender=new e8(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await U0();return await QT(e,Jh,"1"),await JT(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>QT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Wm(i,!1).getAll();return new Pf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tj.type="LOCAL";const c8=Tj;new Sf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t,e){return e?li(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends e1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Os(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Os(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Os(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function d8(t){return gj(t.auth,new r1(t),t.bypassAuthState)}function h8(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),Fz(n,new r1(t),t.bypassAuthState)}async function p8(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),Vz(n,new r1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d8;case"linkViaPopup":case"linkViaRedirect":return p8;case"reauthViaPopup":case"reauthViaRedirect":return h8;default:Pr(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=new Sf(2e3,1e4);class ms extends Aj{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ms.currentPopupAction&&ms.currentPopupAction.cancel(),ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=n1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m8.get())};e()}}ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8="pendingRedirect",ah=new Map;class y8 extends Aj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await v8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v8(t,e){const n=w8(e),r=_8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function b8(t,e){ah.set(t._key(),e)}function _8(t){return li(t._redirectPersistence)}function w8(t){return oh(g8,t.config.apiKey,t.name)}async function x8(t,e,n=!1){if(In(t.app))return Promise.reject(pi(t));const r=$a(t),i=f8(r,e),a=await new y8(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=10*60*1e3;class S8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Pj(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E8&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZT(e))}saveEventToCache(e){this.cachedEventUids.add(ZT(e)),this.lastProcessedEventTime=Date.now()}}function ZT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Pj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function T8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(t,e={}){return Ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I8=/^https?/;async function O8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await A8(t);for(const n of e)try{if(k8(n))return}catch{}Pr(t,"unauthorized-domain")}function k8(t){const e=L0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!I8.test(n))return!1;if(P8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=new Sf(3e4,6e4);function eA(){const t=Wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function N8(t){return new Promise((e,n)=>{var i,o,a;function r(){eA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eA(),n(zr(t,"network-request-failed"))},timeout:C8.get()})}if((o=(i=Wr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=Wr().gapi)!=null&&a.load)r();else{const s=wz("iframefcb");return Wr()[s]=()=>{gapi.load?r():n(zr(t,"network-request-failed"))},fj(`${_z()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw sh=null,e})}let sh=null;function R8(t){return sh=sh||N8(t),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=new Sf(5e3,15e3),M8="__/auth/iframe",D8="emulator/auth/iframe",$8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V8(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qw(e,D8):`https://${t.config.authDomain}/${M8}`,r={apiKey:e.apiKey,appName:t.name,v:Na},i=L8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${gf(r).slice(1)}`}async function F8(t){const e=await R8(t),n=Wr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:V8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=zr(t,"network-request-failed"),s=Wr().setTimeout(()=>{o(a)},j8.get());function l(){Wr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B8=500,z8=600,W8="_blank",q8="http://localhost";class tA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H8(t,e,n,r=B8,i=z8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...U8,width:r.toString(),height:i.toString(),top:o,left:a},u=nn().toLowerCase();n&&(s=ij(u)?W8:n),nj(u)&&(e=e||q8,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(fz(u)&&s!=="_self")return G8(e||"",s),new tA(null);const f=window.open(e||"",s,c);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new tA(f)}function G8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8="__/auth/handler",X8="emulator/auth/handler",Y8=encodeURIComponent("fac");async function nA(t,e,n,r,i,o){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:i};if(e instanceof pj){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",dF(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(o||{}))a[c]=f}if(e instanceof Af){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${Y8}=${encodeURIComponent(l)}`:"";return`${Q8(t)}?${gf(s).slice(1)}${u}`}function Q8({config:t}){return t.emulator?Qw(t,X8):`https://${t.authDomain}/${K8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="webStorageSupport";class J8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wj,this._completeRedirectFn=x8,this._overrideRedirectResult=b8}async _openPopup(e,n,r,i){var a;Ai((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await nA(e,n,r,L0(),i);return H8(e,o,n1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await nA(e,n,r,L0(),i);return t8(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ai(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await F8(e),r=new S8(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vy,{type:Vy},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[Vy];o!==void 0&&n(!!o),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uj()||rj()||Zw()}}const Z8=J8;var rA="@firebase/auth",iA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n7(t){Sr(new er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ue(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cj(t)},u=new yz(r,i,o,l);return Pz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new er("auth-internal",e=>{const n=$a(e.getProvider("auth").getImmediate());return(r=>new e7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_n(rA,iA,t7(t)),_n(rA,iA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=5*60,i7=n2("authIdTokenMaxAge")||r7;let oA=null;const o7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i7)return;const i=n==null?void 0:n.token;oA!==i&&(oA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function a7(t=Em()){const e=ko(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Az(t,{popupRedirectResolver:Z8,persistence:[c8,Jz,wj]}),r=n2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=o7(o.toString());Gz(n,a,()=>a(n.currentUser)),Hz(n,s=>a(s))}}const i=ZN("auth");return i&&Iz(n,`http://${i}`),n}function s7(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}vz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=zr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",s7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n7("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="firebasestorage.googleapis.com",l7="storageBucket",u7=2*60*1e3,c7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends nr{constructor(e,n,r=0){super(Fy(e),`Firebase Storage: ${n} (${Fy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kr||(Kr={}));function Fy(t){return"storage/"+t}function f7(){const t="An unknown error occurred, please check the error payload for server response.";return new Qr(Kr.UNKNOWN,t)}function d7(){return new Qr(Kr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h7(){return new Qr(Kr.CANCELED,"User canceled the upload/download.")}function p7(t){return new Qr(Kr.INVALID_URL,"Invalid URL '"+t+"'.")}function m7(t){return new Qr(Kr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aA(t){return new Qr(Kr.INVALID_ARGUMENT,t)}function Oj(){return new Qr(Kr.APP_DELETED,"The Firebase app was deleted.")}function g7(t){return new Qr(Kr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=br.makeFromUrl(e,n)}catch{return new br(e,"")}if(r.path==="")return r;throw m7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(O){O.path_=decodeURIComponent(O.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=n===Ij?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",b=new RegExp(`^https?://${g}/${i}/${v}`,"i"),w=[{regex:s,indices:l,postModify:o},{regex:p,indices:m,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let O=0;O<w.length;O++){const A=w[O],I=A.regex.exec(e);if(I){const x=I[A.indices.bucket];let S=I[A.indices.path];S||(S=""),r=new br(x,S),A.postModify(r);break}}if(r==null)throw p7(e);return r}}class y7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(t,e,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let u=!1;function c(...v){u||(u=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){o&&clearTimeout(o)}function p(v,...b){if(u){h();return}if(v){h(),c.call(null,v,...b);return}if(l()||a){h(),c.call(null,v,...b);return}r<64&&(r*=2);let w;s===1?(s=2,w=0):w=(r+Math.random())*1e3,f(w)}let m=!1;function g(v){m||(m=!0,h(),!u&&(i!==null?(v||(s=2),clearTimeout(i),f(0)):v||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,g(!0)},n),g}function b7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t){return t!==void 0}function sA(t,e,n,r){if(r<e)throw aA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw aA(`Invalid value for '${t}'. Expected ${n} or less.`)}function w7(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ep;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ep||(ep={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,n,r,i,o,a,s,l,u,c,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Td(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===ep.NO_ERROR,l=o.getStatus();if(!s||x7(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===ep.ABORT;r(!1,new Td(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Td(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());_7(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=f7();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?Oj():h7();a(l)}else{const l=d7();a(l)}};this.canceled_?n(!1,new Td(!1,null,!0)):this.backoffId_=v7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&b7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Td{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function S7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function T7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function A7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function P7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function I7(t,e,n,r,i,o,a=!0,s=!1){const l=w7(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return A7(c,e),S7(c,n),T7(c,o),P7(c,r),new E7(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function k7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this._service=e,n instanceof br?this._location=n:this._location=br.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new tp(e,n)}get root(){const e=new br(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return k7(this._location.path)}get storage(){return this._service}get parent(){const e=O7(this._location.path);if(e===null)return null;const n=new br(this._location.bucket,e);return new tp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw g7(e)}}function lA(t,e){const n=e==null?void 0:e[l7];return n==null?null:br.makeFromBucketSpec(n,t)}function C7(t,e,n,r={}){t.host=`${e}:${n}`;const i=ka(e);i&&(hw(`https://${t.host}/b`),pw("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:r2(o,t.app.options.projectId))}class N7{constructor(e,n,r,i,o,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=Ij,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u7,this._maxUploadRetryTime=c7,this._requests=new Set,i!=null?this._bucket=br.makeFromBucketSpec(i,this._host):this._bucket=lA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=br.makeFromBucketSpec(this._url,e):this._bucket=lA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tp(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new y7(Oj());{const a=I7(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const uA="@firebase/storage",cA="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="storage";function R7(t=Em(),e){t=at(t);const r=ko(t,kj).getImmediate({identifier:e}),i=e2("storage");return i&&j7(r,...i),r}function j7(t,e,n,r={}){C7(t,e,n,r)}function M7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new N7(n,r,i,e,Na)}function D7(){Sr(new er(kj,M7,"PUBLIC").setMultipleInstances(!0)),_n(uA,cA,""),_n(uA,cA,"esm2020")}D7();const Cj="@firebase/installations",i1="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=1e4,Rj=`w:${i1}`,jj="FIS_v2",$7="https://firebaseinstallations.googleapis.com/v1",L7=60*60*1e3,V7="installations",F7="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},_a=new Ca(V7,F7,U7);function Mj(t){return t instanceof nr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj({projectId:t}){return`${$7}/projects/${t}/installations`}function $j(t){return{token:t.token,requestStatus:2,expiresIn:z7(t.expiresIn),creationTime:Date.now()}}async function Lj(t,e){const r=(await e.json()).error;return _a.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Vj({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function B7(t,{refreshToken:e}){const n=Vj(t);return n.append("Authorization",W7(e)),n}async function Fj(t){const e=await t();return e.status>=500&&e.status<600?t():e}function z7(t){return Number(t.replace("s","000"))}function W7(t){return`${jj} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q7({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Dj(t),i=Vj(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:jj,appId:t.appId,sdkVersion:Rj},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await Fj(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:$j(u.authToken)}}else throw await Lj("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=/^[cdef][\w-]{21}$/,B0="";function K7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=X7(t);return G7.test(n)?n:B0}catch{return B0}}function X7(t){return H7(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=new Map;function zj(t,e){const n=qm(t);Wj(n,e),Y7(n,e)}function Wj(t,e){const n=Bj.get(t);if(n)for(const r of n)r(e)}function Y7(t,e){const n=Q7();n&&n.postMessage({key:t,fid:e}),J7()}let ta=null;function Q7(){return!ta&&"BroadcastChannel"in self&&(ta=new BroadcastChannel("[Firebase] FID Change"),ta.onmessage=t=>{Wj(t.data.key,t.data.fid)}),ta}function J7(){Bj.size===0&&ta&&(ta.close(),ta=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7="firebase-installations-database",eW=1,wa="firebase-installations-store";let Uy=null;function o1(){return Uy||(Uy=u2(Z7,eW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wa)}}})),Uy}async function np(t,e){const n=qm(t),i=(await o1()).transaction(wa,"readwrite"),o=i.objectStore(wa),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&zj(t,e.fid),e}async function qj(t){const e=qm(t),r=(await o1()).transaction(wa,"readwrite");await r.objectStore(wa).delete(e),await r.done}async function Hm(t,e){const n=qm(t),i=(await o1()).transaction(wa,"readwrite"),o=i.objectStore(wa),a=await o.get(n),s=e(a);return s===void 0?await o.delete(n):await o.put(s,n),await i.done,s&&(!a||a.fid!==s.fid)&&zj(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(t){let e;const n=await Hm(t.appConfig,r=>{const i=tW(r),o=nW(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===B0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tW(t){const e=t||{fid:K7(),registrationStatus:0};return Hj(e)}function nW(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(_a.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rW(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iW(t)}:{installationEntry:e}}async function rW(t,e){try{const n=await q7(t,e);return np(t.appConfig,n)}catch(n){throw Mj(n)&&n.customData.serverCode===409?await qj(t.appConfig):await np(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iW(t){let e=await fA(t.appConfig);for(;e.registrationStatus===1;)await Uj(100),e=await fA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await a1(t);return r||n}return e}function fA(t){return Hm(t,e=>{if(!e)throw _a.create("installation-not-found");return Hj(e)})}function Hj(t){return oW(t)?{fid:t.fid,registrationStatus:0}:t}function oW(t){return t.registrationStatus===1&&t.registrationTime+Nj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aW({appConfig:t,heartbeatServiceProvider:e},n){const r=sW(t,n),i=B7(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:Rj,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await Fj(()=>fetch(r,s));if(l.ok){const u=await l.json();return $j(u)}else throw await Lj("Generate Auth Token",l)}function sW(t,{fid:e}){return`${Dj(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(t,e=!1){let n;const r=await Hm(t.appConfig,o=>{if(!Gj(o))throw _a.create("not-registered");const a=o.authToken;if(!e&&cW(a))return o;if(a.requestStatus===1)return n=lW(t,e),o;{if(!navigator.onLine)throw _a.create("app-offline");const s=dW(o);return n=uW(t,s),s}});return n?await n:r.authToken}async function lW(t,e){let n=await dA(t.appConfig);for(;n.authToken.requestStatus===1;)await Uj(100),n=await dA(t.appConfig);const r=n.authToken;return r.requestStatus===0?s1(t,e):r}function dA(t){return Hm(t,e=>{if(!Gj(e))throw _a.create("not-registered");const n=e.authToken;return hW(n)?{...e,authToken:{requestStatus:0}}:e})}async function uW(t,e){try{const n=await aW(t,e),r={...e,authToken:n};return await np(t.appConfig,r),n}catch(n){if(Mj(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await qj(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await np(t.appConfig,r)}throw n}}function Gj(t){return t!==void 0&&t.registrationStatus===2}function cW(t){return t.requestStatus===2&&!fW(t)}function fW(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+L7}function dW(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function hW(t){return t.requestStatus===1&&t.requestTime+Nj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pW(t){const e=t,{installationEntry:n,registrationPromise:r}=await a1(e);return r?r.catch(console.error):s1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mW(t,e=!1){const n=t;return await gW(n),(await s1(n,e)).token}async function gW(t){const{registrationPromise:e}=await a1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t){if(!t||!t.options)throw By("App Configuration");if(!t.name)throw By("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw By(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function By(t){return _a.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="installations",vW="installations-internal",bW=t=>{const e=t.getProvider("app").getImmediate(),n=yW(e),r=ko(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_W=t=>{const e=t.getProvider("app").getImmediate(),n=ko(e,Kj).getImmediate();return{getId:()=>pW(n),getToken:i=>mW(n,i)}};function wW(){Sr(new er(Kj,bW,"PUBLIC")),Sr(new er(vW,_W,"PRIVATE"))}wW();_n(Cj,i1);_n(Cj,i1,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="analytics",xW="firebase_id",EW="origin",SW=60*1e3,TW="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",l1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new xm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jn=new Ca("analytics","Analytics",AW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(t){if(!t.startsWith(l1)){const e=jn.create("invalid-gtag-resource",{gtagURL:t});return wn.warn(e.message),""}return t}function Xj(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function IW(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function OW(t,e){const n=IW("firebase-js-sdk-policy",{createScriptURL:PW}),r=document.createElement("script"),i=`${l1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function kW(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function CW(t,e,n,r,i,o){const a=r[i];try{if(a)await e[a];else{const l=(await Xj(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){wn.error(s)}t("config",i,o)}async function NW(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await Xj(n);for(const l of a){const u=s.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){wn.error(o)}}function RW(t,e,n,r){async function i(o,...a){try{if(o==="event"){const[s,l]=a;await NW(t,e,n,s,l)}else if(o==="config"){const[s,l]=a;await CW(t,e,n,r,s,l)}else if(o==="consent"){const[s,l]=a;t("consent",s,l)}else if(o==="get"){const[s,l,u]=a;t("get",s,l,u)}else if(o==="set"){const[s]=a;t("set",s)}else t(o,...a)}catch(s){wn.error(s)}}return i}function jW(t,e,n,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=RW(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function MW(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(l1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=30,$W=1e3;class LW{constructor(e={},n=$W){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Yj=new LW;function VW(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function FW(t){var a;const{appId:e,apiKey:n}=t,r={method:"GET",headers:VW(n)},i=TW.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();(a=l.error)!=null&&a.message&&(s=l.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function UW(t,e=Yj,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw jn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw jn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new WW;return setTimeout(async()=>{s.abort()},n!==void 0?n:SW),Qj({appId:r,apiKey:i,measurementId:o},a,s,e)}async function Qj(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Yj){var s;const{appId:o,measurementId:a}=t;try{await BW(r,e)}catch(l){if(a)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await FW(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!zW(u)){if(i.deleteThrottleMetadata(o),a)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)==null?void 0:s.httpStatus)===503?jS(n,i.intervalMillis,DW):jS(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,f),wn.debug(`Calling attemptFetch again in ${c} millis`),Qj(t,f,r,i)}}function BW(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zW(t){if(!(t instanceof nr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class WW{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qW(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,a={...r,send_to:o};t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(){if(o2())try{await a2()}catch(t){return wn.warn(jn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return wn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function GW(t,e,n,r,i,o,a){const s=UW(t);s.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>wn.error(h)),e.push(s);const l=HW().then(h=>{if(h)return r.getId()}),[u,c]=await Promise.all([s,l]);MW(o)||OW(o,u.measurementId),i("js",new Date);const f=(a==null?void 0:a.config)??{};return f[EW]="firebase",f.update=!0,c!=null&&(f[xW]=c),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.app=e}_delete(){return delete Gu[this.app.options.appId],Promise.resolve()}}let Gu={},hA=[];const pA={};let zy="dataLayer",XW="gtag",mA,Jj,gA=!1;function YW(){const t=[];if(i2()&&t.push("This is a browser extension environment."),lF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=jn.create("invalid-analytics-context",{errorInfo:e});wn.warn(n.message)}}function QW(t,e,n){YW();const r=t.options.appId;if(!r)throw jn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jn.create("no-api-key");if(Gu[r]!=null)throw jn.create("already-exists",{id:r});if(!gA){kW(zy);const{wrappedGtag:o,gtagCore:a}=jW(Gu,hA,pA,zy,XW);Jj=o,mA=a,gA=!0}return Gu[r]=GW(t,hA,pA,e,mA,zy,n),new KW(t)}function JW(t=Em()){t=at(t);const e=ko(t,rp);return e.isInitialized()?e.getImmediate():ZW(t)}function ZW(t,e={}){const n=ko(t,rp);if(n.isInitialized()){const i=n.getImmediate();if(bo(e,n.getOptions()))return i;throw jn.create("already-initialized")}return n.initialize({options:e})}function eq(t,e,n,r){t=at(t),qW(Jj,Gu[t.app.options.appId],e,n,r).catch(i=>wn.error(i))}const yA="@firebase/analytics",vA="0.10.18";function tq(){Sr(new er(rp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return QW(r,i,n)},"PUBLIC")),Sr(new er("analytics-internal",t,"PRIVATE")),_n(yA,vA),_n(yA,vA,"esm2020");function t(e){try{const n=e.getProvider(rp).getImmediate();return{logEvent:(r,i,o)=>eq(n,r,i,o)}}catch(n){throw jn.create("interop-component-reg-failed",{reason:n})}}}tq();const nq={apiKey:"AIzaSyDslXONuAvOv3Q-bNXdroE2YtVNXKwUj-0",authDomain:"quran-school-app-61584.firebaseapp.com",projectId:"quran-school-app-61584",storageBucket:"quran-school-app-61584.firebasestorage.app",messagingSenderId:"115630985241",appId:"1:115630985241:web:37dc889d59385a7e419a88",measurementId:"G-L3MYTVJQLZ"},Gm=c2(nq),fn=a7(Gm),Vn=x9(Gm);R7(Gm);JW(Gm);const rq=async t=>{try{const e=fn.currentUser;return e?{success:!0,id:(await U9($R(Vn,"students"),{...t,userId:e.uid,createdAt:new Date,updatedAt:new Date,weeklyPoints:0,weeklyRating:0,stars:0,attendanceHistory:[],presentationHistory:[],notes:[],isActive:!0,isFrozen:!1,dailyPoints:0,weeklyData:[],monthlyData:[],yearlyData:[]})).id}:{success:!1,error:"   "}}catch(e){return console.error("   :",e),{success:!1,error:e.message}}},Ks=async()=>{try{const t=fn.currentUser;if(!t)return{success:!1,error:"   "};const e=j9($R(Vn,"students"),M9("userId","==",t.uid)),n=await L9(e),r=[];return n.forEach(i=>{r.push({id:i.id,...i.data()})}),{success:!0,students:r}}catch(t){return console.error("   :",t),{success:!1,error:t.message}}},iq=async t=>{try{const e=fn.currentUser;if(!e)return{success:!1,error:"   "};const n=rr(Vn,"students",t),r=await Yr(n);if(r.exists()){const i=r.data();return i.userId!==e.uid?{success:!1,error:"     "}:{success:!0,student:{id:r.id,...i}}}else return{success:!1,error:"  "}}catch(e){return console.error("   :",e),{success:!1,error:e.message}}},Zj=async(t,e)=>{try{const n=fn.currentUser;if(!n)return{success:!1,error:"   "};const r=rr(Vn,"students",t),i=await Yr(r);return i.exists()&&i.data().userId!==n.uid?{success:!1,error:"     "}:(await Da(r,{...e,updatedAt:new Date}),{success:!0})}catch(n){return console.error("   :",n),{success:!1,error:n.message}}},oq=async t=>{try{const e=fn.currentUser;if(!e)return{success:!1,error:"   "};const n=rr(Vn,"students",t),r=await Yr(n);return r.exists()&&r.data().userId!==e.uid?{success:!1,error:"     "}:(await F9(n),{success:!0})}catch(e){return console.error("   :",e),{success:!1,error:e.message}}},aq=async(t,e)=>{try{const n=fn.currentUser;if(!n)return{success:!1,error:"   "};const r=rr(Vn,"students",t),i=await Yr(r);return i.exists()&&i.data().userId!==n.uid?{success:!1,error:"      "}:(await Da(r,{isFrozen:e,updatedAt:new Date}),{success:!0})}catch(n){return console.error("    :",n),{success:!1,error:n.message}}},Wy=async(t,e)=>{var n;try{const r=fn.currentUser;if(!r)return{success:!1,error:"   "};const i=rr(Vn,"students",t),o=await Yr(i);if(!o.exists())return{success:!1,error:"  "};const a=o.data();if(a.userId!==r.uid)return{success:!1,error:"      "};if(a.isFrozen)return{success:!1,error:"     "};const s=new Date().toISOString().split("T")[0];if((n=a.attendanceHistory)==null?void 0:n.find(g=>g.date===s&&g.period===e))return{success:!1,error:"     "};const u={date:s,period:e,timestamp:new Date,points:1},c=[...a.attendanceHistory||[],u],f=(a.weeklyPoints||0)+1,h=(a.dailyPoints||0)+1,p=eM(new Date),m=tM(a.weeklyData||[],p,h);return await Da(i,{attendanceHistory:c,weeklyPoints:f,dailyPoints:h,weeklyData:m,updatedAt:new Date}),{success:!0,weeklyPoints:f,dailyPoints:h,attendanceHistory:c}}catch(r){return console.error("   :",r),{success:!1,error:r.message}}},sq=async t=>{var e;try{const n=fn.currentUser;if(!n)return{success:!1,error:"   "};const r=rr(Vn,"students",t),i=await Yr(r);if(!i.exists())return{success:!1,error:"  "};const o=i.data();if(o.userId!==n.uid)return{success:!1,error:"      "};if(o.isFrozen)return{success:!1,error:"     "};const a=new Date,s=a.toISOString().split("T")[0],l=a.getDay();if(![0,2,4].includes(l))return{success:!1,error:"        "};if((e=o.presentationHistory)==null?void 0:e.find(_=>_.date===s))return{success:!1,error:"     "};const c={date:s,timestamp:new Date,points:1},f=[...o.presentationHistory||[],c],h=(o.weeklyPoints||0)+1,p=(o.dailyPoints||0)+1,m=Math.min(10,(o.weeklyRating||0)+.5),g=Math.floor(m/2),v=eM(a),b=tM(o.weeklyData||[],v,p);return await Da(r,{presentationHistory:f,weeklyPoints:h,dailyPoints:p,weeklyRating:m,stars:g,weeklyData:b,updatedAt:new Date}),{success:!0,weeklyPoints:h,dailyPoints:p,weeklyRating:m,stars:g}}catch(n){return console.error("   :",n),{success:!1,error:n.message}}},lq=async(t,e,n)=>{try{const r=fn.currentUser;if(!r)return{success:!1,error:"   "};const i=rr(Vn,"students",t),o=await Yr(i);if(!o.exists())return{success:!1,error:"  "};const a=o.data();if(a.userId!==r.uid)return{success:!1,error:"      "};const s={points:-e,reason:n,date:new Date,timestamp:new Date},l=[...a.deductions||[],s],u=Math.max(0,(a.weeklyPoints||0)-e),c=Math.max(0,(a.dailyPoints||0)-e);return await Da(i,{deductions:l,weeklyPoints:u,dailyPoints:c,updatedAt:new Date}),{success:!0,weeklyPoints:u,dailyPoints:c}}catch(r){return console.error("   :",r),{success:!1,error:r.message}}},uq=async(t,e)=>{try{const n=fn.currentUser;if(!n)return{success:!1,error:"   "};const r=rr(Vn,"students",t),i=await Yr(r);if(!i.exists())return{success:!1,error:"  "};const o=i.data();if(o.userId!==n.uid)return{success:!1,error:"      "};const a={id:Date.now().toString(),text:e,date:new Date,timestamp:new Date},s=[...o.notes||[],a];return await Da(r,{notes:s,updatedAt:new Date}),{success:!0,notes:s}}catch(n){return console.error("   :",n),{success:!1,error:n.message}}},cq=async(t,e)=>{try{const n=fn.currentUser;if(!n)return{success:!1,error:"   "};const r=rr(Vn,"students",t),i=await Yr(r);if(!i.exists())return{success:!1,error:"  "};const o=i.data();if(o.userId!==n.uid)return{success:!1,error:"      "};const a=(o.notes||[]).filter(s=>s.id!==e);return await Da(r,{notes:a,updatedAt:new Date}),{success:!0,notes:a}}catch(n){return console.error("   :",n),{success:!1,error:n.message}}},fq=async t=>{try{const e=rr(Vn,"schools",t),n=await Yr(e);return n.exists()?{success:!0,schoolData:n.data()}:{success:!1,error:"   "}}catch(e){return console.error("    :",e),{success:!1,error:e.message}}},bA=async(t,e)=>{try{const n=rr(Vn,"schools",t);return await V9(n,e,{merge:!0}),{success:!0}}catch(n){return console.error("  /  :",n),{success:!1,error:n.message}}};function eM(t){const e=new Date(t.getFullYear(),0,1),n=(t-e)/864e5;return Math.ceil((n+e.getDay()+1)/7)}function tM(t,e,n){const r=t.find(i=>i.week===e);return r?(r.points+=n,r.rating=Math.min(10,r.points/3)):t.push({week:e,points:n,rating:Math.min(10,n/3)}),t}const dq=async(t,e,n)=>{try{const r=await Bz(fn,t,e);return await qz(r.user,{displayName:n}),{success:!0,user:r.user}}catch(r){return{success:!1,error:r.message}}},hq=async(t,e)=>{try{return{success:!0,user:(await zz(fn,t,e)).user}}catch(n){return{success:!1,error:n.message}}},pq=async()=>{try{return await Xz(fn),{success:!0}}catch(t){return{success:!1,error:t.message}}},mq=t=>Kz(fn,t),nM=M.createContext(),gq=({children:t})=>{const[e,n]=M.useState("   "),[r,i]=M.useState(null),[o,a]=M.useState(!0),[s,l]=M.useState(null),[u,c]=M.useState(localStorage.getItem("attendanceMode")||"summer"),[f,h]=M.useState(localStorage.getItem("darkMode")==="true");M.useEffect(()=>{const b=document.documentElement;f?b.classList.add("dark"):b.classList.remove("dark"),localStorage.setItem("darkMode",f)},[f]),M.useEffect(()=>{const b=mq(async _=>{var w;if(i(_),_){const O=await fq(_.uid);if(O.success){const A={attendanceMode:O.schoolData.attendanceMode||u,...O.schoolData};l(A),n(((w=O.schoolData)==null?void 0:w.schoolName)||"   ")}else{const A={schoolName:" ",teacherName:_.displayName||"",phone:"",email:_.email,address:"",sectionsCount:0,studentCount:0,memorizers:0,teacherSubtitle:"   ",attendanceMode:u,createdAt:new Date,updatedAt:new Date};(await bA(_.uid,A)).success&&(l(A),n(A.schoolName))}}else l(null),n("   ");a(!1)});return()=>b()},[]);const p=async b=>{if(r){const _={...s,...b,updatedAt:new Date},w=await bA(r.uid,_);return w.success?(l(_),b.schoolName&&n(b.schoolName),{success:!0}):{success:!1,error:w.error}}return{success:!1,error:"   "}},v={appName:e,setAppName:n,user:r,setUser:i,loading:o,schoolData:s,updateSchoolData:p,attendanceMode:u,toggleAttendanceMode:()=>{const b=u==="summer"?"winter":"summer";c(b),localStorage.setItem("attendanceMode",b),s&&p({attendanceMode:b})},darkMode:f,toggleDarkMode:()=>{h(b=>!b)}};return E.jsx(nM.Provider,{value:v,children:t})},Il=()=>M.useContext(nM);function yq(){const t=pf(),e=mf(),[n,r]=M.useState(!1),[i,o]=M.useState(""),[a,s]=M.useState([]),[l,u]=M.useState([]),{darkMode:c,toggleDarkMode:f}=Il(),h=g=>t.pathname===g;M.useEffect(()=>{(async()=>{const v=await Ks();v.success&&u(v.students)})()},[]);const p=g=>{const v=g.target.value;if(o(v),v.trim()){const b=l.filter(_=>`${_.firstName} ${_.lastName}`.toLowerCase().includes(v.toLowerCase()));s(b)}else s([])},m=g=>{e(`/student/${g}`),r(!1),o(""),s([])};return E.jsx("nav",{className:"fixed top-0 w-full bg-white dark:bg-gray-900 shadow-lg z-50 border-b-2 border-green-100 dark:border-gray-800",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4",children:E.jsxs("div",{className:"flex justify-between items-center h-16",children:[E.jsxs("div",{className:"flex items-center space-x-reverse space-x-4",children:[E.jsx("img",{src:"https://imagedelivery.net/FIZL8110j4px64kO6qJxWA/bfd73f8a-6405-40cb-fc49-234bf7906a00/public",alt:" ",className:"h-10 w-10 rounded-full object-cover"}),E.jsx("h1",{className:"text-xl font-bold text-green-800 dark:text-green-300",children:" "})]}),E.jsxs("div",{className:"flex items-center space-x-reverse space-x-6",children:[E.jsxs(Cn,{to:"/",className:`flex items-center space-x-reverse space-x-2 px-3 py-2 rounded-lg transition-colors ${h("/")?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"text-gray-600 dark:text-gray-300 hover:text-green-800 dark:hover:text-green-200"}`,children:[E.jsx(j6,{size:20}),E.jsx("span",{children:""})]}),E.jsxs(Cn,{to:"/students",className:`flex items-center space-x-reverse space-x-2 px-3 py-2 rounded-lg transition-colors ${h("/students")?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"text-gray-600 dark:text-gray-300 hover:text-green-800 dark:hover:text-green-200"}`,children:[E.jsx(XN,{size:20}),E.jsx("span",{children:""})]}),E.jsxs(Cn,{to:"/evaluation",className:`flex items-center space-x-reverse space-x-2 px-3 py-2 rounded-lg transition-colors ${h("/evaluation")?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"text-gray-600 dark:text-gray-300 hover:text-green-800 dark:hover:text-green-200"}`,children:[E.jsx(cw,{size:20}),E.jsx("span",{children:""})]}),E.jsxs(Cn,{to:"/my-school",className:`flex items-center space-x-reverse space-x-2 px-3 py-2 rounded-lg transition-colors ${h("/my-school")?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"text-gray-600 dark:text-gray-300 hover:text-green-800 dark:hover:text-green-200"}`,children:[E.jsx(W6,{size:20}),E.jsx("span",{children:""})]}),E.jsx("button",{onClick:f,className:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:" ",children:c?"":""}),E.jsxs("div",{className:"relative",children:[n?E.jsxs("div",{className:"flex items-center bg-white dark:bg-gray-900 border-2 border-green-500 rounded-full px-4 py-2 min-w-[300px]",children:[E.jsx(CS,{size:16,className:"text-green-600 ml-2"}),E.jsx("input",{type:"text",value:i,onChange:p,placeholder:"  ...",className:"flex-1 outline-none text-sm bg-transparent text-gray-900 dark:text-gray-100",autoFocus:!0}),E.jsx("button",{onClick:()=>{r(!1),o(""),s([])},className:"text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100 mr-2",children:E.jsx(dw,{size:16})})]}):E.jsxs("button",{onClick:()=>r(!0),className:"flex items-center px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[E.jsx(CS,{size:16,className:"ml-2"}),E.jsx("span",{className:"text-sm",children:"  ..."})]}),n&&a.length>0&&E.jsx("div",{className:"absolute top-full mt-2 w-full bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:a.map(g=>E.jsx("button",{onClick:()=>m(g.id),className:"w-full text-right px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors border-b border-gray-100 dark:border-gray-800 last:border-b-0",children:E.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:[g.firstName," ",g.lastName]})},g.id))})]})]})]})})})}function _A(){return E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 relative overflow-hidden",children:[E.jsxs("div",{className:"absolute inset-0 opacity-10",children:[E.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-green-400 rounded-full animate-bounce"}),E.jsx("div",{className:"absolute top-20 right-20 w-16 h-16 bg-blue-400 rounded-full animate-pulse"}),E.jsx("div",{className:"absolute bottom-20 left-20 w-24 h-24 bg-purple-400 rounded-full animate-bounce"}),E.jsx("div",{className:"absolute bottom-10 right-10 w-12 h-12 bg-yellow-400 rounded-full animate-pulse"})]}),E.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-6 py-20",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("div",{className:"w-32 h-32 mx-auto mb-8 bg-gradient-to-br from-green-400 to-blue-600 rounded-full flex items-center justify-center shadow-2xl",children:E.jsx(cw,{size:64,className:"text-white"})}),E.jsx("h1",{className:"text-5xl font-bold text-gray-800 dark:text-white mb-4",style:{fontFamily:"serif"},children:"   "}),E.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"      "})]}),E.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 mb-12 shadow-xl border border-gray-200 dark:border-gray-700",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-4xl mb-4",children:""}),E.jsx("h2",{className:"text-2xl font-bold text-green-700 dark:text-green-400 mb-4",style:{fontFamily:"serif"},children:"  "}),E.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"  -  4"})]})}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-16",children:[E.jsx(Cn,{to:"/login",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-xl text-lg font-semibold transition-colors shadow-lg hover:shadow-xl transform hover:scale-105",children:" "}),E.jsx(Cn,{to:"/register",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl text-lg font-semibold transition-colors shadow-lg hover:shadow-xl transform hover:scale-105",children:"  "})]}),E.jsx("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 dark:from-green-900/40 dark:to-blue-900/40 rounded-2xl p-8 mb-12 border border-green-200 dark:border-green-800",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-3xl mb-4",children:""}),E.jsx("h3",{className:"text-xl font-bold text-green-800 dark:text-green-300 mb-2",children:" "}),E.jsxs("p",{className:"text-gray-700 dark:text-gray-200 leading-relaxed",children:["                .",E.jsx("br",{}),E.jsx("span",{className:"font-semibold text-green-700 dark:text-green-400",children:"      "})]})]})}),E.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl border border-gray-200 dark:border-gray-700",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:" "}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-center space-x-reverse space-x-4",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:" :"}),E.jsx("span",{className:"font-semibold text-gray-800 dark:text-white",children:"  "})]}),E.jsxs("div",{className:"flex items-center justify-center space-x-reverse space-x-4",children:[E.jsx(D6,{size:20,className:"text-blue-600 dark:text-blue-400"}),E.jsx("a",{href:"mailto:mohamedelghazali982@gmail.com",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-semibold transition-colors",children:"mohamedelghazali982@gmail.com"})]}),E.jsxs("div",{className:"flex items-center justify-center space-x-reverse space-x-4",children:[E.jsx(V6,{size:20,className:"text-green-600 dark:text-green-400"}),E.jsx("a",{href:"https://wa.me/0791315345",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 font-semibold transition-colors",children:"0791315345"})]})]})]})}),E.jsx("div",{className:"text-center mt-12",children:E.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:" 2024    .   ."})})]})]})}const ku=t=>t?t===""||typeof t=="string"&&t.toLowerCase()==="morning"?"morning":t===""||typeof t=="string"&&t.toLowerCase()==="evening"?"evening":t:"",vq=t=>t>=8?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-200":t>=6?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-200",bq=t=>t===0?"gold-border":t===1?"silver-border":t===2?"bronze-border":"border-gray-200 dark:border-gray-700",wA=t=>t===0?"":t===1?"":t===2?"":null;function _q(){const t=mf(),[e,n]=M.useState([]),[r,i]=M.useState(!0),[o,a]=M.useState("");return M.useEffect(()=>{(async()=>{const l=await Ks();if(l.success){const u=l.students.map(c=>({id:c.id,name:`${c.firstName} ${c.lastName}`,stars:c.stars||0,absences:0,hizb:c.hizb||1,weeklyPoints:c.weeklyPoints||0,weeklyRating:c.weeklyRating||0}));u.sort((c,f)=>f.weeklyPoints-c.weeklyPoints),n(u)}else a(l.error);i(!1)})()},[]),r?E.jsx("div",{className:"max-w-7xl mx-auto p-6",children:E.jsxs("div",{className:"text-center py-12",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"  ..."})]})}):o?E.jsx("div",{className:"max-w-7xl mx-auto p-6",children:E.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:o})}):E.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-2",children:" "}),E.jsx("p",{className:"text-gray-600",children:"  "})]}),e.length===0?E.jsxs("div",{className:"text-center py-12",children:[E.jsx("p",{className:"text-gray-600 text-lg",children:"    "}),E.jsx("button",{onClick:()=>t("/add-student"),className:"mt-4 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"  "})]}):E.jsx("div",{className:"space-y-4",children:e.map((s,l)=>E.jsx("div",{onClick:()=>t(`/student/${s.id}`),className:`bg-white rounded-xl p-6 shadow-lg border-2 ${bq(l)} hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 cursor-pointer group`,children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-reverse space-x-4",children:[E.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-lg group-hover:scale-110 transition-transform relative",children:[l+1,wA(l)&&E.jsx("div",{className:"absolute -top-2 -right-2",children:wA(l)})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-gray-800 text-lg group-hover:text-green-700 transition-colors",children:s.name}),E.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[" : ",E.jsx("span",{className:"font-semibold text-green-600",children:s.hizb})]})]})]}),E.jsxs("div",{className:"flex items-center space-x-reverse space-x-6",children:[E.jsx("div",{className:"flex justify-center",children:[...Array(5)].map((u,c)=>E.jsx(_m,{size:18,className:`${c<s.stars?"star-gold fill-current":"text-gray-300"} group-hover:scale-110 transition-transform`},c))}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-sm text-gray-500",children:""}),E.jsxs("div",{className:"font-semibold text-green-600",children:[s.weeklyRating||0,"/10"]})]}),l>=e.length-5&&E.jsx("div",{className:"bg-red-50 text-red-600 px-3 py-1 rounded-full text-sm font-semibold group-hover:bg-red-100 transition-colors",children:" "})]})]})},s.id))})]})}const wq=["","","","","","","","","","","",""];function rM(t,{includeTime:e=!0}={}){try{let n;if(typeof t=="string"?n=new Date(t):t instanceof Date?n=t:t&&typeof t=="object"&&(typeof t.toDate=="function"?n=t.toDate():typeof t.seconds=="number"&&(n=new Date(t.seconds*1e3))),!n||isNaN(n.getTime()))return" ";const r=String(n.getDate()).padStart(2,"0"),i=wq[n.getMonth()],o=n.getFullYear();if(!e)return`${r} ${i} ${o}`;const a=String(n.getHours()).padStart(2,"0"),s=String(n.getMinutes()).padStart(2,"0");return`${r} ${i} ${o} - ${a}:${s}`}catch{return" "}}function xq(){const[t,e]=M.useState([]),[n,r]=M.useState(!0),[i,o]=M.useState(""),[a,s]=M.useState({totalStudents:0,morningPresent:0,eveningPresent:0,attendanceRate:0}),[l,u]=M.useState(!1),[c,f]=M.useState(null);M.useEffect(()=>{v()},[]);const{schoolData:h,updateSchoolData:p,attendanceMode:m,toggleAttendanceMode:g}=Il(),v=async()=>{const T=await Ks();T.success?(e(T.students),b(T.students)):o(T.error),r(!1)},b=T=>{const N=new Date().toISOString().split("T")[0];let C=0,R=0;T.forEach(F=>{const z=(F.attendanceHistory||[]).filter(W=>W.date===N);z.find(W=>ku(W.period)==="morning")&&C++,z.find(W=>ku(W.period)==="evening")&&R++});let k=T.length*2;m==="winter"&&(k=T.length*1);const U=k>0?Math.round((C+R)/k*100):0;s({totalStudents:T.length,morningPresent:C,eveningPresent:R,attendanceRate:U})},_=async(T,N)=>{if(m==="winter"){if(N===""){alert("      ");return}const R=await Wy(T,"");if(!R.success){alert(R.error);return}const k=await Wy(T,"-"),U=(R.weeklyPoints||0)+(k.success?1:0),F=(R.dailyPoints||0)+(k.success?1:0),z=R.attendanceHistory;e(W=>W.map(L=>L.id===T?{...L,weeklyPoints:U,dailyPoints:F,attendanceHistory:z}:L)),b(t.map(W=>W.id===T?{...W,weeklyPoints:U,dailyPoints:F,attendanceHistory:z}:W)),alert("    (  - )");return}const C=await Wy(T,N);if(C.success){const R=t.map(k=>k.id===T?{...k,weeklyPoints:C.weeklyPoints,dailyPoints:C.dailyPoints,attendanceHistory:C.attendanceHistory}:k);e(R),b(R),alert(`   ${N} `)}else alert(C.error)},w=async T=>{const N=await sq(T);if(N.success){const C=t.map(R=>R.id===T?{...R,weeklyPoints:N.weeklyPoints,dailyPoints:N.dailyPoints,weeklyRating:N.weeklyRating,stars:N.stars}:R);e(C),b(C),alert("   ")}else alert(N.error)},O=T=>{f({...T}),u(!0)},A=async()=>{const T=await Zj(c.id,c);T.success?(e(N=>N.map(C=>C.id===c.id?c:C)),u(!1),f(null),alert("    ")):alert("    : "+T.error)},I=(T,N)=>{f(C=>({...C,[T]:N}))},x=(T,N)=>{const C=new Date().toISOString().split("T")[0],R=ku(N);return(T.attendanceHistory||[]).some(k=>k.date===C&&ku(k.period)===R)||!1},S=T=>{const N=new Date().toISOString().split("T")[0];return(T.presentationHistory||[]).some(C=>C.date===N)||!1};return n?E.jsx("div",{className:"max-w-6xl mx-auto p-6",children:E.jsxs("div",{className:"text-center py-12",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),E.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"  ..."})]})}):i?E.jsx("div",{className:"max-w-6xl mx-auto p-6",children:E.jsx("div",{className:"bg-red-100 dark:bg-red-900/40 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-200 px-4 py-3 rounded-lg",children:i})}):E.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsxs("h1",{className:"text-3xl font-bold text-green-800 dark:text-green-300 flex items-center",children:[E.jsx(XN,{size:32,className:"ml-3"}),""]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("button",{onClick:g,className:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700",title:"   /",children:[": ",m==="summer"?"":""]}),E.jsxs(Cn,{to:"/add-student",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[E.jsx(kS,{size:20,className:"ml-2"}),"  "]})]})]}),E.jsxs("div",{className:"mb-6 text-gray-600 dark:text-gray-300",children:[" : ",rM(new Date,{includeTime:!1})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[E.jsxs("div",{className:"rounded-xl shadow-lg p-6 text-center bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:[E.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-300",children:a.totalStudents}),E.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:" "})]}),E.jsxs("div",{className:"rounded-xl shadow-lg p-6 text-center bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:[E.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-300",children:a.morningPresent}),E.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:" "})]}),E.jsxs("div",{className:"rounded-xl shadow-lg p-6 text-center bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:[E.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-300",children:a.eveningPresent}),E.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:" "})]}),E.jsxs("div",{className:"rounded-xl shadow-lg p-6 text-center bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:[E.jsxs("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-300",children:[a.attendanceRate,"%"]}),E.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"  "})]})]}),t.length===0?E.jsxs("div",{className:"text-center py-12",children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg mb-4",children:"    "}),E.jsxs(Cn,{to:"/add-student",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors inline-flex items-center",children:[E.jsx(kS,{size:20,className:"ml-2"}),"  "]})]}):E.jsx("div",{className:"space-y-4",children:t.map(T=>E.jsx("div",{className:"rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center space-x-reverse space-x-4",children:[E.jsxs(Cn,{to:`/student/${T.id}`,className:"font-semibold text-gray-800 dark:text-gray-100 hover:text-green-600 dark:hover:text-green-300 transition-colors cursor-pointer",children:[E.jsxs("span",{children:[T.firstName," ",T.lastName]}),T.isFrozen&&E.jsx("span",{className:"text-red-500 dark:text-red-300 mr-2 text-sm",children:"()"})]}),E.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[E.jsxs("div",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-200",children:[T.weeklyPoints||0," "]}),E.jsx("div",{className:"flex",children:[...Array(5)].map((N,C)=>E.jsx(_m,{size:14,className:`${C<(T.stars||0)?"text-yellow-500 fill-current":"text-gray-300 dark:text-gray-600"}`},C))})]})]}),E.jsxs("div",{className:"flex items-center space-x-reverse space-x-3",children:[E.jsx("button",{onClick:()=>w(T.id),disabled:T.isFrozen||S(T),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${S(T)?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-200 cursor-default":T.isFrozen?"bg-gray-100 text-gray-400 dark:bg-gray-800 dark:text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:S(T)?" ":""}),E.jsx("button",{onClick:()=>_(T.id,""),disabled:m==="winter"||T.isFrozen||x(T,""),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${m==="winter"?"bg-gray-100 text-gray-400 dark:bg-gray-800 dark:text-gray-500 cursor-not-allowed":x(T,"")?"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-200 cursor-default":T.isFrozen?"bg-gray-100 text-gray-400 dark:bg-gray-800 dark:text-gray-500 cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600"}`,children:m==="winter"?" ":x(T,"")?" ":""}),E.jsx("button",{onClick:()=>_(T.id,""),disabled:T.isFrozen||x(T,""),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${x(T,"")?"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-200 cursor-default":T.isFrozen?"bg-gray-100 text-gray-400 dark:bg-gray-800 dark:text-gray-500 cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600"}`,children:m==="winter"?" (2 )":x(T,"")?" ":""}),E.jsxs("button",{onClick:()=>O(T),className:"flex items-center px-3 py-2 bg-blue-500 text-white rounded-lg text-sm hover:bg-blue-600 transition-colors",children:[E.jsx(fw,{size:14,className:"ml-1"}),""]})]})]})},T.id))}),l&&c&&E.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/60 backdrop-blur-[1px] flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full mx-4 border border-gray-200 dark:border-gray-800",children:[E.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:["   - ",c.firstName," ",c.lastName]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),E.jsx("input",{type:"text",value:c.firstName,onChange:T=>I("firstName",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),E.jsx("input",{type:"text",value:c.lastName,onChange:T=>I("lastName",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"  "}),E.jsx("input",{type:"tel",value:c.fatherPhone||"",onChange:T=>I("fatherPhone",T.target.value),placeholder:"    ",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),E.jsx("select",{value:c.hizb,onChange:T=>I("hizb",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:Array.from({length:60},(T,N)=>E.jsx("option",{value:N+1,children:N+1},N+1))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),E.jsx("select",{value:c.quarter,onChange:T=>I("quarter",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:Array.from({length:8},(T,N)=>E.jsx("option",{value:N+1,children:N+1},N+1))})]})]})]}),E.jsxs("div",{className:"flex space-x-reverse space-x-3 mt-6",children:[E.jsx("button",{onClick:A,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:""}),E.jsx("button",{onClick:()=>{u(!1),f(null)},className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:""})]})]})})]})}function Eq(){const t=mf(),[e,n]=M.useState({firstName:"",lastName:"",hizb:"",quarter:"",fatherPhone:""}),[r,i]=M.useState(!1),[o,a]=M.useState(""),s=async u=>{u.preventDefault(),i(!0),a("");const c=await rq(e);c.success?t("/students"):a(c.error),i(!1)},l=u=>{n({...e,[u.target.name]:u.target.value})};return E.jsx("div",{className:"max-w-2xl mx-auto p-6",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[E.jsx("h1",{className:"text-2xl font-bold text-green-800 text-center mb-8",children:"  "}),E.jsxs("form",{onSubmit:s,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),E.jsx("input",{type:"text",name:"firstName",value:e.firstName,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"text",name:"lastName",value:e.lastName,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsxs("select",{name:"hizb",value:e.hizb,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[E.jsx("option",{value:"",children:" "}),Array.from({length:60},(u,c)=>E.jsxs("option",{value:c+1,children:[" ",c+1]},c+1))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsxs("select",{name:"quarter",value:e.quarter,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[E.jsx("option",{value:"",children:" "}),Array.from({length:8},(u,c)=>E.jsxs("option",{value:c+1,children:[" ",c+1]},c+1))]})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),E.jsx("input",{type:"tel",name:"fatherPhone",value:e.fatherPhone,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),o&&E.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:o}),E.jsx("button",{type:"submit",disabled:r,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:r?"  ...":" "})]})]})})}function Sq(){const[t,e]=M.useState([]),[n,r]=M.useState(!0),[i,o]=M.useState(""),[a,s]=M.useState(!1),[l,u]=M.useState(null),[c,f]=M.useState("");M.useEffect(()=>{(async()=>{const m=await Ks();if(m.success){const g=m.students.map(v=>({id:v.id,name:`${v.firstName} ${v.lastName}`,rating:v.weeklyRating||0,weeklyPoints:v.weeklyPoints||0,stars:v.stars||0,isFrozen:v.isFrozen||!1,isActive:v.isActive!==!1}));g.sort((v,b)=>b.rating-v.rating),e(g)}else o(m.error);r(!1)})()},[]);const h=async()=>{if(c.trim()&&l){const p=await uq(l.id,c);if(p.success){alert("   "),f(""),s(!1),u(null);const m=await Ks();if(m.success){const g=m.students.map(v=>({id:v.id,name:`${v.firstName} ${v.lastName}`,rating:v.weeklyRating||0,weeklyPoints:v.weeklyPoints||0,stars:v.stars||0,isFrozen:v.isFrozen||!1,isActive:v.isActive!==!1}));g.sort((v,b)=>b.rating-v.rating),e(g)}}else alert("    : "+p.error)}};return n?E.jsx("div",{className:"max-w-6xl mx-auto p-6",children:E.jsxs("div",{className:"text-center py-12",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),E.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"  ..."})]})}):i?E.jsx("div",{className:"max-w-6xl mx-auto p-6",children:E.jsx("div",{className:"bg-red-100 dark:bg-red-900/40 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-200 px-4 py-3 rounded-lg",children:i})}):E.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[E.jsx("h1",{className:"text-3xl font-bold text-green-800 dark:text-green-300 text-center mb-8",children:""}),E.jsx("div",{className:"rounded-xl shadow-lg overflow-hidden bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:E.jsx("div",{className:"p-6",children:t.length===0?E.jsxs("div",{className:"text-center py-12",children:[E.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"    "}),E.jsx(Cn,{to:"/add-student",className:"mt-4 inline-block bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"  "})]}):E.jsx("div",{className:"grid gap-4",children:t.map(p=>E.jsxs("div",{className:`flex justify-between items-center p-4 rounded-lg border transition-all ${p.isFrozen?"bg-gray-100 dark:bg-gray-800/60 border-gray-300 dark:border-gray-700":"bg-gradient-to-r from-gray-50 to-white dark:from-gray-900 dark:to-gray-900 border-gray-200 dark:border-gray-800 hover:shadow-md"}`,children:[E.jsxs("div",{className:"flex items-center space-x-reverse space-x-4",children:[E.jsx(Cn,{to:`/student/${p.id}`,className:"flex-1",children:E.jsxs("h3",{className:`font-semibold ${p.isFrozen?"text-gray-500 dark:text-gray-400":"text-gray-800 dark:text-gray-100"}`,children:[p.name,p.isFrozen&&E.jsx("span",{className:"text-red-500 dark:text-red-300 mr-2",children:"()"})]})}),E.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[E.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-200 px-2 py-1 rounded-full text-xs font-semibold",children:[p.weeklyPoints," "]}),E.jsx("div",{className:"flex",children:[...Array(5)].map((m,g)=>E.jsx(_m,{size:14,className:`${g<p.stars?"text-yellow-500 fill-current":"text-gray-300 dark:text-gray-600"}`},g))})]})]}),E.jsxs("div",{className:"flex items-center space-x-reverse space-x-3",children:[E.jsxs("button",{onClick:()=>{u(p),s(!0)},className:"bg-blue-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-blue-600 transition-colors flex items-center",disabled:p.isFrozen,children:[E.jsx($6,{size:14,className:"ml-1"}),""]}),E.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-semibold ${vq(p.rating)}`,children:[p.rating.toFixed(1),"/10"]})]})]},p.id))})})}),a&&E.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/60 backdrop-blur-[1px] flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full mx-4 border border-gray-200 dark:border-gray-800",children:[E.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:["  : ",l==null?void 0:l.name]}),E.jsx("textarea",{value:c,onChange:p=>f(p.target.value),placeholder:"  ...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 h-32 resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),E.jsxs("div",{className:"flex space-x-reverse space-x-3 mt-4",children:[E.jsx("button",{onClick:h,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:" "}),E.jsx("button",{onClick:()=>{s(!1),u(null),f("")},className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:""})]})]})})]})}function iM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=iM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ae(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=iM(t))&&(r&&(r+=" "),r+=e);return r}var Tq=Array.isArray,xn=Tq,Aq=typeof td=="object"&&td&&td.Object===Object&&td,oM=Aq,Pq=oM,Iq=typeof self=="object"&&self&&self.Object===Object&&self,Oq=Pq||Iq||Function("return this")(),Jr=Oq,kq=Jr,Cq=kq.Symbol,If=Cq,xA=If,aM=Object.prototype,Nq=aM.hasOwnProperty,Rq=aM.toString,cu=xA?xA.toStringTag:void 0;function jq(t){var e=Nq.call(t,cu),n=t[cu];try{t[cu]=void 0;var r=!0}catch{}var i=Rq.call(t);return r&&(e?t[cu]=n:delete t[cu]),i}var Mq=jq,Dq=Object.prototype,$q=Dq.toString;function Lq(t){return $q.call(t)}var Vq=Lq,EA=If,Fq=Mq,Uq=Vq,Bq="[object Null]",zq="[object Undefined]",SA=EA?EA.toStringTag:void 0;function Wq(t){return t==null?t===void 0?zq:Bq:SA&&SA in Object(t)?Fq(t):Uq(t)}var Ni=Wq;function qq(t){return t!=null&&typeof t=="object"}var Ri=qq,Hq=Ni,Gq=Ri,Kq="[object Symbol]";function Xq(t){return typeof t=="symbol"||Gq(t)&&Hq(t)==Kq}var Ol=Xq,Yq=xn,Qq=Ol,Jq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zq=/^\w*$/;function eH(t,e){if(Yq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Qq(t)?!0:Zq.test(t)||!Jq.test(t)||e!=null&&t in Object(e)}var u1=eH;function tH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jo=tH;const kl=$e(jo);var nH=Ni,rH=jo,iH="[object AsyncFunction]",oH="[object Function]",aH="[object GeneratorFunction]",sH="[object Proxy]";function lH(t){if(!rH(t))return!1;var e=nH(t);return e==oH||e==aH||e==iH||e==sH}var c1=lH;const ge=$e(c1);var uH=Jr,cH=uH["__core-js_shared__"],fH=cH,qy=fH,TA=function(){var t=/[^.]+$/.exec(qy&&qy.keys&&qy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function dH(t){return!!TA&&TA in t}var hH=dH,pH=Function.prototype,mH=pH.toString;function gH(t){if(t!=null){try{return mH.call(t)}catch{}try{return t+""}catch{}}return""}var sM=gH,yH=c1,vH=hH,bH=jo,_H=sM,wH=/[\\^$.*+?()[\]{}|]/g,xH=/^\[object .+?Constructor\]$/,EH=Function.prototype,SH=Object.prototype,TH=EH.toString,AH=SH.hasOwnProperty,PH=RegExp("^"+TH.call(AH).replace(wH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function IH(t){if(!bH(t)||vH(t))return!1;var e=yH(t)?PH:xH;return e.test(_H(t))}var OH=IH;function kH(t,e){return t==null?void 0:t[e]}var CH=kH,NH=OH,RH=CH;function jH(t,e){var n=RH(t,e);return NH(n)?n:void 0}var La=jH,MH=La,DH=MH(Object,"create"),Km=DH,AA=Km;function $H(){this.__data__=AA?AA(null):{},this.size=0}var LH=$H;function VH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var FH=VH,UH=Km,BH="__lodash_hash_undefined__",zH=Object.prototype,WH=zH.hasOwnProperty;function qH(t){var e=this.__data__;if(UH){var n=e[t];return n===BH?void 0:n}return WH.call(e,t)?e[t]:void 0}var HH=qH,GH=Km,KH=Object.prototype,XH=KH.hasOwnProperty;function YH(t){var e=this.__data__;return GH?e[t]!==void 0:XH.call(e,t)}var QH=YH,JH=Km,ZH="__lodash_hash_undefined__";function eG(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=JH&&e===void 0?ZH:e,this}var tG=eG,nG=LH,rG=FH,iG=HH,oG=QH,aG=tG;function Cl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cl.prototype.clear=nG;Cl.prototype.delete=rG;Cl.prototype.get=iG;Cl.prototype.has=oG;Cl.prototype.set=aG;var sG=Cl;function lG(){this.__data__=[],this.size=0}var uG=lG;function cG(t,e){return t===e||t!==t&&e!==e}var f1=cG,fG=f1;function dG(t,e){for(var n=t.length;n--;)if(fG(t[n][0],e))return n;return-1}var Xm=dG,hG=Xm,pG=Array.prototype,mG=pG.splice;function gG(t){var e=this.__data__,n=hG(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():mG.call(e,n,1),--this.size,!0}var yG=gG,vG=Xm;function bG(t){var e=this.__data__,n=vG(e,t);return n<0?void 0:e[n][1]}var _G=bG,wG=Xm;function xG(t){return wG(this.__data__,t)>-1}var EG=xG,SG=Xm;function TG(t,e){var n=this.__data__,r=SG(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var AG=TG,PG=uG,IG=yG,OG=_G,kG=EG,CG=AG;function Nl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nl.prototype.clear=PG;Nl.prototype.delete=IG;Nl.prototype.get=OG;Nl.prototype.has=kG;Nl.prototype.set=CG;var Ym=Nl,NG=La,RG=Jr,jG=NG(RG,"Map"),d1=jG,PA=sG,MG=Ym,DG=d1;function $G(){this.size=0,this.__data__={hash:new PA,map:new(DG||MG),string:new PA}}var LG=$G;function VG(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var FG=VG,UG=FG;function BG(t,e){var n=t.__data__;return UG(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Qm=BG,zG=Qm;function WG(t){var e=zG(this,t).delete(t);return this.size-=e?1:0,e}var qG=WG,HG=Qm;function GG(t){return HG(this,t).get(t)}var KG=GG,XG=Qm;function YG(t){return XG(this,t).has(t)}var QG=YG,JG=Qm;function ZG(t,e){var n=JG(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var eK=ZG,tK=LG,nK=qG,rK=KG,iK=QG,oK=eK;function Rl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rl.prototype.clear=tK;Rl.prototype.delete=nK;Rl.prototype.get=rK;Rl.prototype.has=iK;Rl.prototype.set=oK;var h1=Rl,lM=h1,aK="Expected a function";function p1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(aK);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(p1.Cache||lM),n}p1.Cache=lM;var uM=p1;const sK=$e(uM);var lK=uM,uK=500;function cK(t){var e=lK(t,function(r){return n.size===uK&&n.clear(),r}),n=e.cache;return e}var fK=cK,dK=fK,hK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pK=/\\(\\)?/g,mK=dK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(hK,function(n,r,i,o){e.push(i?o.replace(pK,"$1"):r||n)}),e}),gK=mK;function yK(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var m1=yK,IA=If,vK=m1,bK=xn,_K=Ol,wK=1/0,OA=IA?IA.prototype:void 0,kA=OA?OA.toString:void 0;function cM(t){if(typeof t=="string")return t;if(bK(t))return vK(t,cM)+"";if(_K(t))return kA?kA.call(t):"";var e=t+"";return e=="0"&&1/t==-wK?"-0":e}var xK=cM,EK=xK;function SK(t){return t==null?"":EK(t)}var fM=SK,TK=xn,AK=u1,PK=gK,IK=fM;function OK(t,e){return TK(t)?t:AK(t,e)?[t]:PK(IK(t))}var dM=OK,kK=Ol,CK=1/0;function NK(t){if(typeof t=="string"||kK(t))return t;var e=t+"";return e=="0"&&1/t==-CK?"-0":e}var Jm=NK,RK=dM,jK=Jm;function MK(t,e){e=RK(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[jK(e[n++])];return n&&n==r?t:void 0}var g1=MK,DK=g1;function $K(t,e,n){var r=t==null?void 0:DK(t,e);return r===void 0?n:r}var hM=$K;const Yn=$e(hM);function LK(t){return t==null}var VK=LK;const ve=$e(VK);var FK=Ni,UK=xn,BK=Ri,zK="[object String]";function WK(t){return typeof t=="string"||!UK(t)&&BK(t)&&FK(t)==zK}var qK=WK;const xa=$e(qK);var pM={exports:{}},Re={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1=Symbol.for("react.element"),v1=Symbol.for("react.portal"),Zm=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),ng=Symbol.for("react.provider"),rg=Symbol.for("react.context"),HK=Symbol.for("react.server_context"),ig=Symbol.for("react.forward_ref"),og=Symbol.for("react.suspense"),ag=Symbol.for("react.suspense_list"),sg=Symbol.for("react.memo"),lg=Symbol.for("react.lazy"),GK=Symbol.for("react.offscreen"),mM;mM=Symbol.for("react.module.reference");function ir(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case y1:switch(t=t.type,t){case Zm:case tg:case eg:case og:case ag:return t;default:switch(t=t&&t.$$typeof,t){case HK:case rg:case ig:case lg:case sg:case ng:return t;default:return e}}case v1:return e}}}Re.ContextConsumer=rg;Re.ContextProvider=ng;Re.Element=y1;Re.ForwardRef=ig;Re.Fragment=Zm;Re.Lazy=lg;Re.Memo=sg;Re.Portal=v1;Re.Profiler=tg;Re.StrictMode=eg;Re.Suspense=og;Re.SuspenseList=ag;Re.isAsyncMode=function(){return!1};Re.isConcurrentMode=function(){return!1};Re.isContextConsumer=function(t){return ir(t)===rg};Re.isContextProvider=function(t){return ir(t)===ng};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===y1};Re.isForwardRef=function(t){return ir(t)===ig};Re.isFragment=function(t){return ir(t)===Zm};Re.isLazy=function(t){return ir(t)===lg};Re.isMemo=function(t){return ir(t)===sg};Re.isPortal=function(t){return ir(t)===v1};Re.isProfiler=function(t){return ir(t)===tg};Re.isStrictMode=function(t){return ir(t)===eg};Re.isSuspense=function(t){return ir(t)===og};Re.isSuspenseList=function(t){return ir(t)===ag};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zm||t===tg||t===eg||t===og||t===ag||t===GK||typeof t=="object"&&t!==null&&(t.$$typeof===lg||t.$$typeof===sg||t.$$typeof===ng||t.$$typeof===rg||t.$$typeof===ig||t.$$typeof===mM||t.getModuleId!==void 0)};Re.typeOf=ir;pM.exports=Re;var KK=pM.exports,XK=Ni,YK=Ri,QK="[object Number]";function JK(t){return typeof t=="number"||YK(t)&&XK(t)==QK}var gM=JK;const ZK=$e(gM);var eX=gM;function tX(t){return eX(t)&&t!=+t}var nX=tX;const Of=$e(nX);var _r=function(e){return e===0?0:e>0?1:-1},na=function(e){return xa(e)&&e.indexOf("%")===e.length-1},ee=function(e){return ZK(e)&&!Of(e)},rX=function(e){return ve(e)},xt=function(e){return ee(e)||xa(e)},iX=0,kf=function(e){var n=++iX;return"".concat(e||"").concat(n)},Ea=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!xa(e))return r;var o;if(na(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Of(o)&&(o=r),i&&o>n&&(o=n),o},Xi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},oX=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},gr=function(e,n){return ee(e)&&ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function ip(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Yn(r,e))===n})}var aX=function(e,n){return ee(e)&&ee(n)?e-n:xa(e)&&xa(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ks(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}var sX=["viewBox","children"],lX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CA=["points","pathLength"],Hy={svg:sX,polygon:CA,polyline:CA},b1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],op=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!kl(r))return null;var i={};return Object.keys(r).forEach(function(o){b1.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},uX=function(e,n,r){return function(i){return e(n,r,i),null}},ap=function(e,n,r){if(!kl(e)||z0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];b1.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=uX(a,n,r))}),i},cX=["children"],fX=["children"];function NA(t,e){if(t==null)return{};var n=dX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}var RA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},mi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},jA=null,Gy=null,_1=function t(e){if(e===jA&&Array.isArray(Gy))return Gy;var n=[];return M.Children.forEach(e,function(r){ve(r)||(KK.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Gy=n,jA=e,n};function Qn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return mi(i)}):r=[mi(e)],_1(t).forEach(function(i){var o=Yn(i,"type.displayName")||Yn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Pn(t,e){var n=Qn(t,e);return n&&n[0]}var MA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ee(r)||r<=0||!ee(i)||i<=0)},hX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pX=function(e){return e&&e.type&&xa(e.type)&&hX.indexOf(e.type)>=0},mX=function(e){return e&&W0(e)==="object"&&"clipDot"in e},gX=function(e,n,r,i){var o,a=(o=Hy==null?void 0:Hy[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ge(e)&&(i&&a.includes(n)||lX.includes(n))||r&&b1.includes(n)},Ee=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!kl(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;gX((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},q0=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return DA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!DA(o,a))return!1}return!0},DA=function(e,n){if(ve(e)&&ve(n))return!0;if(!ve(e)&&!ve(n)){var r=e.props||{},i=r.children,o=NA(r,cX),a=n.props||{},s=a.children,l=NA(a,fX);return i&&s?ks(o,l)&&q0(i,s):!i&&!s?ks(o,l):!1}return!1},$A=function(e,n){var r=[],i={};return _1(e).forEach(function(o,a){if(pX(o))r.push(o);else if(o){var s=mi(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},yX=function(e){var n=e&&e.type;return n&&RA[n]?RA[n]:null},vX=function(e,n){return _1(n).indexOf(e)},bX=["children","width","height","viewBox","className","style","title","desc"];function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(this,arguments)}function _X(t,e){if(t==null)return{};var n=wX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=_X(t,bX),c=i||{width:n,height:r,x:0,y:0},f=Ae("recharts-surface",o);return D.createElement("svg",H0({},Ee(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var xX=["children","className"];function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K0.apply(this,arguments)}function EX(t,e){if(t==null)return{};var n=SX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ut=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=EX(t,xX),o=Ae("recharts-layer",r);return D.createElement("g",K0({className:o},Ee(i,!0),{ref:e}),n)}),gi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function TX(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var AX=TX,PX=AX;function IX(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:PX(t,e,n)}var OX=IX,kX="\\ud800-\\udfff",CX="\\u0300-\\u036f",NX="\\ufe20-\\ufe2f",RX="\\u20d0-\\u20ff",jX=CX+NX+RX,MX="\\ufe0e\\ufe0f",DX="\\u200d",$X=RegExp("["+DX+kX+jX+MX+"]");function LX(t){return $X.test(t)}var yM=LX;function VX(t){return t.split("")}var FX=VX,vM="\\ud800-\\udfff",UX="\\u0300-\\u036f",BX="\\ufe20-\\ufe2f",zX="\\u20d0-\\u20ff",WX=UX+BX+zX,qX="\\ufe0e\\ufe0f",HX="["+vM+"]",X0="["+WX+"]",Y0="\\ud83c[\\udffb-\\udfff]",GX="(?:"+X0+"|"+Y0+")",bM="[^"+vM+"]",_M="(?:\\ud83c[\\udde6-\\uddff]){2}",wM="[\\ud800-\\udbff][\\udc00-\\udfff]",KX="\\u200d",xM=GX+"?",EM="["+qX+"]?",XX="(?:"+KX+"(?:"+[bM,_M,wM].join("|")+")"+EM+xM+")*",YX=EM+xM+XX,QX="(?:"+[bM+X0+"?",X0,_M,wM,HX].join("|")+")",JX=RegExp(Y0+"(?="+Y0+")|"+QX+YX,"g");function ZX(t){return t.match(JX)||[]}var eY=ZX,tY=FX,nY=yM,rY=eY;function iY(t){return nY(t)?rY(t):tY(t)}var oY=iY,aY=OX,sY=yM,lY=oY,uY=fM;function cY(t){return function(e){e=uY(e);var n=sY(e)?lY(e):void 0,r=n?n[0]:e.charAt(0),i=n?aY(n,1).join(""):e.slice(1);return r[t]()+i}}var fY=cY,dY=fY,hY=dY("toUpperCase"),pY=hY;const ug=$e(pY);function Ve(t){return function(){return t}}const SM=Math.cos,sp=Math.sin,Ir=Math.sqrt,lp=Math.PI,cg=2*lp,Q0=Math.PI,J0=2*Q0,Ko=1e-6,mY=J0-Ko;function TM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return TM;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class yY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?TM:gY(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ko)if(!(Math.abs(f*l-u*c)>Ko)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,g=l*l+u*u,v=p*p+m*m,b=Math.sqrt(g),_=Math.sqrt(h),w=o*Math.tan((Q0-Math.acos((g+h-v)/(2*b*_)))/2),O=w/_,A=w/b;Math.abs(O-1)>Ko&&this._append`L${e+O*c},${n+O*f}`,this._append`A${o},${o},0,0,${+(f*p>c*m)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ko||Math.abs(this._y1-c)>Ko)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%J0+J0),h>mY?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Ko&&this._append`A${r},${r},0,${+(h>=Q0)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function w1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new yY(e)}function x1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function AM(t){this._context=t}AM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fg(t){return new AM(t)}function PM(t){return t[0]}function IM(t){return t[1]}function OM(t,e){var n=Ve(!0),r=null,i=fg,o=null,a=w1(s);t=typeof t=="function"?t:t===void 0?PM:Ve(t),e=typeof e=="function"?e:e===void 0?IM:Ve(e);function s(l){var u,c=(l=x1(l)).length,f,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ve(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ve(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ve(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Ad(t,e,n){var r=null,i=Ve(!0),o=null,a=fg,s=null,l=w1(u);t=typeof t=="function"?t:t===void 0?PM:Ve(+t),e=typeof e=="function"?e:Ve(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?IM:Ve(+n);function u(f){var h,p,m,g=(f=x1(f)).length,v,b=!1,_,w=new Array(g),O=new Array(g);for(o==null&&(s=a(_=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===b)if(b=!b)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],O[m]);s.lineEnd(),s.areaEnd()}b&&(w[h]=+t(v,h,f),O[h]=+e(v,h,f),s.point(r?+r(v,h,f):w[h],n?+n(v,h,f):O[h]))}if(_)return s=null,_+""||null}function c(){return OM().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ve(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ve(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ve(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ve(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ve(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ve(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ve(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class kM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function vY(t){return new kM(t,!0)}function bY(t){return new kM(t,!1)}const E1={draw(t,e){const n=Ir(e/lp);t.moveTo(n,0),t.arc(0,0,n,0,cg)}},_Y={draw(t,e){const n=Ir(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},CM=Ir(1/3),wY=CM*2,xY={draw(t,e){const n=Ir(e/wY),r=n*CM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},EY={draw(t,e){const n=Ir(e),r=-n/2;t.rect(r,r,n,n)}},SY=.8908130915292852,NM=sp(lp/10)/sp(7*lp/10),TY=sp(cg/10)*NM,AY=-SM(cg/10)*NM,PY={draw(t,e){const n=Ir(e*SY),r=TY*n,i=AY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=cg*o/5,s=SM(a),l=sp(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Ky=Ir(3),IY={draw(t,e){const n=-Ir(e/(Ky*3));t.moveTo(0,n*2),t.lineTo(-Ky*n,-n),t.lineTo(Ky*n,-n),t.closePath()}},Fn=-.5,Un=Ir(3)/2,Z0=1/Ir(12),OY=(Z0/2+1)*3,kY={draw(t,e){const n=Ir(e/OY),r=n/2,i=n*Z0,o=r,a=n*Z0+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Fn*r-Un*i,Un*r+Fn*i),t.lineTo(Fn*o-Un*a,Un*o+Fn*a),t.lineTo(Fn*s-Un*l,Un*s+Fn*l),t.lineTo(Fn*r+Un*i,Fn*i-Un*r),t.lineTo(Fn*o+Un*a,Fn*a-Un*o),t.lineTo(Fn*s+Un*l,Fn*l-Un*s),t.closePath()}};function CY(t,e){let n=null,r=w1(i);t=typeof t=="function"?t:Ve(t||E1),e=typeof e=="function"?e:Ve(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ve(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ve(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function up(){}function cp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function RM(t){this._context=t}RM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NY(t){return new RM(t)}function jM(t){this._context=t}jM.prototype={areaStart:up,areaEnd:up,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RY(t){return new jM(t)}function MM(t){this._context=t}MM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jY(t){return new MM(t)}function DM(t){this._context=t}DM.prototype={areaStart:up,areaEnd:up,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function MY(t){return new DM(t)}function LA(t){return t<0?-1:1}function VA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(LA(o)+LA(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function FA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Xy(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function fp(t){this._context=t}fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xy(this,this._t0,FA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Xy(this,FA(this,n=VA(this,t,e)),n);break;default:Xy(this,this._t0,n=VA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function $M(t){this._context=new LM(t)}($M.prototype=Object.create(fp.prototype)).point=function(t,e){fp.prototype.point.call(this,e,t)};function LM(t){this._context=t}LM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function DY(t){return new fp(t)}function $Y(t){return new $M(t)}function VM(t){this._context=t}VM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=UA(t),i=UA(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function UA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function LY(t){return new VM(t)}function dg(t,e){this._context=t,this._t=e}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function VY(t){return new dg(t,.5)}function FY(t){return new dg(t,0)}function UY(t){return new dg(t,1)}function Xs(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function eb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function BY(t,e){return t[e]}function zY(t){const e=[];return e.key=t,e}function WY(){var t=Ve([]),e=eb,n=Xs,r=BY;function i(o){var a=Array.from(t.apply(this,arguments),zY),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=x1(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ve(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ve(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?eb:typeof o=="function"?o:Ve(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Xs,i):n},i}function qY(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Xs(t,e)}}function HY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Xs(t,e)}}function GY(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var g=t[e[m]],v=g[r][1]||0,b=g[r-1][1]||0;p+=v-b}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Xs(t,e)}}function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}var KY=["type","size","sizeType"];function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(this,arguments)}function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){XY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XY(t,e,n){return e=YY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YY(t){var e=QY(t,"string");return Ac(e)=="symbol"?e:e+""}function QY(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JY(t,e){if(t==null)return{};var n=ZY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var FM={symbolCircle:E1,symbolCross:_Y,symbolDiamond:xY,symbolSquare:EY,symbolStar:PY,symbolTriangle:IY,symbolWye:kY},eQ=Math.PI/180,tQ=function(e){var n="symbol".concat(ug(e));return FM[n]||E1},nQ=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*eQ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rQ=function(e,n){FM["symbol".concat(ug(e))]=n},S1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=JY(e,KY),u=zA(zA({},l),{},{type:r,size:o,sizeType:s}),c=function(){var v=tQ(r),b=CY().type(v).size(nQ(o,s,r));return b()},f=u.className,h=u.cx,p=u.cy,m=Ee(u,!0);return h===+h&&p===+p&&o===+o?D.createElement("path",tb({},m,{className:Ae("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};S1.registerSymbol=rQ;function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nb.apply(this,arguments)}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){Pc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BM(r.key),r)}}function aQ(t,e,n){return e&&qA(t.prototype,e),n&&qA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sQ(t,e,n){return e=dp(e),lQ(t,UM()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function lQ(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uQ(t)}function uQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UM=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function cQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rb(t,e)}function rb(t,e){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rb(t,e)}function Pc(t,e,n){return e=BM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BM(t){var e=fQ(t,"string");return Ys(e)=="symbol"?e:e+""}function fQ(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bn=32,T1=function(t){function e(){return oQ(this,e),sQ(this,e,arguments)}return cQ(e,t),aQ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Bn/2,a=Bn/6,s=Bn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Bn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Bn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Bn/8,"h").concat(Bn,"v").concat(Bn*3/4,"h").concat(-Bn,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=iQ({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(S1,{fill:l,cx:o,cy:o,size:Bn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Bn,height:Bn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,v=Ae(Pc(Pc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=ge(p.value)?null:p.value;gi(!ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return D.createElement("li",nb({className:v,style:f,key:"legend-item-".concat(m)},ap(r.props,p,m)),D.createElement(G0,{width:a,height:a,viewBox:c,style:h},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},g?g(b,p,m):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(M.PureComponent);Pc(T1,"displayName","Legend");Pc(T1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var dQ=Ym;function hQ(){this.__data__=new dQ,this.size=0}var pQ=hQ;function mQ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var gQ=mQ;function yQ(t){return this.__data__.get(t)}var vQ=yQ;function bQ(t){return this.__data__.has(t)}var _Q=bQ,wQ=Ym,xQ=d1,EQ=h1,SQ=200;function TQ(t,e){var n=this.__data__;if(n instanceof wQ){var r=n.__data__;if(!xQ||r.length<SQ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new EQ(r)}return n.set(t,e),this.size=n.size,this}var AQ=TQ,PQ=Ym,IQ=pQ,OQ=gQ,kQ=vQ,CQ=_Q,NQ=AQ;function jl(t){var e=this.__data__=new PQ(t);this.size=e.size}jl.prototype.clear=IQ;jl.prototype.delete=OQ;jl.prototype.get=kQ;jl.prototype.has=CQ;jl.prototype.set=NQ;var zM=jl,RQ="__lodash_hash_undefined__";function jQ(t){return this.__data__.set(t,RQ),this}var MQ=jQ;function DQ(t){return this.__data__.has(t)}var $Q=DQ,LQ=h1,VQ=MQ,FQ=$Q;function hp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new LQ;++e<n;)this.add(t[e])}hp.prototype.add=hp.prototype.push=VQ;hp.prototype.has=FQ;var WM=hp;function UQ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var qM=UQ;function BQ(t,e){return t.has(e)}var HM=BQ,zQ=WM,WQ=qM,qQ=HM,HQ=1,GQ=2;function KQ(t,e,n,r,i,o){var a=n&HQ,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=n&GQ?new zQ:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],g=e[f];if(r)var v=a?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!WQ(e,function(b,_){if(!qQ(p,_)&&(m===b||i(m,b,n,r,o)))return p.push(_)})){h=!1;break}}else if(!(m===g||i(m,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var GM=KQ,XQ=Jr,YQ=XQ.Uint8Array,QQ=YQ;function JQ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var ZQ=JQ;function eJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var A1=eJ,HA=If,GA=QQ,tJ=f1,nJ=GM,rJ=ZQ,iJ=A1,oJ=1,aJ=2,sJ="[object Boolean]",lJ="[object Date]",uJ="[object Error]",cJ="[object Map]",fJ="[object Number]",dJ="[object RegExp]",hJ="[object Set]",pJ="[object String]",mJ="[object Symbol]",gJ="[object ArrayBuffer]",yJ="[object DataView]",KA=HA?HA.prototype:void 0,Yy=KA?KA.valueOf:void 0;function vJ(t,e,n,r,i,o,a){switch(n){case yJ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case gJ:return!(t.byteLength!=e.byteLength||!o(new GA(t),new GA(e)));case sJ:case lJ:case fJ:return tJ(+t,+e);case uJ:return t.name==e.name&&t.message==e.message;case dJ:case pJ:return t==e+"";case cJ:var s=rJ;case hJ:var l=r&oJ;if(s||(s=iJ),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=aJ,a.set(t,e);var c=nJ(s(t),s(e),r,i,o,a);return a.delete(t),c;case mJ:if(Yy)return Yy.call(t)==Yy.call(e)}return!1}var bJ=vJ;function _J(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var KM=_J,wJ=KM,xJ=xn;function EJ(t,e,n){var r=e(t);return xJ(t)?r:wJ(r,n(t))}var SJ=EJ;function TJ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var AJ=TJ;function PJ(){return[]}var IJ=PJ,OJ=AJ,kJ=IJ,CJ=Object.prototype,NJ=CJ.propertyIsEnumerable,XA=Object.getOwnPropertySymbols,RJ=XA?function(t){return t==null?[]:(t=Object(t),OJ(XA(t),function(e){return NJ.call(t,e)}))}:kJ,jJ=RJ;function MJ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var DJ=MJ,$J=Ni,LJ=Ri,VJ="[object Arguments]";function FJ(t){return LJ(t)&&$J(t)==VJ}var UJ=FJ,YA=UJ,BJ=Ri,XM=Object.prototype,zJ=XM.hasOwnProperty,WJ=XM.propertyIsEnumerable,qJ=YA(function(){return arguments}())?YA:function(t){return BJ(t)&&zJ.call(t,"callee")&&!WJ.call(t,"callee")},P1=qJ,pp={exports:{}};function HJ(){return!1}var GJ=HJ;pp.exports;(function(t,e){var n=Jr,r=GJ,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(pp,pp.exports);var YM=pp.exports,KJ=9007199254740991,XJ=/^(?:0|[1-9]\d*)$/;function YJ(t,e){var n=typeof t;return e=e??KJ,!!e&&(n=="number"||n!="symbol"&&XJ.test(t))&&t>-1&&t%1==0&&t<e}var I1=YJ,QJ=9007199254740991;function JJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=QJ}var O1=JJ,ZJ=Ni,eZ=O1,tZ=Ri,nZ="[object Arguments]",rZ="[object Array]",iZ="[object Boolean]",oZ="[object Date]",aZ="[object Error]",sZ="[object Function]",lZ="[object Map]",uZ="[object Number]",cZ="[object Object]",fZ="[object RegExp]",dZ="[object Set]",hZ="[object String]",pZ="[object WeakMap]",mZ="[object ArrayBuffer]",gZ="[object DataView]",yZ="[object Float32Array]",vZ="[object Float64Array]",bZ="[object Int8Array]",_Z="[object Int16Array]",wZ="[object Int32Array]",xZ="[object Uint8Array]",EZ="[object Uint8ClampedArray]",SZ="[object Uint16Array]",TZ="[object Uint32Array]",We={};We[yZ]=We[vZ]=We[bZ]=We[_Z]=We[wZ]=We[xZ]=We[EZ]=We[SZ]=We[TZ]=!0;We[nZ]=We[rZ]=We[mZ]=We[iZ]=We[gZ]=We[oZ]=We[aZ]=We[sZ]=We[lZ]=We[uZ]=We[cZ]=We[fZ]=We[dZ]=We[hZ]=We[pZ]=!1;function AZ(t){return tZ(t)&&eZ(t.length)&&!!We[ZJ(t)]}var PZ=AZ;function IZ(t){return function(e){return t(e)}}var QM=IZ,mp={exports:{}};mp.exports;(function(t,e){var n=oM,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(mp,mp.exports);var OZ=mp.exports,kZ=PZ,CZ=QM,QA=OZ,JA=QA&&QA.isTypedArray,NZ=JA?CZ(JA):kZ,JM=NZ,RZ=DJ,jZ=P1,MZ=xn,DZ=YM,$Z=I1,LZ=JM,VZ=Object.prototype,FZ=VZ.hasOwnProperty;function UZ(t,e){var n=MZ(t),r=!n&&jZ(t),i=!n&&!r&&DZ(t),o=!n&&!r&&!i&&LZ(t),a=n||r||i||o,s=a?RZ(t.length,String):[],l=s.length;for(var u in t)(e||FZ.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$Z(u,l)))&&s.push(u);return s}var BZ=UZ,zZ=Object.prototype;function WZ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||zZ;return t===n}var qZ=WZ;function HZ(t,e){return function(n){return t(e(n))}}var ZM=HZ,GZ=ZM,KZ=GZ(Object.keys,Object),XZ=KZ,YZ=qZ,QZ=XZ,JZ=Object.prototype,ZZ=JZ.hasOwnProperty;function eee(t){if(!YZ(t))return QZ(t);var e=[];for(var n in Object(t))ZZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var tee=eee,nee=c1,ree=O1;function iee(t){return t!=null&&ree(t.length)&&!nee(t)}var Cf=iee,oee=BZ,aee=tee,see=Cf;function lee(t){return see(t)?oee(t):aee(t)}var hg=lee,uee=SJ,cee=jJ,fee=hg;function dee(t){return uee(t,fee,cee)}var hee=dee,ZA=hee,pee=1,mee=Object.prototype,gee=mee.hasOwnProperty;function yee(t,e,n,r,i,o){var a=n&pee,s=ZA(t),l=s.length,u=ZA(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:gee.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=a;++f<l;){h=s[f];var b=t[h],_=e[h];if(r)var w=a?r(_,b,h,e,t,o):r(b,_,h,t,e,o);if(!(w===void 0?b===_||i(b,_,n,r,o):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var O=t.constructor,A=e.constructor;O!=A&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof A=="function"&&A instanceof A)&&(g=!1)}return o.delete(t),o.delete(e),g}var vee=yee,bee=La,_ee=Jr,wee=bee(_ee,"DataView"),xee=wee,Eee=La,See=Jr,Tee=Eee(See,"Promise"),Aee=Tee,Pee=La,Iee=Jr,Oee=Pee(Iee,"Set"),eD=Oee,kee=La,Cee=Jr,Nee=kee(Cee,"WeakMap"),Ree=Nee,ib=xee,ob=d1,ab=Aee,sb=eD,lb=Ree,tD=Ni,Ml=sM,eP="[object Map]",jee="[object Object]",tP="[object Promise]",nP="[object Set]",rP="[object WeakMap]",iP="[object DataView]",Mee=Ml(ib),Dee=Ml(ob),$ee=Ml(ab),Lee=Ml(sb),Vee=Ml(lb),Xo=tD;(ib&&Xo(new ib(new ArrayBuffer(1)))!=iP||ob&&Xo(new ob)!=eP||ab&&Xo(ab.resolve())!=tP||sb&&Xo(new sb)!=nP||lb&&Xo(new lb)!=rP)&&(Xo=function(t){var e=tD(t),n=e==jee?t.constructor:void 0,r=n?Ml(n):"";if(r)switch(r){case Mee:return iP;case Dee:return eP;case $ee:return tP;case Lee:return nP;case Vee:return rP}return e});var Fee=Xo,Qy=zM,Uee=GM,Bee=bJ,zee=vee,oP=Fee,aP=xn,sP=YM,Wee=JM,qee=1,lP="[object Arguments]",uP="[object Array]",Pd="[object Object]",Hee=Object.prototype,cP=Hee.hasOwnProperty;function Gee(t,e,n,r,i,o){var a=aP(t),s=aP(e),l=a?uP:oP(t),u=s?uP:oP(e);l=l==lP?Pd:l,u=u==lP?Pd:u;var c=l==Pd,f=u==Pd,h=l==u;if(h&&sP(t)){if(!sP(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Qy),a||Wee(t)?Uee(t,e,n,r,i,o):Bee(t,e,l,n,r,i,o);if(!(n&qee)){var p=c&&cP.call(t,"__wrapped__"),m=f&&cP.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return o||(o=new Qy),i(g,v,n,r,o)}}return h?(o||(o=new Qy),zee(t,e,n,r,i,o)):!1}var Kee=Gee,Xee=Kee,fP=Ri;function nD(t,e,n,r,i){return t===e?!0:t==null||e==null||!fP(t)&&!fP(e)?t!==t&&e!==e:Xee(t,e,n,r,nD,i)}var k1=nD,Yee=zM,Qee=k1,Jee=1,Zee=2;function ete(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Yee;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?Qee(c,u,Jee|Zee,r,f):h))return!1}}return!0}var tte=ete,nte=jo;function rte(t){return t===t&&!nte(t)}var rD=rte,ite=rD,ote=hg;function ate(t){for(var e=ote(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ite(i)]}return e}var ste=ate;function lte(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var iD=lte,ute=tte,cte=ste,fte=iD;function dte(t){var e=cte(t);return e.length==1&&e[0][2]?fte(e[0][0],e[0][1]):function(n){return n===t||ute(n,t,e)}}var hte=dte;function pte(t,e){return t!=null&&e in Object(t)}var mte=pte,gte=dM,yte=P1,vte=xn,bte=I1,_te=O1,wte=Jm;function xte(t,e,n){e=gte(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=wte(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&_te(i)&&bte(a,i)&&(vte(t)||yte(t)))}var Ete=xte,Ste=mte,Tte=Ete;function Ate(t,e){return t!=null&&Tte(t,e,Ste)}var Pte=Ate,Ite=k1,Ote=hM,kte=Pte,Cte=u1,Nte=rD,Rte=iD,jte=Jm,Mte=1,Dte=2;function $te(t,e){return Cte(t)&&Nte(e)?Rte(jte(t),e):function(n){var r=Ote(n,t);return r===void 0&&r===e?kte(n,t):Ite(e,r,Mte|Dte)}}var Lte=$te;function Vte(t){return t}var Dl=Vte;function Fte(t){return function(e){return e==null?void 0:e[t]}}var Ute=Fte,Bte=g1;function zte(t){return function(e){return Bte(e,t)}}var Wte=zte,qte=Ute,Hte=Wte,Gte=u1,Kte=Jm;function Xte(t){return Gte(t)?qte(Kte(t)):Hte(t)}var Yte=Xte,Qte=hte,Jte=Lte,Zte=Dl,ene=xn,tne=Yte;function nne(t){return typeof t=="function"?t:t==null?Zte:typeof t=="object"?ene(t)?Jte(t[0],t[1]):Qte(t):tne(t)}var Mo=nne;function rne(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var oD=rne;function ine(t){return t!==t}var one=ine;function ane(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var sne=ane,lne=oD,une=one,cne=sne;function fne(t,e,n){return e===e?cne(t,e,n):lne(t,une,n)}var dne=fne,hne=dne;function pne(t,e){var n=t==null?0:t.length;return!!n&&hne(t,e,0)>-1}var mne=pne;function gne(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var yne=gne;function vne(){}var bne=vne,Jy=eD,_ne=bne,wne=A1,xne=1/0,Ene=Jy&&1/wne(new Jy([,-0]))[1]==xne?function(t){return new Jy(t)}:_ne,Sne=Ene,Tne=WM,Ane=mne,Pne=yne,Ine=HM,One=Sne,kne=A1,Cne=200;function Nne(t,e,n){var r=-1,i=Ane,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Pne;else if(o>=Cne){var u=e?null:One(t);if(u)return kne(u);a=!1,i=Ine,l=new Tne}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Rne=Nne,jne=Mo,Mne=Rne;function Dne(t,e){return t&&t.length?Mne(t,jne(e)):[]}var $ne=Dne;const dP=$e($ne);function aD(t,e,n){return e===!0?dP(t,n):ge(e)?dP(t,e):t}function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}var Lne=["ref"];function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){pg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lD(r.key),r)}}function Fne(t,e,n){return e&&pP(t.prototype,e),n&&pP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Une(t,e,n){return e=gp(e),Bne(t,sD()?Reflect.construct(e,n||[],gp(t).constructor):e.apply(t,n))}function Bne(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zne(t)}function zne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}function Wne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function pg(t,e,n){return e=lD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lD(t){var e=qne(t,"string");return Qs(e)=="symbol"?e:e+""}function qne(t,e){if(Qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hne(t,e){if(t==null)return{};var n=Gne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kne(t){return t.value}function Xne(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=Hne(e,Lne);return D.createElement(T1,n)}var mP=1,Cs=function(t){function e(){var n;Vne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Une(this,e,[].concat(i)),pg(n,"lastBoundingBox",{width:-1,height:-1}),n}return Wne(e,t),Fne(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>mP||Math.abs(i.height-this.lastBoundingBox.height)>mP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ni({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((c||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ni(ni({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ni(ni({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Xne(o,ni(ni({},this.props),{},{payload:aD(c,u,Kne)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ni(ni({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ee(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(M.PureComponent);pg(Cs,"displayName","Legend");pg(Cs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gP=If,Yne=P1,Qne=xn,yP=gP?gP.isConcatSpreadable:void 0;function Jne(t){return Qne(t)||Yne(t)||!!(yP&&t&&t[yP])}var Zne=Jne,ere=KM,tre=Zne;function uD(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=tre),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?uD(s,e-1,n,r,i):ere(i,s):r||(i[i.length]=s)}return i}var cD=uD;function nre(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var rre=nre,ire=rre,ore=ire(),are=ore,sre=are,lre=hg;function ure(t,e){return t&&sre(t,e,lre)}var fD=ure,cre=Cf;function fre(t,e){return function(n,r){if(n==null)return n;if(!cre(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var dre=fre,hre=fD,pre=dre,mre=pre(hre),C1=mre,gre=C1,yre=Cf;function vre(t,e){var n=-1,r=yre(t)?Array(t.length):[];return gre(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var dD=vre;function bre(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var _re=bre,vP=Ol;function wre(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=vP(t),a=e!==void 0,s=e===null,l=e===e,u=vP(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var xre=wre,Ere=xre;function Sre(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Ere(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Tre=Sre,Zy=m1,Are=g1,Pre=Mo,Ire=dD,Ore=_re,kre=QM,Cre=Tre,Nre=Dl,Rre=xn;function jre(t,e,n){e.length?e=Zy(e,function(o){return Rre(o)?function(a){return Are(a,o.length===1?o[0]:o)}:o}):e=[Nre];var r=-1;e=Zy(e,kre(Pre));var i=Ire(t,function(o,a,s){var l=Zy(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Ore(i,function(o,a){return Cre(o,a,n)})}var Mre=jre;function Dre(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var $re=Dre,Lre=$re,bP=Math.max;function Vre(t,e,n){return e=bP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=bP(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Lre(t,this,s)}}var Fre=Vre;function Ure(t){return function(){return t}}var Bre=Ure,zre=La,Wre=function(){try{var t=zre(Object,"defineProperty");return t({},"",{}),t}catch{}}(),hD=Wre,qre=Bre,_P=hD,Hre=Dl,Gre=_P?function(t,e){return _P(t,"toString",{configurable:!0,enumerable:!1,value:qre(e),writable:!0})}:Hre,Kre=Gre,Xre=800,Yre=16,Qre=Date.now;function Jre(t){var e=0,n=0;return function(){var r=Qre(),i=Yre-(r-n);if(n=r,i>0){if(++e>=Xre)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Zre=Jre,eie=Kre,tie=Zre,nie=tie(eie),rie=nie,iie=Dl,oie=Fre,aie=rie;function sie(t,e){return aie(oie(t,e,iie),t+"")}var lie=sie,uie=f1,cie=Cf,fie=I1,die=jo;function hie(t,e,n){if(!die(n))return!1;var r=typeof e;return(r=="number"?cie(n)&&fie(e,n.length):r=="string"&&e in n)?uie(n[e],t):!1}var mg=hie,pie=cD,mie=Mre,gie=lie,wP=mg,yie=gie(function(t,e){if(t==null)return[];var n=e.length;return n>1&&wP(t,e[0],e[1])?e=[]:n>2&&wP(e[0],e[1],e[2])&&(e=[e[0]]),mie(t,pie(e,1),[])}),vie=yie;const N1=$e(vie);function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(this,arguments)}function bie(t,e){return Eie(t)||xie(t,e)||wie(t,e)||_ie()}function _ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wie(t,e){if(t){if(typeof t=="string")return xP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xP(t,e)}}function xP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Eie(t){if(Array.isArray(t))return t}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sie(t,e,n){return e=Tie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tie(t){var e=Aie(t,"string");return Ic(e)=="symbol"?e:e+""}function Aie(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pie(t){return Array.isArray(t)&&xt(t[0])&&xt(t[1])?t.join(" ~ "):t}var Iie=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,_=b===void 0?!1:b,w=function(){if(c&&c.length){var R={padding:0,margin:0},k=(h?N1(c,h):c).map(function(U,F){if(U.type==="none")return null;var z=ev({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),W=U.formatter||f||Pie,L=U.value,B=U.name,H=L,J=B;if(W&&H!=null&&J!=null){var X=W(L,B,U,F,c);if(Array.isArray(X)){var te=bie(X,2);H=te[0],J=te[1]}else H=X}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:z},xt(J)?D.createElement("span",{className:"recharts-tooltip-item-name"},J):null,xt(J)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},H),D.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:R},k)}return null},O=ev({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=ev({margin:0},u),I=!ve(g),x=I?g:"",S=Ae("recharts-default-tooltip",p),T=Ae("recharts-tooltip-label",m);I&&v&&c!==void 0&&c!==null&&(x=v(g,c));var N=_?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",cb({className:S,style:O},N),D.createElement("p",{className:T,style:A},D.isValidElement(x)?x:"".concat(x)),w())};function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function Id(t,e,n){return e=Oie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oie(t){var e=kie(t,"string");return Oc(e)=="symbol"?e:e+""}function kie(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fu="recharts-tooltip-wrapper",Cie={visibility:"hidden"};function Nie(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ae(fu,Id(Id(Id(Id({},"".concat(fu,"-right"),ee(n)&&e&&ee(e.x)&&n>=e.x),"".concat(fu,"-left"),ee(n)&&e&&ee(e.x)&&n<e.x),"".concat(fu,"-bottom"),ee(r)&&e&&ee(e.y)&&r>=e.y),"".concat(fu,"-top"),ee(r)&&e&&ee(e.y)&&r<e.y))}function SP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ee(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var h=c,p=l[r];return h<p?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+s,g=l[r]+u;return m>g?Math.max(c,l[r]):Math.max(f,l[r])}function Rie(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function jie(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=SP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=SP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Rie({translateX:c,translateY:f,useTranslate3d:s})):u=Cie,{cssProperties:u,cssClasses:Nie({translateX:c,translateY:f,coordinate:n})}}function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){db(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mD(r.key),r)}}function Die(t,e,n){return e&&PP(t.prototype,e),n&&PP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ie(t,e,n){return e=yp(e),Lie(t,pD()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function Lie(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vie(t)}function Vie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function Fie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fb(t,e)}function db(t,e,n){return e=mD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mD(t){var e=Uie(t,"string");return Js(e)=="symbol"?e:e+""}function Uie(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IP=1,Bie=function(t){function e(){var n;Mie(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=$ie(this,e,[].concat(i)),db(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),db(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Fie(e,t),Die(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>IP||Math.abs(r.height-this.state.lastBoundingBox.height)>IP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,w=jie({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),O=w.cssClasses,A=w.cssProperties,I=AP(AP({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return D.createElement("div",{tabIndex:-1,className:O,style:I,ref:function(S){r.wrapperNode=S}},u)}}])}(M.PureComponent),zie=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},yi={isSsr:zie(),get:function(e){return yi[e]},set:function(e,n){if(typeof e=="string")yi[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){yi[i]=e[i]})}}};function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){R1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yD(r.key),r)}}function qie(t,e,n){return e&&CP(t.prototype,e),n&&CP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hie(t,e,n){return e=vp(e),Gie(t,gD()?Reflect.construct(e,n||[],vp(t).constructor):e.apply(t,n))}function Gie(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kie(t)}function Kie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gD=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vp(t)}function Xie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hb(t,e)}function hb(t,e){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hb(t,e)}function R1(t,e,n){return e=yD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yD(t){var e=Yie(t,"string");return Zs(e)=="symbol"?e:e+""}function Yie(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qie(t){return t.dataKey}function Jie(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(Iie,e)}var jr=function(t){function e(){return Wie(this,e),Hie(this,e,arguments)}return Xie(e,t),qie(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,b=i.reverseDirection,_=i.useTranslate3d,w=i.viewBox,O=i.wrapperStyle,A=m??[];f&&A.length&&(A=aD(m.filter(function(x){return x.value!=null&&(x.hide!==!0||r.props.includeHidden)}),g,Qie));var I=A.length>0;return D.createElement(Bie,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:I,offset:p,position:v,reverseDirection:b,useTranslate3d:_,viewBox:w,wrapperStyle:O},Jie(u,kP(kP({},this.props),{},{payload:A})))}}])}(M.PureComponent);R1(jr,"displayName","Tooltip");R1(jr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Zie=Jr,eoe=function(){return Zie.Date.now()},toe=eoe,noe=/\s/;function roe(t){for(var e=t.length;e--&&noe.test(t.charAt(e)););return e}var ioe=roe,ooe=ioe,aoe=/^\s+/;function soe(t){return t&&t.slice(0,ooe(t)+1).replace(aoe,"")}var loe=soe,uoe=loe,NP=jo,coe=Ol,RP=0/0,foe=/^[-+]0x[0-9a-f]+$/i,doe=/^0b[01]+$/i,hoe=/^0o[0-7]+$/i,poe=parseInt;function moe(t){if(typeof t=="number")return t;if(coe(t))return RP;if(NP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=NP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=uoe(t);var n=doe.test(t);return n||hoe.test(t)?poe(t.slice(2),n?2:8):foe.test(t)?RP:+t}var vD=moe,goe=jo,tv=toe,jP=vD,yoe="Expected a function",voe=Math.max,boe=Math.min;function _oe(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(yoe);e=jP(e)||0,goe(n)&&(c=!!n.leading,f="maxWait"in n,o=f?voe(jP(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(I){var x=r,S=i;return r=i=void 0,u=I,a=t.apply(S,x),a}function m(I){return u=I,s=setTimeout(b,e),c?p(I):a}function g(I){var x=I-l,S=I-u,T=e-x;return f?boe(T,o-S):T}function v(I){var x=I-l,S=I-u;return l===void 0||x>=e||x<0||f&&S>=o}function b(){var I=tv();if(v(I))return _(I);s=setTimeout(b,g(I))}function _(I){return s=void 0,h&&r?p(I):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function O(){return s===void 0?a:_(tv())}function A(){var I=tv(),x=v(I);if(r=arguments,i=this,l=I,x){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(b,e),p(l)}return s===void 0&&(s=setTimeout(b,e)),a}return A.cancel=w,A.flush=O,A}var woe=_oe,xoe=woe,Eoe=jo,Soe="Expected a function";function Toe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Soe);return Eoe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xoe(t,e,{leading:r,maxWait:e,trailing:i})}var Aoe=Toe;const bD=$e(Aoe);function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Od(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){Poe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Poe(t,e,n){return e=Ioe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ioe(t){var e=Ooe(t,"string");return kc(e)=="symbol"?e:e+""}function Ooe(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function koe(t,e){return joe(t)||Roe(t,e)||Noe(t,e)||Coe()}function Coe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Noe(t,e){if(t){if(typeof t=="string")return DP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DP(t,e)}}function DP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Roe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function joe(t){if(Array.isArray(t))return t}var Moe=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,b=t.className,_=t.onResize,w=t.style,O=w===void 0?{}:w,A=M.useRef(null),I=M.useRef();I.current=_,M.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var x=M.useState({containerWidth:i.width,containerHeight:i.height}),S=koe(x,2),T=S[0],N=S[1],C=M.useCallback(function(k,U){N(function(F){var z=Math.round(k),W=Math.round(U);return F.containerWidth===z&&F.containerHeight===W?F:{containerWidth:z,containerHeight:W}})},[]);M.useEffect(function(){var k=function(B){var H,J=B[0].contentRect,X=J.width,te=J.height;C(X,te),(H=I.current)===null||H===void 0||H.call(I,X,te)};g>0&&(k=bD(k,g,{trailing:!0,leading:!1}));var U=new ResizeObserver(k),F=A.current.getBoundingClientRect(),z=F.width,W=F.height;return C(z,W),U.observe(A.current),function(){U.disconnect()}},[C,g]);var R=M.useMemo(function(){var k=T.containerWidth,U=T.containerHeight;if(k<0||U<0)return null;gi(na(a)||na(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),gi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=na(a)?k:a,z=na(l)?U:l;n&&n>0&&(F?z=F/n:z&&(F=z*n),h&&z>h&&(z=h)),gi(F>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,z,a,l,c,f,n);var W=!Array.isArray(p)&&mi(p.type).endsWith("Chart");return D.Children.map(p,function(L){return D.isValidElement(L)?M.cloneElement(L,Od({width:F,height:z},W?{style:Od({height:"100%",width:"100%",maxHeight:z,maxWidth:F},L.props.style)}:{})):L})},[n,p,l,h,f,c,T,a]);return D.createElement("div",{id:v?"".concat(v):void 0,className:Ae("recharts-responsive-container",b),style:Od(Od({},O),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:A},R)}),_D=function(e){return null};_D.displayName="Cell";function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){Doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Doe(t,e,n){return e=$oe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $oe(t){var e=Loe(t,"string");return Cc(e)=="symbol"?e:e+""}function Loe(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xa={widthCache:{},cacheCount:0},Voe=2e3,Foe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LP="recharts_measurement_span";function Uoe(t){var e=pb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ku=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yi.isSsr)return{width:0,height:0};var r=Uoe(n),i=JSON.stringify({text:e,copyStyle:r});if(Xa.widthCache[i])return Xa.widthCache[i];try{var o=document.getElementById(LP);o||(o=document.createElement("span"),o.setAttribute("id",LP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=pb(pb({},Foe),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Xa.widthCache[i]=l,++Xa.cacheCount>Voe&&(Xa.cacheCount=0,Xa.widthCache={}),l}catch{return{width:0,height:0}}},Boe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function bp(t,e){return Hoe(t)||qoe(t,e)||Woe(t,e)||zoe()}function zoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Woe(t,e){if(t){if(typeof t=="string")return VP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VP(t,e)}}function VP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Hoe(t){if(Array.isArray(t))return t}function Goe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xoe(r.key),r)}}function Koe(t,e,n){return e&&FP(t.prototype,e),n&&FP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xoe(t){var e=Yoe(t,"string");return Nc(e)=="symbol"?e:e+""}function Yoe(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qoe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Joe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Zoe=Object.keys(wD),gs="NaN";function eae(t,e){return t*wD[e]}var kd=function(){function t(e,n){Goe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Qoe.test(n)&&(this.num=NaN,this.unit=""),Zoe.includes(n)&&(this.num=eae(e,n),this.unit="px")}return Koe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Joe.exec(n))!==null&&r!==void 0?r:[],o=bp(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function xD(t){if(t.includes(gs))return gs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=UP.exec(e))!==null&&n!==void 0?n:[],i=bp(r,4),o=i[1],a=i[2],s=i[3],l=kd.parse(o??""),u=kd.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return gs;e=e.replace(UP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=BP.exec(e))!==null&&f!==void 0?f:[],p=bp(h,4),m=p[1],g=p[2],v=p[3],b=kd.parse(m??""),_=kd.parse(v??""),w=g==="+"?b.add(_):b.subtract(_);if(w.isNaN())return gs;e=e.replace(BP,w.toString())}return e}var zP=/\(([^()]*)\)/;function tae(t){for(var e=t;e.includes("(");){var n=zP.exec(e),r=bp(n,2),i=r[1];e=e.replace(zP,xD(i))}return e}function nae(t){var e=t.replace(/\s+/g,"");return e=tae(e),e=xD(e),e}function rae(t){try{return nae(t)}catch{return gs}}function nv(t){var e=rae(t.slice(5,-1));return e===gs?"":e}var iae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oae=["dx","dy","angle","className","breakAll"];function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}function WP(t,e){if(t==null)return{};var n=aae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qP(t,e){return cae(t)||uae(t,e)||lae(t,e)||sae()}function sae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lae(t,e){if(t){if(typeof t=="string")return HP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HP(t,e)}}function HP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cae(t){if(Array.isArray(t))return t}var ED=/[ \f\n\r\t\v\u2028\u2029]+/,SD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ve(n)||(r?o=n.toString().split(""):o=n.toString().split(ED));var a=o.map(function(l){return{word:l,width:Ku(l,i).width}}),s=r?0:Ku("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},fae=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=ee(a),f=s,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(z,W){var L=W.word,B=W.width,H=z[z.length-1];if(H&&(i==null||o||H.width+B+r<Number(i)))H.words.push(L),H.width+=B+r;else{var J={words:[L],width:B};z.push(J)}return z},[])},p=h(n),m=function(F){return F.reduce(function(z,W){return z.width>W.width?z:W})};if(!c)return p;for(var g="",v=function(F){var z=f.slice(0,F),W=SD({breakAll:u,style:l,children:z+g}).wordsWithComputedWidth,L=h(W),B=L.length>a||m(L).width>Number(i);return[B,L]},b=0,_=f.length-1,w=0,O;b<=_&&w<=f.length-1;){var A=Math.floor((b+_)/2),I=A-1,x=v(I),S=qP(x,2),T=S[0],N=S[1],C=v(A),R=qP(C,1),k=R[0];if(!T&&!k&&(b=A+1),T&&k&&(_=A-1),!T&&k){O=N;break}w++}return O||p},GP=function(e){var n=ve(e)?[]:e.toString().split(ED);return[{words:n}]},dae=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!yi.isSsr){var l,u,c=SD({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return GP(i);return fae({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return GP(i)},KP="#808080",_p=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,b=v===void 0?KP:v,_=WP(e,iae),w=M.useMemo(function(){return dae({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),O=_.dx,A=_.dy,I=_.angle,x=_.className,S=_.breakAll,T=WP(_,oae);if(!xt(r)||!xt(o))return null;var N=r+(ee(O)?O:0),C=o+(ee(A)?A:0),R;switch(g){case"start":R=nv("calc(".concat(u,")"));break;case"middle":R=nv("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=nv("calc(".concat(w.length-1," * -").concat(s,")"));break}var k=[];if(f){var U=w[0].width,F=_.width;k.push("scale(".concat((ee(F)?F/U:1)/U,")"))}return I&&k.push("rotate(".concat(I,", ").concat(N,", ").concat(C,")")),k.length&&(T.transform=k.join(" ")),D.createElement("text",mb({},Ee(T,!0),{x:N,y:C,className:Ae("recharts-text",x),textAnchor:p,fill:b.includes("url")?KP:b}),w.map(function(z,W){var L=z.words.join(S?"":" ");return D.createElement("tspan",{x:N,dy:W===0?R:s,key:"".concat(L,"-").concat(W)},L)}))};function mo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function j1(t){let e,n,r;t.length!==2?(e=mo,n=(s,l)=>mo(t(s),l),r=(s,l)=>t(s)-l):(e=t===mo||t===hae?t:pae,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function pae(){return 0}function TD(t){return t===null?NaN:+t}function*mae(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const gae=j1(mo),yae=gae.right;j1(TD).center;const Nf=yae;class XP extends Map{constructor(e,n=_ae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(YP(this,e))}has(e){return super.has(YP(this,e))}set(e,n){return super.set(vae(this,e),n)}delete(e){return super.delete(bae(this,e))}}function YP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function vae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function bae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function _ae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wae(t=mo){if(t===mo)return AD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function AD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const xae=Math.sqrt(50),Eae=Math.sqrt(10),Sae=Math.sqrt(2);function wp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=xae?10:o>=Eae?5:o>=Sae?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?wp(t,e,n*2):[s,l,u]}function gb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?wp(e,t,n):wp(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function yb(t,e,n){return e=+e,t=+t,n=+n,wp(t,e,n)[2]}function vb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?yb(e,t,n):yb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function QP(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function JP(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function PD(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?AD:wae(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),m=Math.min(r,Math.floor(e+(l-u)*f/l+h));PD(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(du(t,n,e),i(t[r],o)>0&&du(t,n,r);a<s;){for(du(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?du(t,n,s):(++s,du(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function du(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Tae(t,e,n){if(t=Float64Array.from(mae(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return JP(t);if(e>=1)return QP(t);var r,i=(r-1)*e,o=Math.floor(i),a=QP(PD(t,o).subarray(0,o+1)),s=JP(t.subarray(o+1));return a+(s-a)*(i-o)}}function Aae(t,e,n=TD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Pae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function or(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ji(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const bb=Symbol("implicit");function M1(){var t=new XP,e=[],n=[],r=bb;function i(o){let a=t.get(o);if(a===void 0){if(r!==bb)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new XP;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return M1(e,n).unknown(r)},or.apply(i,arguments),i}function Rc(){var t=M1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),m+=(g-m-o*(h-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var v=Pae(h).map(function(b){return m+o*b});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Rc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},or.apply(f(),arguments)}function ID(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ID(e())},t}function Xu(){return ID(Rc.apply(null,arguments).paddingInner(1))}function D1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function OD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rf(){}var jc=.7,xp=1/jc,Ns="\\s*([+-]?\\d+)\\s*",Mc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Iae=/^#([0-9a-f]{3,8})$/,Oae=new RegExp(`^rgb\\(${Ns},${Ns},${Ns}\\)$`),kae=new RegExp(`^rgb\\(${qr},${qr},${qr}\\)$`),Cae=new RegExp(`^rgba\\(${Ns},${Ns},${Ns},${Mc}\\)$`),Nae=new RegExp(`^rgba\\(${qr},${qr},${qr},${Mc}\\)$`),Rae=new RegExp(`^hsl\\(${Mc},${qr},${qr}\\)$`),jae=new RegExp(`^hsla\\(${Mc},${qr},${qr},${Mc}\\)$`),ZP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D1(Rf,Dc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eI,formatHex:eI,formatHex8:Mae,formatHsl:Dae,formatRgb:tI,toString:tI});function eI(){return this.rgb().formatHex()}function Mae(){return this.rgb().formatHex8()}function Dae(){return kD(this).formatHsl()}function tI(){return this.rgb().formatRgb()}function Dc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Iae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nI(e):n===3?new gn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Cd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Cd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Oae.exec(t))?new gn(e[1],e[2],e[3],1):(e=kae.exec(t))?new gn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Cae.exec(t))?Cd(e[1],e[2],e[3],e[4]):(e=Nae.exec(t))?Cd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Rae.exec(t))?oI(e[1],e[2]/100,e[3]/100,1):(e=jae.exec(t))?oI(e[1],e[2]/100,e[3]/100,e[4]):ZP.hasOwnProperty(t)?nI(ZP[t]):t==="transparent"?new gn(NaN,NaN,NaN,0):null}function nI(t){return new gn(t>>16&255,t>>8&255,t&255,1)}function Cd(t,e,n,r){return r<=0&&(t=e=n=NaN),new gn(t,e,n,r)}function $ae(t){return t instanceof Rf||(t=Dc(t)),t?(t=t.rgb(),new gn(t.r,t.g,t.b,t.opacity)):new gn}function _b(t,e,n,r){return arguments.length===1?$ae(t):new gn(t,e,n,r??1)}function gn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}D1(gn,_b,OD(Rf,{brighter(t){return t=t==null?xp:Math.pow(xp,t),new gn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jc:Math.pow(jc,t),new gn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gn(ua(this.r),ua(this.g),ua(this.b),Ep(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rI,formatHex:rI,formatHex8:Lae,formatRgb:iI,toString:iI}));function rI(){return`#${ra(this.r)}${ra(this.g)}${ra(this.b)}`}function Lae(){return`#${ra(this.r)}${ra(this.g)}${ra(this.b)}${ra((isNaN(this.opacity)?1:this.opacity)*255)}`}function iI(){const t=Ep(this.opacity);return`${t===1?"rgb(":"rgba("}${ua(this.r)}, ${ua(this.g)}, ${ua(this.b)}${t===1?")":`, ${t})`}`}function Ep(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ua(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ra(t){return t=ua(t),(t<16?"0":"")+t.toString(16)}function oI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yr(t,e,n,r)}function kD(t){if(t instanceof yr)return new yr(t.h,t.s,t.l,t.opacity);if(t instanceof Rf||(t=Dc(t)),!t)return new yr;if(t instanceof yr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new yr(a,s,l,t.opacity)}function Vae(t,e,n,r){return arguments.length===1?kD(t):new yr(t,e,n,r??1)}function yr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}D1(yr,Vae,OD(Rf,{brighter(t){return t=t==null?xp:Math.pow(xp,t),new yr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jc:Math.pow(jc,t),new yr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new gn(rv(t>=240?t-240:t+120,i,r),rv(t,i,r),rv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new yr(aI(this.h),Nd(this.s),Nd(this.l),Ep(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ep(this.opacity);return`${t===1?"hsl(":"hsla("}${aI(this.h)}, ${Nd(this.s)*100}%, ${Nd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aI(t){return t=(t||0)%360,t<0?t+360:t}function Nd(t){return Math.max(0,Math.min(1,t||0))}function rv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $1=t=>()=>t;function Fae(t,e){return function(n){return t+n*e}}function Uae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Bae(t){return(t=+t)==1?CD:function(e,n){return n-e?Uae(e,n,t):$1(isNaN(e)?n:e)}}function CD(t,e){var n=e-t;return n?Fae(t,n):$1(isNaN(t)?e:t)}const sI=function t(e){var n=Bae(e);function r(i,o){var a=n((i=_b(i)).r,(o=_b(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=CD(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function zae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Wae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=$l(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Hae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Gae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=$l(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var wb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iv=new RegExp(wb.source,"g");function Kae(t){return function(){return t}}function Xae(t){return function(e){return t(e)+""}}function Yae(t,e){var n=wb.lastIndex=iv.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=wb.exec(t))&&(i=iv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Sp(r,i)})),n=iv.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Xae(l[0].x):Kae(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function $l(t,e){var n=typeof e,r;return e==null||n==="boolean"?$1(e):(n==="number"?Sp:n==="string"?(r=Dc(e))?(e=r,sI):Yae:e instanceof Dc?sI:e instanceof Date?Hae:Wae(e)?zae:Array.isArray(e)?qae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Gae:Sp)(t,e)}function L1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Qae(t,e){e===void 0&&(e=t,t=$l);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Jae(t){return function(){return t}}function Tp(t){return+t}var lI=[0,1];function sn(t){return t}function xb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Jae(isNaN(e)?NaN:.5)}function Zae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ese(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=xb(i,r),o=n(a,o)):(r=xb(r,i),o=n(o,a)),function(s){return o(r(s))}}function tse(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=xb(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Nf(t,s,1,r)-1;return o[l](i[l](s))}}function jf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gg(){var t=lI,e=lI,n=$l,r,i,o,a=sn,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==sn&&(a=Zae(t[0],t[h-1])),s=h>2?tse:ese,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),Sp)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Tp),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=L1,c()},f.clamp=function(h){return arguments.length?(a=h?!0:sn,c()):a!==sn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,c()}}function V1(){return gg()(sn,sn)}function nse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ap(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function el(t){return t=Ap(Math.abs(t)),t?t[1]:NaN}function rse(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function ise(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ose=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $c(t){if(!(e=ose.exec(t)))throw new Error("invalid format: "+t);var e;return new F1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$c.prototype=F1.prototype;function F1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}F1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ase(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ND;function sse(t,e){var n=Ap(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ND=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ap(t,Math.max(0,e+o-1))[0]}function uI(t,e){var n=Ap(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:nse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uI(t*100,e),r:uI,s:sse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fI(t){return t}var dI=Array.prototype.map,hI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lse(t){var e=t.grouping===void 0||t.thousands===void 0?fI:rse(dI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?fI:ise(dI.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=$c(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,b=f.width,_=f.comma,w=f.precision,O=f.trim,A=f.type;A==="n"?(_=!0,A="g"):cI[A]||(w===void 0&&(w=12),O=!0,A="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var I=g==="$"?n:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",x=g==="$"?r:/[%p]/.test(A)?a:"",S=cI[A],T=/[defgprs%]/.test(A);w=w===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function N(C){var R=I,k=x,U,F,z;if(A==="c")k=S(C)+k,C="";else{C=+C;var W=C<0||1/C<0;if(C=isNaN(C)?l:S(Math.abs(C),w),O&&(C=ase(C)),W&&+C==0&&m!=="+"&&(W=!1),R=(W?m==="("?m:s:m==="-"||m==="("?"":m)+R,k=(A==="s"?hI[8+ND/3]:"")+k+(W&&m==="("?")":""),T){for(U=-1,F=C.length;++U<F;)if(z=C.charCodeAt(U),48>z||z>57){k=(z===46?i+C.slice(U+1):C.slice(U))+k,C=C.slice(0,U);break}}}_&&!v&&(C=e(C,1/0));var L=R.length+C.length+k.length,B=L<b?new Array(b-L+1).join(h):"";switch(_&&v&&(C=e(B+C,B.length?b-k.length:1/0),B=""),p){case"<":C=R+C+k+B;break;case"=":C=R+B+C+k;break;case"^":C=B.slice(0,L=B.length>>1)+R+C+k+B.slice(L);break;default:C=B+R+C+k;break}return o(C)}return N.toString=function(){return f+""},N}function c(f,h){var p=u((f=$c(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(el(h)/3)))*3,g=Math.pow(10,-m),v=hI[8+m/3];return function(b){return p(g*b)+v}}return{format:u,formatPrefix:c}}var Rd,U1,RD;use({thousands:",",grouping:[3],currency:["$",""]});function use(t){return Rd=lse(t),U1=Rd.format,RD=Rd.formatPrefix,Rd}function cse(t){return Math.max(0,-el(Math.abs(t)))}function fse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(el(e)/3)))*3-el(Math.abs(t)))}function dse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,el(e)-el(t))+1}function jD(t,e,n,r){var i=vb(t,e,n),o;switch(r=$c(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=fse(i,a))&&(r.precision=o),RD(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=dse(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=cse(i))&&(r.precision=o-(r.type==="%")*2);break}}return U1(r)}function Do(t){var e=t.domain;return t.ticks=function(n){var r=e();return gb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return jD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=yb(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Pp(){var t=V1();return t.copy=function(){return jf(t,Pp())},or.apply(t,arguments),Do(t)}function MD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Tp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return MD(t).unknown(e)},t=arguments.length?Array.from(t,Tp):[0,1],Do(n)}function DD(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function pI(t){return Math.log(t)}function mI(t){return Math.exp(t)}function hse(t){return-Math.log(-t)}function pse(t){return-Math.exp(-t)}function mse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function gse(t){return t===10?mse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function yse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gI(t){return(e,n)=>-t(-e,n)}function B1(t){const e=t(pI,mI),n=e.domain;let r=10,i,o;function a(){return i=yse(r),o=gse(r),n()[0]<0?(i=gI(i),o=gI(o),t(hse,pse)):t(pI,mI),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),m,g;const v=s==null?10:+s;let b=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/o(-h):m*o(h),!(g<u)){if(g>c)break;b.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/o(-h):m*o(h),!(g<u)){if(g>c)break;b.push(g)}b.length*2<v&&(b=gb(u,c,v))}else b=gb(h,p,Math.min(p-h,v)).map(o);return f?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=$c(l)).precision==null&&(l.trim=!0),l=U1(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(DD(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function $D(){const t=B1(gg()).domain([1,10]);return t.copy=()=>jf(t,$D()).base(t.base()),or.apply(t,arguments),t}function yI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function z1(t){var e=1,n=t(yI(e),vI(e));return n.constant=function(r){return arguments.length?t(yI(e=+r),vI(e)):e},Do(n)}function LD(){var t=z1(gg());return t.copy=function(){return jf(t,LD()).constant(t.constant())},or.apply(t,arguments)}function bI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function vse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function bse(t){return t<0?-t*t:t*t}function W1(t){var e=t(sn,sn),n=1;function r(){return n===1?t(sn,sn):n===.5?t(vse,bse):t(bI(n),bI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Do(e)}function q1(){var t=W1(gg());return t.copy=function(){return jf(t,q1()).exponent(t.exponent())},or.apply(t,arguments),t}function _se(){return q1.apply(null,arguments).exponent(.5)}function _I(t){return Math.sign(t)*t*t}function wse(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function VD(){var t=V1(),e=[0,1],n=!1,r;function i(o){var a=wse(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(_I(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Tp)).map(_I)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return VD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},or.apply(i,arguments),Do(i)}function FD(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Aae(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Nf(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(mo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return FD().domain(t).range(e).unknown(r)},or.apply(o,arguments)}function UD(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Nf(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return UD().domain([t,e]).range(i).unknown(o)},or.apply(Do(a),arguments)}function BD(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Nf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return BD().domain(t).range(e).unknown(n)},or.apply(i,arguments)}const ov=new Date,av=new Date;function St(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>St(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(ov.setTime(+o),av.setTime(+a),t(ov),t(av),Math.floor(n(ov,av))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Ip=St(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ip.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?St(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ip);Ip.range;const ui=1e3,Gn=ui*60,ci=Gn*60,Pi=ci*24,H1=Pi*7,wI=Pi*30,sv=Pi*365,ia=St(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ui)},(t,e)=>(e-t)/ui,t=>t.getUTCSeconds());ia.range;const G1=St(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ui)},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getMinutes());G1.range;const K1=St(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getUTCMinutes());K1.range;const X1=St(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ui-t.getMinutes()*Gn)},(t,e)=>{t.setTime(+t+e*ci)},(t,e)=>(e-t)/ci,t=>t.getHours());X1.range;const Y1=St(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ci)},(t,e)=>(e-t)/ci,t=>t.getUTCHours());Y1.range;const Mf=St(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gn)/Pi,t=>t.getDate()-1);Mf.range;const yg=St(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pi,t=>t.getUTCDate()-1);yg.range;const zD=St(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pi,t=>Math.floor(t/Pi));zD.range;function Va(t){return St(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/H1)}const vg=Va(0),Op=Va(1),xse=Va(2),Ese=Va(3),tl=Va(4),Sse=Va(5),Tse=Va(6);vg.range;Op.range;xse.range;Ese.range;tl.range;Sse.range;Tse.range;function Fa(t){return St(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/H1)}const bg=Fa(0),kp=Fa(1),Ase=Fa(2),Pse=Fa(3),nl=Fa(4),Ise=Fa(5),Ose=Fa(6);bg.range;kp.range;Ase.range;Pse.range;nl.range;Ise.range;Ose.range;const Q1=St(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Q1.range;const J1=St(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());J1.range;const Ii=St(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ii.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:St(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ii.range;const Oi=St(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Oi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:St(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Oi.range;function WD(t,e,n,r,i,o){const a=[[ia,1,ui],[ia,5,5*ui],[ia,15,15*ui],[ia,30,30*ui],[o,1,Gn],[o,5,5*Gn],[o,15,15*Gn],[o,30,30*Gn],[i,1,ci],[i,3,3*ci],[i,6,6*ci],[i,12,12*ci],[r,1,Pi],[r,2,2*Pi],[n,1,H1],[e,1,wI],[e,3,3*wI],[t,1,sv]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return h?m.reverse():m}function l(u,c,f){const h=Math.abs(c-u)/f,p=j1(([,,v])=>v).right(a,h);if(p===a.length)return t.every(vb(u/sv,c/sv,f));if(p===0)return Ip.every(Math.max(vb(u,c,f),1));const[m,g]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[kse,Cse]=WD(Oi,J1,bg,zD,Y1,K1),[Nse,Rse]=WD(Ii,Q1,vg,Mf,X1,G1);function lv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function jse(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=pu(i),c=mu(i),f=pu(o),h=mu(o),p=pu(a),m=mu(a),g=pu(s),v=mu(s),b=pu(l),_=mu(l),w={a:W,A:L,b:B,B:H,c:null,d:PI,e:PI,f:rle,g:hle,G:mle,H:ele,I:tle,j:nle,L:qD,m:ile,M:ole,p:J,q:X,Q:kI,s:CI,S:ale,u:sle,U:lle,V:ule,w:cle,W:fle,x:null,X:null,y:dle,Y:ple,Z:gle,"%":OI},O={a:te,A:me,b:Pe,B:Ke,c:null,d:II,e:II,f:_le,g:kle,G:Nle,H:yle,I:vle,j:ble,L:GD,m:wle,M:xle,p:Tt,q:Bt,Q:kI,s:CI,S:Ele,u:Sle,U:Tle,V:Ale,w:Ple,W:Ile,x:null,X:null,y:Ole,Y:Cle,Z:Rle,"%":OI},A={a:N,A:C,b:R,B:k,c:U,d:TI,e:TI,f:Yse,g:SI,G:EI,H:AI,I:AI,j:Hse,L:Xse,m:qse,M:Gse,p:T,q:Wse,Q:Jse,s:Zse,S:Kse,u:Vse,U:Fse,V:Use,w:Lse,W:Bse,x:F,X:z,y:SI,Y:EI,Z:zse,"%":Qse};w.x=I(n,w),w.X=I(r,w),w.c=I(e,w),O.x=I(n,O),O.X=I(r,O),O.c=I(e,O);function I(ne,fe){return function(he){var Y=[],Le=-1,ye=0,Qe=ne.length,nt,Nt,Or;for(he instanceof Date||(he=new Date(+he));++Le<Qe;)ne.charCodeAt(Le)===37&&(Y.push(ne.slice(ye,Le)),(Nt=xI[nt=ne.charAt(++Le)])!=null?nt=ne.charAt(++Le):Nt=nt==="e"?" ":"0",(Or=fe[nt])&&(nt=Or(he,Nt)),Y.push(nt),ye=Le+1);return Y.push(ne.slice(ye,Le)),Y.join("")}}function x(ne,fe){return function(he){var Y=hu(1900,void 0,1),Le=S(Y,ne,he+="",0),ye,Qe;if(Le!=he.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(fe&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ye=uv(hu(Y.y,0,1)),Qe=ye.getUTCDay(),ye=Qe>4||Qe===0?kp.ceil(ye):kp(ye),ye=yg.offset(ye,(Y.V-1)*7),Y.y=ye.getUTCFullYear(),Y.m=ye.getUTCMonth(),Y.d=ye.getUTCDate()+(Y.w+6)%7):(ye=lv(hu(Y.y,0,1)),Qe=ye.getDay(),ye=Qe>4||Qe===0?Op.ceil(ye):Op(ye),ye=Mf.offset(ye,(Y.V-1)*7),Y.y=ye.getFullYear(),Y.m=ye.getMonth(),Y.d=ye.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Qe="Z"in Y?uv(hu(Y.y,0,1)).getUTCDay():lv(hu(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Qe+5)%7:Y.w+Y.U*7-(Qe+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,uv(Y)):lv(Y)}}function S(ne,fe,he,Y){for(var Le=0,ye=fe.length,Qe=he.length,nt,Nt;Le<ye;){if(Y>=Qe)return-1;if(nt=fe.charCodeAt(Le++),nt===37){if(nt=fe.charAt(Le++),Nt=A[nt in xI?fe.charAt(Le++):nt],!Nt||(Y=Nt(ne,he,Y))<0)return-1}else if(nt!=he.charCodeAt(Y++))return-1}return Y}function T(ne,fe,he){var Y=u.exec(fe.slice(he));return Y?(ne.p=c.get(Y[0].toLowerCase()),he+Y[0].length):-1}function N(ne,fe,he){var Y=p.exec(fe.slice(he));return Y?(ne.w=m.get(Y[0].toLowerCase()),he+Y[0].length):-1}function C(ne,fe,he){var Y=f.exec(fe.slice(he));return Y?(ne.w=h.get(Y[0].toLowerCase()),he+Y[0].length):-1}function R(ne,fe,he){var Y=b.exec(fe.slice(he));return Y?(ne.m=_.get(Y[0].toLowerCase()),he+Y[0].length):-1}function k(ne,fe,he){var Y=g.exec(fe.slice(he));return Y?(ne.m=v.get(Y[0].toLowerCase()),he+Y[0].length):-1}function U(ne,fe,he){return S(ne,e,fe,he)}function F(ne,fe,he){return S(ne,n,fe,he)}function z(ne,fe,he){return S(ne,r,fe,he)}function W(ne){return a[ne.getDay()]}function L(ne){return o[ne.getDay()]}function B(ne){return l[ne.getMonth()]}function H(ne){return s[ne.getMonth()]}function J(ne){return i[+(ne.getHours()>=12)]}function X(ne){return 1+~~(ne.getMonth()/3)}function te(ne){return a[ne.getUTCDay()]}function me(ne){return o[ne.getUTCDay()]}function Pe(ne){return l[ne.getUTCMonth()]}function Ke(ne){return s[ne.getUTCMonth()]}function Tt(ne){return i[+(ne.getUTCHours()>=12)]}function Bt(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var fe=I(ne+="",w);return fe.toString=function(){return ne},fe},parse:function(ne){var fe=x(ne+="",!1);return fe.toString=function(){return ne},fe},utcFormat:function(ne){var fe=I(ne+="",O);return fe.toString=function(){return ne},fe},utcParse:function(ne){var fe=x(ne+="",!0);return fe.toString=function(){return ne},fe}}}var xI={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,Mse=/^%/,Dse=/[\\^$*+?|[\]().{}]/g;function Oe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function $se(t){return t.replace(Dse,"\\$&")}function pu(t){return new RegExp("^(?:"+t.map($se).join("|")+")","i")}function mu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Lse(t,e,n){var r=Ct.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Vse(t,e,n){var r=Ct.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Fse(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Use(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Bse(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function EI(t,e,n){var r=Ct.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function SI(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function zse(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Wse(t,e,n){var r=Ct.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function qse(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function TI(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Hse(t,e,n){var r=Ct.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function AI(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Gse(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Kse(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Xse(t,e,n){var r=Ct.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Yse(t,e,n){var r=Ct.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Qse(t,e,n){var r=Mse.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Jse(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Zse(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function PI(t,e){return Oe(t.getDate(),e,2)}function ele(t,e){return Oe(t.getHours(),e,2)}function tle(t,e){return Oe(t.getHours()%12||12,e,2)}function nle(t,e){return Oe(1+Mf.count(Ii(t),t),e,3)}function qD(t,e){return Oe(t.getMilliseconds(),e,3)}function rle(t,e){return qD(t,e)+"000"}function ile(t,e){return Oe(t.getMonth()+1,e,2)}function ole(t,e){return Oe(t.getMinutes(),e,2)}function ale(t,e){return Oe(t.getSeconds(),e,2)}function sle(t){var e=t.getDay();return e===0?7:e}function lle(t,e){return Oe(vg.count(Ii(t)-1,t),e,2)}function HD(t){var e=t.getDay();return e>=4||e===0?tl(t):tl.ceil(t)}function ule(t,e){return t=HD(t),Oe(tl.count(Ii(t),t)+(Ii(t).getDay()===4),e,2)}function cle(t){return t.getDay()}function fle(t,e){return Oe(Op.count(Ii(t)-1,t),e,2)}function dle(t,e){return Oe(t.getFullYear()%100,e,2)}function hle(t,e){return t=HD(t),Oe(t.getFullYear()%100,e,2)}function ple(t,e){return Oe(t.getFullYear()%1e4,e,4)}function mle(t,e){var n=t.getDay();return t=n>=4||n===0?tl(t):tl.ceil(t),Oe(t.getFullYear()%1e4,e,4)}function gle(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Oe(e/60|0,"0",2)+Oe(e%60,"0",2)}function II(t,e){return Oe(t.getUTCDate(),e,2)}function yle(t,e){return Oe(t.getUTCHours(),e,2)}function vle(t,e){return Oe(t.getUTCHours()%12||12,e,2)}function ble(t,e){return Oe(1+yg.count(Oi(t),t),e,3)}function GD(t,e){return Oe(t.getUTCMilliseconds(),e,3)}function _le(t,e){return GD(t,e)+"000"}function wle(t,e){return Oe(t.getUTCMonth()+1,e,2)}function xle(t,e){return Oe(t.getUTCMinutes(),e,2)}function Ele(t,e){return Oe(t.getUTCSeconds(),e,2)}function Sle(t){var e=t.getUTCDay();return e===0?7:e}function Tle(t,e){return Oe(bg.count(Oi(t)-1,t),e,2)}function KD(t){var e=t.getUTCDay();return e>=4||e===0?nl(t):nl.ceil(t)}function Ale(t,e){return t=KD(t),Oe(nl.count(Oi(t),t)+(Oi(t).getUTCDay()===4),e,2)}function Ple(t){return t.getUTCDay()}function Ile(t,e){return Oe(kp.count(Oi(t)-1,t),e,2)}function Ole(t,e){return Oe(t.getUTCFullYear()%100,e,2)}function kle(t,e){return t=KD(t),Oe(t.getUTCFullYear()%100,e,2)}function Cle(t,e){return Oe(t.getUTCFullYear()%1e4,e,4)}function Nle(t,e){var n=t.getUTCDay();return t=n>=4||n===0?nl(t):nl.ceil(t),Oe(t.getUTCFullYear()%1e4,e,4)}function Rle(){return"+0000"}function OI(){return"%"}function kI(t){return+t}function CI(t){return Math.floor(+t/1e3)}var Ya,XD,YD;jle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jle(t){return Ya=jse(t),XD=Ya.format,Ya.parse,YD=Ya.utcFormat,Ya.utcParse,Ya}function Mle(t){return new Date(t)}function Dle(t){return t instanceof Date?+t:+new Date(+t)}function Z1(t,e,n,r,i,o,a,s,l,u){var c=V1(),f=c.invert,h=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),_=u("%b %d"),w=u("%B"),O=u("%Y");function A(I){return(l(I)<I?p:s(I)<I?m:a(I)<I?g:o(I)<I?v:r(I)<I?i(I)<I?b:_:n(I)<I?w:O)(I)}return c.invert=function(I){return new Date(f(I))},c.domain=function(I){return arguments.length?h(Array.from(I,Dle)):h().map(Mle)},c.ticks=function(I){var x=h();return t(x[0],x[x.length-1],I??10)},c.tickFormat=function(I,x){return x==null?A:u(x)},c.nice=function(I){var x=h();return(!I||typeof I.range!="function")&&(I=e(x[0],x[x.length-1],I??10)),I?h(DD(x,I)):c},c.copy=function(){return jf(c,Z1(t,e,n,r,i,o,a,s,l,u))},c}function $le(){return or.apply(Z1(Nse,Rse,Ii,Q1,vg,Mf,X1,G1,ia,XD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Lle(){return or.apply(Z1(kse,Cse,Oi,J1,bg,yg,Y1,K1,ia,YD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _g(){var t=0,e=1,n,r,i,o,a=sn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(h){var p,m;return arguments.length?([p,m]=h,a=f(p,m),u):[a(0),a(1)]}}return u.range=c($l),u.rangeRound=c(L1),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function $o(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function QD(){var t=Do(_g()(sn));return t.copy=function(){return $o(t,QD())},ji.apply(t,arguments)}function JD(){var t=B1(_g()).domain([1,10]);return t.copy=function(){return $o(t,JD()).base(t.base())},ji.apply(t,arguments)}function ZD(){var t=z1(_g());return t.copy=function(){return $o(t,ZD()).constant(t.constant())},ji.apply(t,arguments)}function ex(){var t=W1(_g());return t.copy=function(){return $o(t,ex()).exponent(t.exponent())},ji.apply(t,arguments)}function Vle(){return ex.apply(null,arguments).exponent(.5)}function e$(){var t=[],e=sn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Nf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(mo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Tae(t,o/r))},n.copy=function(){return e$(e).domain(t)},ji.apply(n,arguments)}function wg(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=sn,c,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var b,_,w;return arguments.length?([b,_,w]=v,u=Qae(g,[b,_,w]),p):[u(0),u(.5),u(1)]}}return p.range=m($l),p.rangeRound=m(L1),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return c=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function t$(){var t=Do(wg()(sn));return t.copy=function(){return $o(t,t$())},ji.apply(t,arguments)}function n$(){var t=B1(wg()).domain([.1,1,10]);return t.copy=function(){return $o(t,n$()).base(t.base())},ji.apply(t,arguments)}function r$(){var t=z1(wg());return t.copy=function(){return $o(t,r$()).constant(t.constant())},ji.apply(t,arguments)}function tx(){var t=W1(wg());return t.copy=function(){return $o(t,tx()).exponent(t.exponent())},ji.apply(t,arguments)}function Fle(){return tx.apply(null,arguments).exponent(.5)}const NI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rc,scaleDiverging:t$,scaleDivergingLog:n$,scaleDivergingPow:tx,scaleDivergingSqrt:Fle,scaleDivergingSymlog:r$,scaleIdentity:MD,scaleImplicit:bb,scaleLinear:Pp,scaleLog:$D,scaleOrdinal:M1,scalePoint:Xu,scalePow:q1,scaleQuantile:FD,scaleQuantize:UD,scaleRadial:VD,scaleSequential:QD,scaleSequentialLog:JD,scaleSequentialPow:ex,scaleSequentialQuantile:e$,scaleSequentialSqrt:Vle,scaleSequentialSymlog:ZD,scaleSqrt:_se,scaleSymlog:LD,scaleThreshold:BD,scaleTime:$le,scaleUtc:Lle,tickFormat:jD},Symbol.toStringTag,{value:"Module"}));var Ule=Ol;function Ble(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Ule(a):n(a,s)))var s=a,l=o}return l}var i$=Ble;function zle(t,e){return t>e}var Wle=zle,qle=i$,Hle=Wle,Gle=Dl;function Kle(t){return t&&t.length?qle(t,Gle,Hle):void 0}var Xle=Kle;const xg=$e(Xle);function Yle(t,e){return t<e}var Qle=Yle,Jle=i$,Zle=Qle,eue=Dl;function tue(t){return t&&t.length?Jle(t,eue,Zle):void 0}var nue=tue;const Eg=$e(nue);var rue=m1,iue=Mo,oue=dD,aue=xn;function sue(t,e){var n=aue(t)?rue:oue;return n(t,iue(e))}var lue=sue,uue=cD,cue=lue;function fue(t,e){return uue(cue(t,e),1)}var due=fue;const hue=$e(due);var pue=k1;function mue(t,e){return pue(t,e)}var gue=mue;const Sg=$e(gue);var Ll=1e9,yue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rx,Ye=!0,tr="[DecimalError] ",ca=tr+"Invalid argument: ",nx=tr+"Exponent out of range: ",Vl=Math.floor,Yo=Math.pow,vue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,On,Pt=1e7,qe=7,o$=9007199254740991,Cp=Vl(o$/qe),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return vi(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return De(vi(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return yt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(On))throw Error(tr+"NaN");if(n.s<1)throw Error(tr+(n.s?"NaN":"-Infinity"));return n.eq(On)?new r(0):(Ye=!1,e=vi(Lc(n,o),Lc(t,o),o),Ye=!0,De(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?l$(e,t):a$(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(tr+"NaN");return n.s?(Ye=!1,e=vi(n,t,0,1).times(t),Ye=!0,n.minus(e)):De(new r(n),i)};ae.naturalExponential=ae.exp=function(){return s$(this)};ae.naturalLogarithm=ae.ln=function(){return Lc(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?a$(e,t):l$(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ca+t);if(e=yt(i)+1,r=i.d.length-1,n=r*qe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(tr+"NaN")}for(t=yt(s),Ye=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Dr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Vl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(vi(s,o,a+2)).times(.5),Dr(o.d).slice(0,a)===(e=Dr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(De(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Ye=!0,De(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*h[i-r-1]+e,o[i--]=s%Pt|0,e=s/Pt|0;o[i]=(o[i]+e)%Pt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ye?De(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Xr(t,0,Ll),e===void 0?e=r.rounding:Xr(e,0,8),De(n,t+yt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Sa(r,!0):(Xr(t,0,Ll),e===void 0?e=i.rounding:Xr(e,0,8),r=De(new i(r),t+1,e),n=Sa(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Sa(i):(Xr(t,0,Ll),e===void 0?e=o.rounding:Xr(e,0,8),r=De(new o(i),t+yt(i)+1,e),n=Sa(r.abs(),!1,t+yt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return De(new e(t),yt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(On);if(s=new l(s),!s.s){if(t.s<1)throw Error(tr+"Infinity");return s}if(s.eq(On))return s;if(r=l.precision,t.eq(On))return De(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=o$){for(i=new l(On),e=Math.ceil(r/qe+4),Ye=!1;n%2&&(i=i.times(s),jI(i.d,e)),n=Vl(n/2),n!==0;)s=s.times(s),jI(s.d,e);return Ye=!0,t.s<0?new l(On).div(i):De(i,r)}}else if(o<0)throw Error(tr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ye=!1,i=t.times(Lc(s,r+u)),Ye=!0,i=s$(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=yt(i),r=Sa(i,n<=o.toExpNeg||n>=o.toExpPos)):(Xr(t,1,Ll),e===void 0?e=o.rounding:Xr(e,0,8),i=De(new o(i),t,e),n=yt(i),r=Sa(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Xr(t,1,Ll),e===void 0?e=r.rounding:Xr(e,0,8)),De(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=yt(t),n=t.constructor;return Sa(t,e<=n.toExpNeg||e>=n.toExpPos)};function a$(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ye?De(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/qe),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Pt|0,l[o]%=Pt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ye?De(e,f):e}function Xr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ca+t)}function Dr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=qe-r.length,n&&(o+=Bi(n)),o+=r;a=t[e],r=a+"",n=qe-r.length,n&&(o+=Bi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var vi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Pt|0,a=o/Pt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Pt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,h,p,m,g,v,b,_,w,O,A,I,x,S,T=r.constructor,N=r.s==i.s?1:-1,C=r.d,R=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(tr+"Division by zero");for(l=r.e-i.e,x=R.length,A=C.length,p=new T(N),m=p.d=[],u=0;R[u]==(C[u]||0);)++u;if(R[u]>(C[u]||0)&&--l,o==null?_=o=T.precision:a?_=o+(yt(r)-yt(i))+1:_=o,_<0)return new T(0);if(_=_/qe+2|0,u=0,x==1)for(c=0,R=R[0],_++;(u<A||c)&&_--;u++)w=c*Pt+(C[u]||0),m[u]=w/R|0,c=w%R|0;else{for(c=Pt/(R[0]+1)|0,c>1&&(R=t(R,c),C=t(C,c),x=R.length,A=C.length),O=x,g=C.slice(0,x),v=g.length;v<x;)g[v++]=0;S=R.slice(),S.unshift(0),I=R[0],R[1]>=Pt/2&&++I;do c=0,s=e(R,g,x,v),s<0?(b=g[0],x!=v&&(b=b*Pt+(g[1]||0)),c=b/I|0,c>1?(c>=Pt&&(c=Pt-1),f=t(R,c),h=f.length,v=g.length,s=e(f,g,h,v),s==1&&(c--,n(f,x<h?S:R,h))):(c==0&&(s=c=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),s==-1&&(v=g.length,s=e(R,g,x,v),s<1&&(c++,n(g,x<v?S:R,v))),v=g.length):s===0&&(c++,g=[0]),m[u++]=c,s&&g[0]?g[v++]=C[O]||0:(g=[C[O]],v=1);while((O++<A||g[0]!==void 0)&&_--)}return m[0]||m.shift(),p.e=l,De(p,a?o+yt(p)+1:o)}}();function s$(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(yt(t)>16)throw Error(nx+yt(t));if(!t.s)return new c(On);for(e==null?(Ye=!1,s=f):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Yo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(On),c.precision=s;;){if(i=De(i.times(t),s),n=n.times(++l),a=o.plus(vi(i,n,s)),Dr(a.d).slice(0,s)===Dr(o.d).slice(0,s)){for(;u--;)o=De(o.times(o),s);return c.precision=f,e==null?(Ye=!0,De(o,f)):o}o=a}}function yt(t){for(var e=t.e*qe,n=t.d[0];n>=10;n/=10)e++;return e}function cv(t,e,n){if(e>t.LN10.sd())throw Ye=!0,n&&(t.precision=n),Error(tr+"LN10 precision limit exceeded");return De(new t(t.LN10),e)}function Bi(t){for(var e="";t--;)e+="0";return e}function Lc(t,e){var n,r,i,o,a,s,l,u,c,f=1,h=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(tr+(p.s?"NaN":"-Infinity"));if(p.eq(On))return new g(0);if(e==null?(Ye=!1,u=v):u=e,p.eq(10))return e==null&&(Ye=!0),cv(g,u);if(u+=h,g.precision=u,n=Dr(m),r=n.charAt(0),o=yt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Dr(p.d),r=n.charAt(0),f++;o=yt(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=cv(g,u+2,v).times(o+""),p=Lc(new g(r+"."+n.slice(1)),u-h).plus(l),g.precision=v,e==null?(Ye=!0,De(p,v)):p;for(s=a=p=vi(p.minus(On),p.plus(On),u),c=De(p.times(p),u),i=3;;){if(a=De(a.times(c),u),l=s.plus(vi(a,new g(i),u)),Dr(l.d).slice(0,u)===Dr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(cv(g,u+2,v).times(o+""))),s=vi(s,new g(f),u),g.precision=v,e==null?(Ye=!0,De(s,v)):s;s=l,i+=2}}function RI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Vl(n/qe),t.d=[],r=(n+1)%qe,n<0&&(r+=qe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qe;r<i;)t.d.push(+e.slice(r,r+=qe));e=e.slice(r),r=qe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ye&&(t.e>Cp||t.e<-Cp))throw Error(nx+n)}else t.s=0,t.e=0,t.d=[0];return t}function De(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=qe,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/qe),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=qe,i=r-qe+a}if(n!==void 0&&(o=Yo(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Yo(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=yt(t),f.length=1,e=e-o-1,f[0]=Yo(10,(qe-e%qe)%qe),t.e=Vl(-e/qe)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Yo(10,qe-r),f[c]=i>0?(u/Yo(10,a-i)%Yo(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Pt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Pt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Ye&&(t.e>Cp||t.e<-Cp))throw Error(nx+yt(t));return t}function l$(t,e){var n,r,i,o,a,s,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ye?De(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/qe),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Pt-1;--l[o],l[i]+=Pt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ye?De(e,p):e):new h(0)}function Sa(t,e,n){var r,i=yt(t),o=Dr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Bi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Bi(-i-1)+o,n&&(r=n-a)>0&&(o+=Bi(r))):i>=a?(o+=Bi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Bi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Bi(r))),t.s<0?"-"+o:o}function jI(t,e){if(t.length>e)return t.length=e,!0}function u$(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ca+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return RI(a,o.toString())}else if(typeof o!="string")throw Error(ca+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,vue.test(o))RI(a,o);else throw Error(ca+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=u$,i.config=i.set=bue,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function bue(t){if(!t||typeof t!="object")throw Error(tr+"Object expected");var e,n,r,i=["precision",1,Ll,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Vl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ca+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ca+n+": "+r);return this}var rx=u$(yue);On=new rx(1);const je=rx;function _ue(t){return Sue(t)||Eue(t)||xue(t)||wue()}function wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xue(t,e){if(t){if(typeof t=="string")return Eb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eb(t,e)}}function Eue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Sue(t){if(Array.isArray(t))return Eb(t)}function Eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tue=function(e){return e},c$={"@@functional/placeholder":!0},f$=function(e){return e===c$},MI=function(e){return function n(){return arguments.length===0||arguments.length===1&&f$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Aue=function t(e,n){return e===1?n:MI(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==c$}).length;return a>=e?n.apply(void 0,i):t(e-a,MI(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return f$(f)?l.shift():f});return n.apply(void 0,_ue(c).concat(l))}))})},Tg=function(e){return Aue(e.length,e)},Sb=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Pue=Tg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Iue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Tue;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Tb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},d$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Oue(t){var e;return t===0?e=1:e=Math.floor(new je(t).abs().log(10).toNumber())+1,e}function kue(t,e,n){for(var r=new je(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Cue=Tg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Nue=Tg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Rue=Tg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Ag={rangeStep:kue,getDigitCount:Oue,interpolateNumber:Cue,uninterpolateNumber:Nue,uninterpolateTruncation:Rue};function Ab(t){return Due(t)||Mue(t)||h$(t)||jue()}function jue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Due(t){if(Array.isArray(t))return Pb(t)}function Vc(t,e){return Vue(t)||Lue(t,e)||h$(t,e)||$ue()}function $ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h$(t,e){if(t){if(typeof t=="string")return Pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pb(t,e)}}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lue(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Vue(t){if(Array.isArray(t))return t}function p$(t){var e=Vc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function m$(t,e,n){if(t.lte(0))return new je(0);var r=Ag.getDigitCount(t.toNumber()),i=new je(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new je(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new je(Math.ceil(l))}function Fue(t,e,n){var r=1,i=new je(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new je(10).pow(Ag.getDigitCount(t)-1),i=new je(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new je(Math.floor(t)))}else t===0?i=new je(Math.floor((e-1)/2)):n||(i=new je(Math.floor(t)));var a=Math.floor((e-1)/2),s=Iue(Pue(function(l){return i.add(new je(l-a).mul(r)).toNumber()}),Sb);return s(0,e)}function g$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var o=m$(new je(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new je(0):(a=new je(t).add(e).div(2),a=a.sub(new je(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new je(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?g$(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new je(s).mul(o)),tickMax:a.add(new je(l).mul(o))})}function Uue(t){var e=Vc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=p$([n,r]),l=Vc(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Ab(Sb(0,i-1).map(function(){return 1/0}))):[].concat(Ab(Sb(0,i-1).map(function(){return-1/0})),[c]);return n>r?Tb(f):f}if(u===c)return Fue(u,i,o);var h=g$(u,c,a,o),p=h.step,m=h.tickMin,g=h.tickMax,v=Ag.rangeStep(m,g.add(new je(.1).mul(p)),p);return n>r?Tb(v):v}function Bue(t,e){var n=Vc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=p$([r,i]),s=Vc(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=m$(new je(u).sub(l).div(c-1),o,0),h=[].concat(Ab(Ag.rangeStep(new je(l),new je(u).sub(new je(.99).mul(f)),f)),[u]);return r>i?Tb(h):h}var zue=d$(Uue),Wue=d$(Bue),que=!0,fv="Invariant failed";function Ta(t,e){if(!t){if(que)throw new Error(fv);var n=typeof e=="function"?e():e,r=n?"".concat(fv,": ").concat(n):fv;throw new Error(r)}}var Hue=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function Np(){return Np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Np.apply(this,arguments)}function Gue(t,e){return Que(t)||Yue(t,e)||Xue(t,e)||Kue()}function Kue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xue(t,e){if(t){if(typeof t=="string")return DI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DI(t,e)}}function DI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Que(t){if(Array.isArray(t))return t}function Jue(t,e){if(t==null)return{};var n=Zue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ece(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b$(r.key),r)}}function tce(t,e,n){return e&&$I(t.prototype,e),n&&$I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nce(t,e,n){return e=Rp(e),rce(t,y$()?Reflect.construct(e,n||[],Rp(t).constructor):e.apply(t,n))}function rce(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ice(t)}function ice(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rp(t)}function oce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ib(t,e)}function Ib(t,e){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ib(t,e)}function v$(t,e,n){return e=b$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t){var e=ace(t,"string");return rl(e)=="symbol"?e:e+""}function ace(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Df=function(t){function e(){return ece(this,e),nce(this,e,arguments)}return oce(e,t),tce(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Jue(r,Hue),p=Ee(h,!1);this.props.direction==="x"&&c.type!=="number"&&Ta(!1);var m=l.map(function(g){var v=u(g,s),b=v.x,_=v.y,w=v.value,O=v.errorVal;if(!O)return null;var A=[],I,x;if(Array.isArray(O)){var S=Gue(O,2);I=S[0],x=S[1]}else I=x=O;if(o==="vertical"){var T=c.scale,N=_+i,C=N+a,R=N-a,k=T(w-I),U=T(w+x);A.push({x1:U,y1:C,x2:U,y2:R}),A.push({x1:k,y1:N,x2:U,y2:N}),A.push({x1:k,y1:C,x2:k,y2:R})}else if(o==="horizontal"){var F=f.scale,z=b+i,W=z-a,L=z+a,B=F(w-I),H=F(w+x);A.push({x1:W,y1:H,x2:L,y2:H}),A.push({x1:z,y1:B,x2:z,y2:H}),A.push({x1:W,y1:B,x2:L,y2:B})}return D.createElement(ut,Np({className:"recharts-errorBar",key:"bar-".concat(A.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),A.map(function(J){return D.createElement("line",Np({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return D.createElement(ut,{className:"recharts-errorBars"},m)}}])}(D.Component);v$(Df,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});v$(Df,"displayName","ErrorBar");function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sce(t,e,n){return e=lce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t){var e=uce(t,"string");return Fc(e)=="symbol"?e:e+""}function uce(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Pn(n,Cs);if(!a)return null;var s=Cs.defaultProps,l=s!==void 0?Wo(Wo({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return c.concat(m.map(function(g){return{type:a.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,p=h!==void 0?Wo(Wo({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:m,type:l.iconType||v||"square",color:ix(f),value:g||m,payload:p}}),Wo(Wo(Wo({},l),Cs.getWithHeight(a,i)),{},{payload:u,item:a})};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function VI(t){return hce(t)||dce(t)||fce(t)||cce()}function cce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fce(t,e){if(t){if(typeof t=="string")return Ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ob(t,e)}}function dce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hce(t){if(Array.isArray(t))return Ob(t)}function Ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){Rs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rs(t,e,n){return e=pce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pce(t){var e=mce(t,"string");return Uc(e)=="symbol"?e:e+""}function mce(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dn(t,e,n){return ve(t)||ve(e)?n:xt(e)?Yn(t,e,n):ge(e)?e(t):n}function Yu(t,e,n,r){var i=hue(t,function(s){return Dn(s,e)});if(n==="number"){var o=i.filter(function(s){return ee(s)||parseFloat(s)});return o.length?[Eg(o),xg(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ve(s)}):i;return a.map(function(s){return xt(s)||s instanceof Date?s:""})}var gce=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(_r(f-c)!==_r(h-f)){var m=[];if(_r(h-f)===_r(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){a=i[u].index;break}}else{var _=Math.min(c,h),w=Math.max(c,h);if(e>(_+f)/2&&e<=(w+f)/2){a=i[u].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){a=r[O].index;break}return a},ix=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},yce=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),h=0,p=f.length;h<p;h++){var m=c[f[h]],g=m.items,v=m.cateAxisId,b=g.filter(function(x){return mi(x.type).indexOf("Bar")>=0});if(b&&b.length){var _=b[0].type.defaultProps,w=_!==void 0?ot(ot({},_),b[0].props):b[0].props,O=w.barSize,A=w[v];a[A]||(a[A]=[]);var I=ve(O)?n:O;a[A].push({item:b[0],stackList:b.slice(1),barSize:ve(I)?void 0:Ea(I,r,0)})}}return a},vce=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Ea(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,m=a.reduce(function(O,A){return O+A.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};c=a.reduce(function(O,A){var I={item:A.item,position:{offset:v.offset+v.size+u,size:h?p:A.barSize}},x=[].concat(VI(O),[I]);return v=x[x.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(S){x.push({item:S,position:v})}),x},f)}else{var b=Ea(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var _=(i-2*b-(l-1)*u)/l;_>1&&(_>>=0);var w=s===+s?Math.min(_,s):_;c=a.reduce(function(O,A,I){var x=[].concat(VI(O),[{item:A.item,position:{offset:b+(_+u)*I+(_-w)/2,size:w}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(S){x.push({item:S,position:x[x.length-1].position})}),x},f)}return c},bce=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=_$({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ee(e[p]))return ot(ot({},e),{},Rs({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ee(e[m]))return ot(ot({},e),{},Rs({},m,e[m]+(h||0)))}return e},_ce=function(e,n,r){return ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},w$=function(e,n,r,i,o){var a=n.props.children,s=Qn(a,Df).filter(function(u){return _ce(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Dn(c,r);if(ve(f))return u;var h=Array.isArray(f)?[Eg(f),xg(f)]:[f,f],p=l.reduce(function(m,g){var v=Dn(c,g,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),_=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,m[0]),Math.max(_,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},wce=function(e,n,r,i,o){var a=n.map(function(s){return w$(e,s,r,o,i)}).filter(function(s){return!ve(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},x$=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&w$(e,l,u,i)||Yu(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},E$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},S$=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},fi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?_r(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Of(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},dv=new WeakMap,jd=function(e,n){if(typeof n!="function")return e;dv.has(e)||dv.set(e,new WeakMap);var r=dv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},xce=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Rc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Pp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Xu(),realScaleType:"point"}:o==="category"?{scale:Rc(),realScaleType:"band"}:{scale:Pp(),realScaleType:"linear"};if(xa(i)){var l="scale".concat(ug(i));return{scale:(NI[l]||Xu)(),realScaleType:NI[l]?l:"point"}}return ge(i)?{scale:i}:{scale:Xu(),realScaleType:"point"}},UI=1e-4,Ece=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-UI,a=Math.max(i[0],i[1])+UI,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Sce=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Tce=function(e,n){if(!n||n.length!==2||!ee(n[0])||!ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(o[0]=r),(!ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Ace=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Of(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Pce=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Of(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Ice={sign:Ace,expand:qY,none:Xs,silhouette:HY,wiggle:GY,positive:Pce},Oce=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Ice[r],a=WY().keys(i).value(function(s,l){return+Dn(s,l,0)}).order(eb).offset(o);return a(e)},kce=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ot(ot({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var b=m[r],_=f[b]||{hasStack:!1,stackGroups:{}};if(xt(g)){var w=_.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),_.hasStack=!0,_.stackGroups[g]=w}else _.stackGroups[kf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return ot(ot({},f),{},Rs({},b,_))},l),c={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var b=p.stackGroups[v];return ot(ot({},g),{},Rs({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:Oce(e,b.items,o)}))},m)}return ot(ot({},f),{},Rs({},h,p))},c)},Cce=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=zue(u,o,s);return e.domain([Eg(c),xg(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=Wue(f,o,s);return{niceTicks:h}}return null};function BI(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ve(i[e.dataKey])){var s=ip(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Dn(i,ve(a)?e.dataKey:a);return ve(l)?null:e.scale(l)}var zI=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Dn(a,n.dataKey,n.domain[s]);return ve(l)?null:n.scale(l)-o/2+i},Nce=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Rce=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(xt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},jce=function(e){return e.reduce(function(n,r){return[Eg(r.concat([n[0]]).filter(ee)),xg(r.concat([n[1]]).filter(ee))]},[1/0,-1/0])},T$=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=jce(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},WI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kb=function(e,n,r){if(ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(WI.test(e[0])){var o=+WI.exec(e[0])[1];i[0]=n[0]-o}else ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(qI.test(e[1])){var a=+qI.exec(e[1])[1];i[1]=n[1]+a}else ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},jp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=N1(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},HI=function(e,n,r){return!e||!e.length||Sg(e,Yn(r,"type.defaultProps.domain"))?n:e},A$=function(e,n){var r=e.type.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return ot(ot({},Ee(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:ix(e),value:Dn(n,i),type:l,payload:n,chartType:u,hide:c})};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){Mce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mce(t,e,n){return e=Dce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dce(t){var e=$ce(t,"string");return Bc(e)=="symbol"?e:e+""}function $ce(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mp=Math.PI/180,Lce=function(e){return e*180/Math.PI},Lt=function(e,n,r,i){return{x:e+Math.cos(-Mp*i)*r,y:n+Math.sin(-Mp*i)*r}},Vce=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Fce=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Vce({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Lce(u),angleInRadian:u}},Uce=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Bce=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},XI=function(e,n){var r=e.x,i=e.y,o=Fce({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=Uce(n),f=c.startAngle,h=c.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?KI(KI({},n),{},{radius:a,angle:Bce(p,n)}):null};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var zce=["offset"];function Wce(t){return Kce(t)||Gce(t)||Hce(t)||qce()}function qce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hce(t,e){if(t){if(typeof t=="string")return Cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cb(t,e)}}function Gce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kce(t){if(Array.isArray(t))return Cb(t)}function Cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xce(t,e){if(t==null)return{};var n=Yce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){Qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qce(t,e,n){return e=Jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t){var e=Zce(t,"string");return zc(e)=="symbol"?e:e+""}function Zce(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc.apply(this,arguments)}var efe=function(e){var n=e.value,r=e.formatter,i=ve(e.children)?n:e.children;return ge(r)?r(i):i},tfe=function(e,n){var r=_r(n-e),i=Math.min(Math.abs(n-e),360);return r*i},nfe=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,b=tfe(p,m),_=b>=0?1:-1,w,O;i==="insideStart"?(w=p+_*a,O=g):i==="insideEnd"?(w=m-_*a,O=!g):i==="end"&&(w=m+_*a,O=g),O=b<=0?O:!O;var A=Lt(u,c,v,w),I=Lt(u,c,v,w+(O?1:-1)*359),x="M".concat(A.x,",").concat(A.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(I.x,",").concat(I.y),S=ve(e.id)?kf("recharts-radial-line-"):e.id;return D.createElement("text",Wc({},r,{dominantBaseline:"central",className:Ae("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:S,d:x})),D.createElement("textPath",{xlinkHref:"#".concat(S)},n))},rfe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var p=Lt(a,s,u+r,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,b=Lt(a,s,v,h),_=b.x,w=b.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},ife=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*i,b=g>0?"end":"start",_=g>0?"start":"end";if(o==="top"){var w={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return bt(bt({},w),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var O={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:m};return bt(bt({},O),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var A={x:s-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return bt(bt({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(o==="right"){var I={x:s+u+v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return bt(bt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:c}:{})}var x=r?{width:u,height:c}:{};return o==="insideLeft"?bt({x:s+v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},x):o==="insideRight"?bt({x:s+u-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},x):o==="insideTop"?bt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},x):o==="insideBottom"?bt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},x):o==="insideTopLeft"?bt({x:s+v,y:l+h,textAnchor:_,verticalAnchor:m},x):o==="insideTopRight"?bt({x:s+u-v,y:l+h,textAnchor:b,verticalAnchor:m},x):o==="insideBottomLeft"?bt({x:s+v,y:l+c-h,textAnchor:_,verticalAnchor:p},x):o==="insideBottomRight"?bt({x:s+u-v,y:l+c-h,textAnchor:b,verticalAnchor:p},x):kl(o)&&(ee(o.x)||na(o.x))&&(ee(o.y)||na(o.y))?bt({x:s+Ea(o.x,u),y:l+Ea(o.y,c),textAnchor:"end",verticalAnchor:"end"},x):bt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)},ofe=function(e){return"cx"in e&&ee(e.cx)};function Zt(t){var e=t.offset,n=e===void 0?5:e,r=Xce(t,zce),i=bt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||ve(s)&&ve(l)&&!M.isValidElement(u)&&!ge(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var p;if(ge(u)){if(p=M.createElement(u,i),M.isValidElement(p))return p}else p=efe(i);var m=ofe(o),g=Ee(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return nfe(i,p,g);var v=m?rfe(i):ife(i);return D.createElement(_p,Wc({className:Ae("recharts-label",f)},g,v,{breakAll:h}),p)}Zt.displayName="Label";var P$=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,v=e.height,b=e.clockWise,_=e.labelViewBox;if(_)return _;if(ee(g)&&ee(v)){if(ee(f)&&ee(h))return{x:f,y:h,width:g,height:v};if(ee(p)&&ee(m))return{x:p,y:m,width:g,height:v}}return ee(f)&&ee(h)?{x:f,y:h,width:0,height:0}:ee(n)&&ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},afe=function(e,n){return e?e===!0?D.createElement(Zt,{key:"label-implicit",viewBox:n}):xt(e)?D.createElement(Zt,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===Zt?M.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(Zt,{key:"label-implicit",content:e,viewBox:n}):ge(e)?D.createElement(Zt,{key:"label-implicit",content:e,viewBox:n}):kl(e)?D.createElement(Zt,Wc({viewBox:n},e,{key:"label-implicit"})):null:null},sfe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=P$(e),a=Qn(i,Zt).map(function(l,u){return M.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=afe(e.label,n||o);return[s].concat(Wce(a))};Zt.parseViewBox=P$;Zt.renderCallByParent=sfe;function lfe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ufe=lfe;const cfe=$e(ufe);function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}var ffe=["valueAccessor"],dfe=["data","dataKey","clockWise","id","textBreakAll"];function hfe(t){return yfe(t)||gfe(t)||mfe(t)||pfe()}function pfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mfe(t,e){if(t){if(typeof t=="string")return Nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nb(t,e)}}function gfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yfe(t){if(Array.isArray(t))return Nb(t)}function Nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dp.apply(this,arguments)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vfe(t,e,n){return e=bfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bfe(t){var e=_fe(t,"string");return qc(e)=="symbol"?e:e+""}function _fe(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZI(t,e){if(t==null)return{};var n=wfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xfe=function(e){return Array.isArray(e.value)?cfe(e.value):e.value};function go(t){var e=t.valueAccessor,n=e===void 0?xfe:e,r=ZI(t,ffe),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=ZI(r,dfe);return!i||!i.length?null:D.createElement(ut,{className:"recharts-label-list"},i.map(function(c,f){var h=ve(o)?n(c,f):Dn(c&&c.payload,o),p=ve(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(Zt,Dp({},Ee(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Zt.parseViewBox(ve(a)?c:JI(JI({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}go.displayName="LabelList";function Efe(t,e){return t?t===!0?D.createElement(go,{key:"labelList-implicit",data:e}):D.isValidElement(t)||ge(t)?D.createElement(go,{key:"labelList-implicit",data:e,content:t}):kl(t)?D.createElement(go,Dp({data:e},t,{key:"labelList-implicit"})):null:null}function Sfe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Qn(r,go).map(function(a,s){return M.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Efe(t.label,e);return[o].concat(hfe(i))}go.renderCallByParent=Sfe;function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rb.apply(this,arguments)}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){Tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tfe(t,e,n){return e=Afe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Afe(t){var e=Pfe(t,"string");return Hc(e)=="symbol"?e:e+""}function Pfe(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ife=function(e,n){var r=_r(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Md=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Mp,h=u?o:o+a*f,p=Lt(n,r,c,h),m=Lt(n,r,i,h),g=u?o-a*f:o,v=Lt(n,r,c*Math.cos(f*Mp),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},I$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Ife(a,s),u=a+l,c=Lt(n,r,o,a),f=Lt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Lt(n,r,i,a),m=Lt(n,r,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Ofe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=_r(c-u),h=Md({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=Md({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),b=v.circleTangency,_=v.lineTangency,w=v.theta,O=l?Math.abs(u-c):Math.abs(u-c)-g-w;if(O<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):I$({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var A="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var I=Md({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),x=I.circleTangency,S=I.lineTangency,T=I.theta,N=Md({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=N.circleTangency,R=N.lineTangency,k=N.theta,U=l?Math.abs(u-c):Math.abs(u-c)-T-k;if(U<0&&a===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},kfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},O$=function(e){var n=tO(tO({},kfe),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(a<o||c===f)return null;var p=Ae("recharts-sector",h),m=a-o,g=Ea(s,m,0,!0),v;return g>0&&Math.abs(c-f)<360?v=Ofe({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):v=I$({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),D.createElement("path",Rb({},Ee(n,!0),{className:p,d:v,role:"img"}))};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(this,arguments)}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){Cfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cfe(t,e,n){return e=Nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=Rfe(t,"string");return Gc(e)=="symbol"?e:e+""}function Rfe(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iO={curveBasisClosed:RY,curveBasisOpen:jY,curveBasis:NY,curveBumpX:vY,curveBumpY:bY,curveLinearClosed:MY,curveLinear:fg,curveMonotoneX:DY,curveMonotoneY:$Y,curveNatural:LY,curveStep:VY,curveStepAfter:UY,curveStepBefore:FY},Dd=function(e){return e.x===+e.x&&e.y===+e.y},gu=function(e){return e.x},yu=function(e){return e.y},jfe=function(e,n){if(ge(e))return e;var r="curve".concat(ug(e));return(r==="curveMonotone"||r==="curveBump")&&n?iO["".concat(r).concat(n==="vertical"?"Y":"X")]:iO[r]||fg},Mfe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=jfe(r,s),f=u?o.filter(function(g){return Dd(g)}):o,h;if(Array.isArray(a)){var p=u?a.filter(function(g){return Dd(g)}):a,m=f.map(function(g,v){return rO(rO({},g),{},{base:p[v]})});return s==="vertical"?h=Ad().y(yu).x1(gu).x0(function(g){return g.base.x}):h=Ad().x(gu).y1(yu).y0(function(g){return g.base.y}),h.defined(Dd).curve(c),h(m)}return s==="vertical"&&ee(a)?h=Ad().y(yu).x1(gu).x0(a):ee(a)?h=Ad().x(gu).y1(yu).y0(a):h=OM().x(gu).y(yu),h.defined(Dd).curve(c),h(f)},Mb=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Mfe(e):i;return M.createElement("path",jb({},Ee(e,!1),op(e),{className:Ae("recharts-curve",n),d:a,ref:o}))},k$={exports:{}},Dfe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$fe=Dfe,Lfe=$fe;function C$(){}function N$(){}N$.resetWarningCache=C$;var Vfe=function(){function t(r,i,o,a,s,l){if(l!==Lfe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:N$,resetWarningCache:C$};return n.PropTypes=n,n};k$.exports=Vfe();var Ffe=k$.exports;const ke=$e(Ffe);var Ufe=Object.getOwnPropertyNames,Bfe=Object.getOwnPropertySymbols,zfe=Object.prototype.hasOwnProperty;function oO(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function $d(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function aO(t){return Ufe(t).concat(Bfe(t))}var Wfe=Object.hasOwn||function(t,e){return zfe.call(t,e)};function Ua(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var qfe="__v",Hfe="__o",Gfe="_owner",sO=Object.getOwnPropertyDescriptor,lO=Object.keys;function Kfe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Xfe(t,e){return Ua(t.getTime(),e.getTime())}function Yfe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Qfe(t,e){return t===e}function uO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=a.value,p=s.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Jfe=Ua;function Zfe(t,e,n){var r=lO(t),i=r.length;if(lO(e).length!==i)return!1;for(;i-- >0;)if(!R$(t,e,n,r[i]))return!1;return!0}function vu(t,e,n){var r=aO(t),i=r.length;if(aO(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!R$(t,e,n,o)||(a=sO(t,o),s=sO(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function ede(t,e){return Ua(t.valueOf(),e.valueOf())}function tde(t,e){return t.source===e.source&&t.flags===e.flags}function cO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function nde(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function rde(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function R$(t,e,n,r){return(r===Gfe||r===Hfe||r===qfe)&&(t.$$typeof||e.$$typeof)?!0:Wfe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var ide="[object Arguments]",ode="[object Boolean]",ade="[object Date]",sde="[object Error]",lde="[object Map]",ude="[object Number]",cde="[object Object]",fde="[object RegExp]",dde="[object Set]",hde="[object String]",pde="[object URL]",mde=Array.isArray,fO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,dO=Object.assign,gde=Object.prototype.toString.call.bind(Object.prototype.toString);function yde(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var b=typeof m;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?a(m,g,v):b==="function"?i(m,g,v):!1;var _=m.constructor;if(_!==g.constructor)return!1;if(_===Object)return s(m,g,v);if(mde(m))return e(m,g,v);if(fO!=null&&fO(m))return f(m,g,v);if(_===Date)return n(m,g,v);if(_===RegExp)return u(m,g,v);if(_===Map)return o(m,g,v);if(_===Set)return c(m,g,v);var w=gde(m);return w===ade?n(m,g,v):w===fde?u(m,g,v):w===lde?o(m,g,v):w===dde?c(m,g,v):w===cde?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,v):w===pde?h(m,g,v):w===sde?r(m,g,v):w===ide?s(m,g,v):w===ode||w===ude||w===hde?l(m,g,v):!1}}function vde(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?vu:Kfe,areDatesEqual:Xfe,areErrorsEqual:Yfe,areFunctionsEqual:Qfe,areMapsEqual:r?oO(uO,vu):uO,areNumbersEqual:Jfe,areObjectsEqual:r?vu:Zfe,arePrimitiveWrappersEqual:ede,areRegExpsEqual:tde,areSetsEqual:r?oO(cO,vu):cO,areTypedArraysEqual:r?vu:nde,areUrlsEqual:rde};if(n&&(i=dO({},i,n(i))),e){var o=$d(i.areArraysEqual),a=$d(i.areMapsEqual),s=$d(i.areObjectsEqual),l=$d(i.areSetsEqual);i=dO({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function bde(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function _de(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var wde=Lo();Lo({strict:!0});Lo({circular:!0});Lo({circular:!0,strict:!0});Lo({createInternalComparator:function(){return Ua}});Lo({strict:!0,createInternalComparator:function(){return Ua}});Lo({circular:!0,createInternalComparator:function(){return Ua}});Lo({circular:!0,createInternalComparator:function(){return Ua},strict:!0});function Lo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=vde(t),l=yde(s),u=r?r(l):bde(l);return _de({circular:n,comparator:l,createState:i,equals:u,strict:a})}function xde(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function hO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):xde(i)};requestAnimationFrame(r)}function Db(t){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}function Ede(t){return Pde(t)||Ade(t)||Tde(t)||Sde()}function Sde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tde(t,e){if(t){if(typeof t=="string")return pO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pO(t,e)}}function pO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ade(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pde(t){if(Array.isArray(t))return t}function Ide(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Ede(a),l=s[0],u=s.slice(1);if(typeof l=="number"){hO(i.bind(null,u),l);return}i(l),hO(i.bind(null,u));return}Db(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){j$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j$(t,e,n){return e=Ode(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ode(t){var e=kde(t,"string");return Kc(e)==="symbol"?e:String(e)}function kde(t,e){if(Kc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cde=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Nde=function(e){return e},Rde=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Qu=function(e,n){return Object.keys(n).reduce(function(r,i){return gO(gO({},r),{},j$({},i,e(i,n[i])))},{})},yO=function(e,n,r){return e.map(function(i){return"".concat(Rde(i)," ").concat(n,"ms ").concat(r)}).join(",")};function jde(t,e){return $de(t)||Dde(t,e)||M$(t,e)||Mde()}function Mde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function $de(t){if(Array.isArray(t))return t}function Lde(t){return Ude(t)||Fde(t)||M$(t)||Vde()}function Vde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M$(t,e){if(t){if(typeof t=="string")return $b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $b(t,e)}}function Fde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ude(t){if(Array.isArray(t))return $b(t)}function $b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $p=1e-4,D$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},$$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},vO=function(e,n){return function(r){var i=D$(e,n);return $$(i,r)}},Bde=function(e,n){return function(r){var i=D$(e,n),o=[].concat(Lde(i.map(function(a,s){return a*s}).slice(1)),[0]);return $$(o,r)}},bO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=jde(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=vO(i,a),h=vO(o,s),p=Bde(i,a),m=function(b){return b>1?1:b<0?0:b},g=function(b){for(var _=b>1?1:b,w=_,O=0;O<8;++O){var A=f(w)-_,I=p(w);if(Math.abs(A-_)<$p||I<$p)return h(w);w=m(w-A/I)}return h(w)};return g.isStepper=!1,g},zde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,h){var p=-(c-f)*r,m=h*o,g=h+(p-m)*s/1e3,v=h*s/1e3+c;return Math.abs(v-f)<$p&&Math.abs(g)<$p?[f,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},Wde=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bO(i);case"spring":return zde();default:if(i.split("(")[0]==="cubic-bezier")return bO(i)}return typeof i=="function"?i:null};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function _O(t){return Gde(t)||Hde(t)||L$(t)||qde()}function qde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gde(t){if(Array.isArray(t))return Vb(t)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){Lb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lb(t,e,n){return e=Kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kde(t){var e=Xde(t,"string");return Xc(e)==="symbol"?e:String(e)}function Xde(t,e){if(Xc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yde(t,e){return Zde(t)||Jde(t,e)||L$(t,e)||Qde()}function Qde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L$(t,e){if(t){if(typeof t=="string")return Vb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vb(t,e)}}function Vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Zde(t){if(Array.isArray(t))return t}var Lp=function(e,n,r){return e+(n-e)*r},Fb=function(e){var n=e.from,r=e.to;return n!==r},ehe=function t(e,n,r){var i=Qu(function(o,a){if(Fb(a)){var s=e(a.from,a.to,a.velocity),l=Yde(s,2),u=l[0],c=l[1];return jt(jt({},a),{},{from:u,velocity:c})}return a},n);return r<1?Qu(function(o,a){return Fb(a)?jt(jt({},a),{},{velocity:Lp(a.velocity,i[o].velocity,r),from:Lp(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const the=function(t,e,n,r,i){var o=Cde(t,e),a=o.reduce(function(v,b){return jt(jt({},v),{},Lb({},b,[t[b],e[b]]))},{}),s=o.reduce(function(v,b){return jt(jt({},v),{},Lb({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Qu(function(b,_){return _.from},s)},p=function(){return!Object.values(s).filter(Fb).length},m=function(b){u||(u=b);var _=b-u,w=_/n.dt;s=ehe(n,s,w),i(jt(jt(jt({},t),e),h())),u=b,p()||(l=requestAnimationFrame(f))},g=function(b){c||(c=b);var _=(b-c)/r,w=Qu(function(A,I){return Lp.apply(void 0,_O(I).concat([n(_)]))},a);if(i(jt(jt(jt({},t),e),w)),_<1)l=requestAnimationFrame(f);else{var O=Qu(function(A,I){return Lp.apply(void 0,_O(I).concat([n(1)]))},a);i(jt(jt(jt({},t),e),O))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}var nhe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rhe(t,e){if(t==null)return{};var n=ihe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ihe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hv(t){return lhe(t)||she(t)||ahe(t)||ohe()}function ohe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ahe(t,e){if(t){if(typeof t=="string")return Ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ub(t,e)}}function she(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lhe(t){if(Array.isArray(t))return Ub(t)}function Ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){Cu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cu(t,e,n){return e=V$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V$(r.key),r)}}function che(t,e,n){return e&&EO(t.prototype,e),n&&EO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V$(t){var e=fhe(t,"string");return il(e)==="symbol"?e:String(e)}function fhe(t,e){if(il(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(il(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bb(t,e)}function Bb(t,e){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bb(t,e)}function hhe(t){var e=phe();return function(){var r=Vp(t),i;if(e){var o=Vp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return zb(this,i)}}function zb(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wb(t)}function Wb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function phe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vp(t)}var Pg=function(t){dhe(n,t);var e=hhe(n);function n(r,i){var o;uhe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Wb(o)),o.changeStyle=o.changeStyle.bind(Wb(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),zb(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},zb(o);o.state={style:l?Cu({},l,u):u}}else o.state={style:{}};return o}return che(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(s){if(!a){var p={style:l?Cu({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(wde(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&h){var v={style:l?Cu({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(ur(ur({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=the(a,s,Wde(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,b){if(b===0)return g;var _=v.duration,w=v.easing,O=w===void 0?"ease":w,A=v.style,I=v.properties,x=v.onAnimationEnd,S=b>0?a[b-1]:v,T=I||Object.keys(A);if(typeof O=="function"||O==="spring")return[].concat(hv(g),[o.runJSAnimation.bind(o,{from:S.style,to:A,duration:_,easing:O}),_]);var N=yO(T,_,O),C=ur(ur(ur({},S.style),A),{},{transition:N});return[].concat(hv(g),[C,_,x]).filter(Nde)};return this.manager.start([l].concat(hv(a.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ide());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=s?Cu({},s,l):l,v=yO(Object.keys(g),a,u);m.start([c,o,ur(ur({},g),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=rhe(i,nhe),u=M.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,b=m.className,_=M.cloneElement(p,ur(ur({},l),{},{style:ur(ur({},v),c),className:b}));return _};return u===1?f(M.Children.only(o)):D.createElement("div",null,M.Children.map(o,function(h){return f(h)}))}}]),n}(M.PureComponent);Pg.displayName="Animate";Pg.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pg.propTypes={from:ke.oneOfType([ke.object,ke.string]),to:ke.oneOfType([ke.object,ke.string]),attributeName:ke.string,duration:ke.number,begin:ke.number,easing:ke.oneOfType([ke.string,ke.func]),steps:ke.arrayOf(ke.shape({duration:ke.number.isRequired,style:ke.object.isRequired,easing:ke.oneOfType([ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ke.func]),properties:ke.arrayOf("string"),onAnimationEnd:ke.func})),children:ke.oneOfType([ke.node,ke.func]),isActive:ke.bool,canBegin:ke.bool,onAnimationEnd:ke.func,shouldReAnimate:ke.bool,onAnimationStart:ke.func,onAnimationReStart:ke.func};const ol=Pg;function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function Fp(){return Fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fp.apply(this,arguments)}function mhe(t,e){return bhe(t)||vhe(t,e)||yhe(t,e)||ghe()}function ghe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yhe(t,e){if(t){if(typeof t=="string")return SO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SO(t,e)}}function SO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bhe(t){if(Array.isArray(t))return t}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){_he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _he(t,e,n){return e=whe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=xhe(t,"string");return Yc(e)=="symbol"?e:e+""}function xhe(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PO=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);c="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Ehe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},She={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ox=function(e){var n=AO(AO({},She),e),r=M.useRef(),i=M.useState(-1),o=mhe(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&s(O)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var w=Ae("recharts-rectangle",p);return _?D.createElement(ol,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:_},function(O){var A=O.width,I=O.height,x=O.x,S=O.y;return D.createElement(ol,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:m},D.createElement("path",Fp({},Ee(n,!0),{className:w,d:PO(x,S,A,I,h),ref:r})))}):D.createElement("path",Fp({},Ee(n,!0),{className:w,d:PO(l,u,c,f,h)}))};function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(this,arguments)}var ax=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ae("recharts-dot",o);return n===+n&&r===+r&&i===+i?M.createElement("circle",qb({},Ee(e,!1),op(e),{className:a,cx:n,cy:r,r:i})):null};function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}var The=["x","y","top","left","width","height","className"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(this,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ahe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){Phe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Phe(t,e,n){return e=Ihe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ihe(t){var e=Ohe(t,"string");return Qc(e)=="symbol"?e:e+""}function Ohe(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function khe(t,e){if(t==null)return{};var n=Che(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Che(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Nhe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Rhe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,m=e.className,g=khe(e,The),v=Ahe({x:r,y:o,top:s,left:u,width:f,height:p},g);return!ee(r)||!ee(o)||!ee(f)||!ee(p)||!ee(s)||!ee(u)?null:D.createElement("path",Hb({},Ee(v,!0),{className:Ae("recharts-cross",m),d:Nhe(r,o,f,p,s,u)}))},jhe=ZM,Mhe=jhe(Object.getPrototypeOf,Object),Dhe=Mhe,$he=Ni,Lhe=Dhe,Vhe=Ri,Fhe="[object Object]",Uhe=Function.prototype,Bhe=Object.prototype,F$=Uhe.toString,zhe=Bhe.hasOwnProperty,Whe=F$.call(Object);function qhe(t){if(!Vhe(t)||$he(t)!=Fhe)return!1;var e=Lhe(t);if(e===null)return!0;var n=zhe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&F$.call(n)==Whe}var Hhe=qhe;const Ghe=$e(Hhe);var Khe=Ni,Xhe=Ri,Yhe="[object Boolean]";function Qhe(t){return t===!0||t===!1||Xhe(t)&&Khe(t)==Yhe}var Jhe=Qhe;const Zhe=$e(Jhe);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Up.apply(this,arguments)}function epe(t,e){return ipe(t)||rpe(t,e)||npe(t,e)||tpe()}function tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function npe(t,e){if(t){if(typeof t=="string")return OO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OO(t,e)}}function OO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ipe(t){if(Array.isArray(t))return t}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){ope(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ope(t,e,n){return e=ape(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ape(t){var e=spe(t,"string");return Jc(e)=="symbol"?e:e+""}function spe(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NO=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},lpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},upe=function(e){var n=CO(CO({},lpe),e),r=M.useRef(),i=M.useState(-1),o=epe(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var _=Ae("recharts-trapezoid",p);return b?D.createElement(ol,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:m,isActive:b},function(w){var O=w.upperWidth,A=w.lowerWidth,I=w.height,x=w.x,S=w.y;return D.createElement(ol,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},D.createElement("path",Up({},Ee(n,!0),{className:_,d:NO(x,S,O,A,I),ref:r})))}):D.createElement("g",null,D.createElement("path",Up({},Ee(n,!0),{className:_,d:NO(l,u,c,f,h)})))},cpe=["option","shapeType","propTransformer","activeClassName","isActive"];function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function fpe(t,e){if(t==null)return{};var n=dpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){hpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hpe(t,e,n){return e=ppe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ppe(t){var e=mpe(t,"string");return Zc(e)=="symbol"?e:e+""}function mpe(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gpe(t,e){return Bp(Bp({},e),t)}function ype(t,e){return t==="symbols"}function jO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(ox,n);case"trapezoid":return D.createElement(upe,n);case"sector":return D.createElement(O$,n);case"symbols":if(ype(e))return D.createElement(S1,n);break;default:return null}}function vpe(t){return M.isValidElement(t)?t.props:t}function bpe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?gpe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=fpe(t,cpe),u;if(M.isValidElement(e))u=M.cloneElement(e,Bp(Bp({},l),vpe(e)));else if(ge(e))u=e(l);else if(Ghe(e)&&!Zhe(e)){var c=i(e,l);u=D.createElement(jO,{shapeType:n,elementProps:c})}else{var f=l;u=D.createElement(jO,{shapeType:n,elementProps:f})}return s?D.createElement(ut,{className:a},u):u}function Ig(t,e){return e!=null&&"trapezoids"in t.props}function Og(t,e){return e!=null&&"sectors"in t.props}function ef(t,e){return e!=null&&"points"in t.props}function _pe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function wpe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function xpe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Epe(t,e){var n;return Ig(t,e)?n=_pe:Og(t,e)?n=wpe:ef(t,e)&&(n=xpe),n}function Spe(t,e){var n;return Ig(t,e)?n="trapezoids":Og(t,e)?n="sectors":ef(t,e)&&(n="points"),n}function Tpe(t,e){if(Ig(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Og(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ef(t,e)?e.payload:{}}function Ape(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Spe(n,e),o=Tpe(n,e),a=r.filter(function(l,u){var c=Sg(o,l),f=n.props[i].filter(function(m){var g=Epe(n,e);return g(m,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var Ppe=Math.ceil,Ipe=Math.max;function Ope(t,e,n,r){for(var i=-1,o=Ipe(Ppe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var kpe=Ope,Cpe=vD,MO=1/0,Npe=17976931348623157e292;function Rpe(t){if(!t)return t===0?t:0;if(t=Cpe(t),t===MO||t===-MO){var e=t<0?-1:1;return e*Npe}return t===t?t:0}var U$=Rpe,jpe=kpe,Mpe=mg,pv=U$;function Dpe(t){return function(e,n,r){return r&&typeof r!="number"&&Mpe(e,n,r)&&(n=r=void 0),e=pv(e),n===void 0?(n=e,e=0):n=pv(n),r=r===void 0?e<n?1:-1:pv(r),jpe(e,n,r,t)}}var $pe=Dpe,Lpe=$pe,Vpe=Lpe(),Fpe=Vpe;const zp=$e(Fpe);function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){B$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B$(t,e,n){return e=Upe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Upe(t){var e=Bpe(t,"string");return tf(e)=="symbol"?e:e+""}function Bpe(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zpe=["Webkit","Moz","O","ms"],Wpe=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=zpe.reduce(function(o,a){return $O($O({},o),{},B$({},a+r,n))},{});return i[e]=n,i};function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W$(r.key),r)}}function Hpe(t,e,n){return e&&VO(t.prototype,e),n&&VO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gpe(t,e,n){return e=qp(e),Kpe(t,z$()?Reflect.construct(e,n||[],qp(t).constructor):e.apply(t,n))}function Kpe(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xpe(t)}function Xpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z$=function(){return!!t})()}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qp(t)}function Ype(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gb(t,e)}function Gb(t,e){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gb(t,e)}function Tn(t,e,n){return e=W$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W$(t){var e=Qpe(t,"string");return al(e)=="symbol"?e:e+""}function Qpe(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jpe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Xu().domain(zp(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},FO=function(e){return e.changedTouches&&!!e.changedTouches.length},sl=function(t){function e(n){var r;return qpe(this,e),r=Gpe(this,e,[n]),Tn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Tn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Tn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Tn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Tn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Tn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Tn(r,"handleSlideDragStart",function(i){var o=FO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Ype(e,t),Hpe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(a,f),m=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Dn(o[r],s,r);return ge(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+c-f-s,u+c-f-a):g<0&&(g=Math.max(g,u-a,u-s));var v=this.getIndex({startX:a+g,endX:s+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=FO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,h=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,v=c.data,b={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+h-p-u):_<0&&(_=Math.max(_,f-u)),b[a]=u+_;var w=this.getIndex(b),O=w.startIndex,A=w.endIndex,I=function(){var S=v.length-1;return a==="startX"&&(s>l?O%g===0:A%g===0)||s<l&&A===S||a==="endX"&&(s>l?A%g===0:O%g===0)||s>l&&A===S};this.setState(Tn(Tn({},a,u+_),"brushMoveStartX",r.pageX),function(){m&&I()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Tn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=M.Children.only(u);return f?D.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,b=Math.max(r,this.props.x),_=mv(mv({},Ee(this.props,!1)),{},{x:b,y:u,width:c,height:f}),w=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[v])===null||a===void 0?void 0:a.name);return D.createElement(ut,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),s.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,p=5,m={pointerEvents:"none",fill:u};return D.createElement(ut,{className:"recharts-brush-texts"},D.createElement(_p,Wp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+s/2},m),this.getTextOfTick(i)),D.createElement(_p,Wp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!ee(s)||!ee(l)||!ee(u)||!ee(c)||u<=0||c<=0)return null;var w=Ae("recharts-brush",o),O=D.Children.count(a)===1,A=Wpe("userSelect","none");return D.createElement(ut,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||b||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):ge(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return mv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Jpe({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(M.PureComponent);Tn(sl,"displayName","Brush");Tn(sl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Zpe=C1;function eme(t,e){var n;return Zpe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var tme=eme,nme=qM,rme=Mo,ime=tme,ome=xn,ame=mg;function sme(t,e,n){var r=ome(t)?nme:ime;return n&&ame(t,e,n)&&(e=void 0),r(t,rme(e))}var lme=sme;const ume=$e(lme);var Hr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},UO=hD;function cme(t,e,n){e=="__proto__"&&UO?UO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var fme=cme,dme=fme,hme=fD,pme=Mo;function mme(t,e){var n={};return e=pme(e),hme(t,function(r,i,o){dme(n,i,e(r,i,o))}),n}var gme=mme;const yme=$e(gme);function vme(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var bme=vme,_me=C1;function wme(t,e){var n=!0;return _me(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var xme=wme,Eme=bme,Sme=xme,Tme=Mo,Ame=xn,Pme=mg;function Ime(t,e,n){var r=Ame(t)?Eme:Sme;return n&&Pme(t,e,n)&&(e=void 0),r(t,Tme(e))}var Ome=Ime;const q$=$e(Ome);var kme=["x","y"];function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kb.apply(this,arguments)}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){Cme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cme(t,e,n){return e=Nme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nme(t){var e=Rme(t,"string");return nf(e)=="symbol"?e:e+""}function Rme(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jme(t,e){if(t==null)return{};var n=Mme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dme(t,e){var n=t.x,r=t.y,i=jme(t,kme),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return bu(bu(bu(bu(bu({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function zO(t){return D.createElement(bpe,Kb({shapeType:"rectangle",propTransformer:Dme,activeClassName:"recharts-active-bar"},t))}var $me=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ee(r)||rX(r);return o?e(r,i):(o||Ta(!1),n)}},Lme=["value","background"],H$;function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function Vme(t,e){if(t==null)return{};var n=Fme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hp.apply(this,arguments)}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){eo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K$(r.key),r)}}function Bme(t,e,n){return e&&qO(t.prototype,e),n&&qO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zme(t,e,n){return e=Gp(e),Wme(t,G$()?Reflect.construct(e,n||[],Gp(t).constructor):e.apply(t,n))}function Wme(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qme(t)}function qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gp(t)}function Hme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xb(t,e)}function Xb(t,e){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xb(t,e)}function eo(t,e,n){return e=K$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K$(t){var e=Gme(t,"string");return ll(e)=="symbol"?e:e+""}function Gme(t,e){if(ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $f=function(t){function e(){var n;Ume(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=zme(this,e,[].concat(i)),eo(n,"state",{isAnimationFinished:!1}),eo(n,"id",kf("recharts-bar-")),eo(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),eo(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Hme(e,t),Bme(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Ee(this.props,!1);return r&&r.map(function(f,h){var p=h===l,m=p?u:a,g=dt(dt(dt({},c),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(ut,Hp({className:"recharts-bar-rectangle"},ap(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(zO,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return D.createElement(ol,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(v,b){var _=h&&h[b];if(_){var w=gr(_.x,v.x),O=gr(_.y,v.y),A=gr(_.width,v.width),I=gr(_.height,v.height);return dt(dt({},v),{},{x:w(m),y:O(m),width:A(m),height:I(m)})}if(a==="horizontal"){var x=gr(0,v.height),S=x(m);return dt(dt({},v),{},{y:v.y+v.height-S,height:S})}var T=gr(0,v.width),N=T(m);return dt(dt({},v),{},{width:N})});return D.createElement(ut,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Sg(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Ee(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=Vme(u,Lme);if(!f)return null;var p=dt(dt(dt(dt(dt({},h),{},{fill:"#eee"},f),l),ap(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return D.createElement(zO,Hp({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Qn(c,Df);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(v,b){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Dn(v,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(ut,m,f.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=Ae("recharts-bar",a),_=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,O=_||w,A=ve(g)?this.id:g;return D.createElement(ut,{className:b},_||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(A)},D.createElement("rect",{x:_?u:u-f/2,y:w?c:c-h/2,width:_?f:f*2,height:w?h:h*2}))):null,D.createElement(ut,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(A,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,A),(!p||v)&&go.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(M.PureComponent);H$=$f;eo($f,"displayName","Bar");eo($f,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});eo($f,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Sce(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,v=g!==void 0?dt(dt({},g),n.props):n.props,b=v.dataKey,_=v.children,w=v.minPointSize,O=m==="horizontal"?a:o,A=u?O.scale.domain():null,I=Nce({numericAxis:O}),x=Qn(_,_D),S=f.map(function(T,N){var C,R,k,U,F,z;u?C=Tce(u[c+N],A):(C=Dn(T,b),Array.isArray(C)||(C=[I,C]));var W=$me(w,H$.defaultProps.minPointSize)(C[1],N);if(m==="horizontal"){var L,B=[a.scale(C[0]),a.scale(C[1])],H=B[0],J=B[1];R=zI({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:T,index:N}),k=(L=J??H)!==null&&L!==void 0?L:void 0,U=p.size;var X=H-J;if(F=Number.isNaN(X)?0:X,z={x:R,y:a.y,width:U,height:a.height},Math.abs(W)>0&&Math.abs(F)<Math.abs(W)){var te=_r(F||W)*(Math.abs(W)-Math.abs(F));k-=te,F+=te}}else{var me=[o.scale(C[0]),o.scale(C[1])],Pe=me[0],Ke=me[1];if(R=Pe,k=zI({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:T,index:N}),U=Ke-Pe,F=p.size,z={x:o.x,y:k,width:o.width,height:F},Math.abs(W)>0&&Math.abs(U)<Math.abs(W)){var Tt=_r(U||W)*(Math.abs(W)-Math.abs(U));U+=Tt}}return dt(dt(dt({},T),{},{x:R,y:k,width:U,height:F,value:u?C:C[1],payload:T,background:z},x&&x[N]&&x[N].props),{},{tooltipPayload:[A$(n,T)],tooltipPosition:{x:R+U/2,y:k+F/2}})});return dt({data:S,layout:m},h)});function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function Kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X$(r.key),r)}}function Xme(t,e,n){return e&&HO(t.prototype,e),n&&HO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){kg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kg(t,e,n){return e=X$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X$(t){var e=Yme(t,"string");return rf(e)=="symbol"?e:e+""}function Yme(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qme=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Pn(u,$f);return c.reduce(function(p,m){var g=n[m],v=g.orientation,b=g.domain,_=g.padding,w=_===void 0?{}:_,O=g.mirror,A=g.reversed,I="".concat(v).concat(O?"Mirror":""),x,S,T,N,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=b[1]-b[0],k=1/0,U=g.categoricalDomain.sort(aX);if(U.forEach(function(me,Pe){Pe>0&&(k=Math.min((me||0)-(U[Pe-1]||0),k))}),Number.isFinite(k)){var F=k/R,z=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(x=F*z/2),g.padding==="no-gap"){var W=Ea(e.barCategoryGap,F*z),L=F*z/2;x=L-W-(L-W)/z*W}}}i==="xAxis"?S=[r.left+(w.left||0)+(x||0),r.left+r.width-(w.right||0)-(x||0)]:i==="yAxis"?S=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(x||0),r.top+r.height-(w.bottom||0)-(x||0)]:S=g.range,A&&(S=[S[1],S[0]]);var B=xce(g,o,h),H=B.scale,J=B.realScaleType;H.domain(b).range(S),Ece(H);var X=Cce(H,hr(hr({},g),{},{realScaleType:J}));i==="xAxis"?(C=v==="top"&&!O||v==="bottom"&&O,T=r.left,N=f[I]-C*g.height):i==="yAxis"&&(C=v==="left"&&!O||v==="right"&&O,T=f[I]-C*g.width,N=r.top);var te=hr(hr(hr({},g),X),{},{realScaleType:J,x:T,y:N,scale:H,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return te.bandSize=jp(te,X),!g.hide&&i==="xAxis"?f[I]+=(C?-1:1)*te.height:g.hide||(f[I]+=(C?-1:1)*te.width),hr(hr({},p),{},kg({},m,te))},{})},Y$=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Jme=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Y$({x:n,y:r},{x:i,y:o})},Q$=function(){function t(e){Kme(this,t),this.scale=e}return Xme(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();kg(Q$,"EPS",1e-4);var sx=function(e){var n=Object.keys(e).reduce(function(r,i){return hr(hr({},r),{},kg({},i,Q$.create(e[i])))},{});return hr(hr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return yme(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return q$(i,function(o,a){return n[a].isInRange(o)})}})};function Zme(t){return(t%180+180)%180}var ege=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Zme(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},tge=Mo,nge=Cf,rge=hg;function ige(t){return function(e,n,r){var i=Object(e);if(!nge(e)){var o=tge(n);e=rge(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var oge=ige,age=U$;function sge(t){var e=age(t),n=e%1;return e===e?n?e-n:e:0}var lge=sge,uge=oD,cge=Mo,fge=lge,dge=Math.max;function hge(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:fge(n);return i<0&&(i=dge(r+i,0)),uge(t,cge(e),i)}var pge=hge,mge=oge,gge=pge,yge=mge(gge),vge=yge;const bge=$e(vge);var _ge=sK(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),lx=M.createContext(void 0),ux=M.createContext(void 0),J$=M.createContext(void 0),Z$=M.createContext({}),eL=M.createContext(void 0),tL=M.createContext(0),nL=M.createContext(0),KO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=_ge(o);return D.createElement(lx.Provider,{value:r},D.createElement(ux.Provider,{value:i},D.createElement(Z$.Provider,{value:o},D.createElement(J$.Provider,{value:c},D.createElement(eL.Provider,{value:a},D.createElement(tL.Provider,{value:u},D.createElement(nL.Provider,{value:l},s)))))))},wge=function(){return M.useContext(eL)},rL=function(e){var n=M.useContext(lx);n==null&&Ta(!1);var r=n[e];return r==null&&Ta(!1),r},xge=function(){var e=M.useContext(lx);return Xi(e)},Ege=function(){var e=M.useContext(ux),n=bge(e,function(r){return q$(r.domain,Number.isFinite)});return n||Xi(e)},iL=function(e){var n=M.useContext(ux);n==null&&Ta(!1);var r=n[e];return r==null&&Ta(!1),r},Sge=function(){var e=M.useContext(J$);return e},Tge=function(){return M.useContext(Z$)},cx=function(){return M.useContext(nL)},fx=function(){return M.useContext(tL)};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function Age(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aL(r.key),r)}}function Pge(t,e,n){return e&&XO(t.prototype,e),n&&XO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ige(t,e,n){return e=Kp(e),Oge(t,oL()?Reflect.construct(e,n||[],Kp(t).constructor):e.apply(t,n))}function Oge(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kge(t)}function kge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oL=function(){return!!t})()}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kp(t)}function Cge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yb(t,e)}function Yb(t,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yb(t,e)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){dx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dx(t,e,n){return e=aL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aL(t){var e=Nge(t,"string");return ul(e)=="symbol"?e:e+""}function Nge(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rge(t,e){return $ge(t)||Dge(t,e)||Mge(t,e)||jge()}function jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mge(t,e){if(t){if(typeof t=="string")return JO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JO(t,e)}}function JO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function $ge(t){if(Array.isArray(t))return t}function Qb(){return Qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qb.apply(this,arguments)}var Lge=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):ge(e)?r=e(n):r=D.createElement("line",Qb({},n,{className:"recharts-reference-line-line"})),r},Vge=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,h=o.width,p=o.height;if(r){var m=u.y,g=e.y.apply(m,{position:a});if(Hr(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:c+h,y:g},{x:c,y:g}];return l==="left"?v.reverse():v}if(n){var b=u.x,_=e.x.apply(b,{position:a});if(Hr(u,"discard")&&!e.x.isInRange(_))return null;var w=[{x:_,y:f+p},{x:_,y:f}];return s==="top"?w.reverse():w}if(i){var O=u.segment,A=O.map(function(I){return e.apply(I,{position:a})});return Hr(u,"discard")&&ume(A,function(I){return!e.isInRange(I)})?null:A}return null};function Fge(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=wge(),c=rL(i),f=iL(o),h=Sge();if(!u||!h)return null;gi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=sx({x:c.scale,y:f.scale}),m=xt(e),g=xt(n),v=r&&r.length===2,b=Vge(p,m,g,v,h,t.position,c.orientation,f.orientation,t);if(!b)return null;var _=Rge(b,2),w=_[0],O=w.x,A=w.y,I=_[1],x=I.x,S=I.y,T=Hr(t,"hidden")?"url(#".concat(u,")"):void 0,N=QO(QO({clipPath:T},Ee(t,!0)),{},{x1:O,y1:A,x2:x,y2:S});return D.createElement(ut,{className:Ae("recharts-reference-line",s)},Lge(a,N),Zt.renderCallByParent(t,Jme({x1:O,y1:A,x2:x,y2:S})))}var hx=function(t){function e(){return Age(this,e),Ige(this,e,arguments)}return Cge(e,t),Pge(e,[{key:"render",value:function(){return D.createElement(Fge,this.props)}}])}(D.Component);dx(hx,"displayName","ReferenceLine");dx(hx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jb.apply(this,arguments)}function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){Cg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lL(r.key),r)}}function Bge(t,e,n){return e&&tk(t.prototype,e),n&&tk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zge(t,e,n){return e=Xp(e),Wge(t,sL()?Reflect.construct(e,n||[],Xp(t).constructor):e.apply(t,n))}function Wge(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qge(t)}function qge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sL=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(t)}function Hge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zb(t,e)}function Zb(t,e){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zb(t,e)}function Cg(t,e,n){return e=lL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lL(t){var e=Gge(t,"string");return cl(e)=="symbol"?e:e+""}function Gge(t,e){if(cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kge=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=sx({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Hr(e,"discard")&&!a.isInRange(s)?null:s},Ng=function(t){function e(){return Uge(this,e),zge(this,e,arguments)}return Hge(e,t),Bge(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=xt(i),c=xt(o);if(gi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Kge(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,b=Hr(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=ek(ek({clipPath:b},Ee(this.props,!0)),{},{cx:h,cy:p});return D.createElement(ut,{className:Ae("recharts-reference-dot",v)},e.renderDot(g,_),Zt.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(D.Component);Cg(Ng,"displayName","ReferenceDot");Cg(Ng,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Cg(Ng,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):ge(t)?n=t(e):n=D.createElement(ax,Jb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(this,arguments)}function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){Rg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ik(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cL(r.key),r)}}function Yge(t,e,n){return e&&ik(t.prototype,e),n&&ik(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qge(t,e,n){return e=Yp(e),Jge(t,uL()?Reflect.construct(e,n||[],Yp(t).constructor):e.apply(t,n))}function Jge(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zge(t)}function Zge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uL=function(){return!!t})()}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yp(t)}function eye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t_(t,e)}function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t_(t,e)}function Rg(t,e,n){return e=cL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cL(t){var e=tye(t,"string");return fl(e)=="symbol"?e:e+""}function tye(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nye=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=sx({x:c.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Hr(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:Y$(p,m)},jg=function(t){function e(){return Xge(this,e),Qge(this,e,arguments)}return eye(e,t),Yge(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;gi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xt(i),h=xt(o),p=xt(a),m=xt(s),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=nye(f,h,p,m,this.props);if(!v&&!g)return null;var b=Hr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return D.createElement(ut,{className:Ae("recharts-reference-area",l)},e.renderRect(g,rk(rk({clipPath:b},Ee(this.props,!0)),v)),Zt.renderCallByParent(this.props,v))}}])}(D.Component);Rg(jg,"displayName","ReferenceArea");Rg(jg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Rg(jg,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):ge(t)?n=t(e):n=D.createElement(ox,e_({},e,{className:"recharts-reference-area-rect"})),n});function fL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function rye(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ege(r,n)}function iye(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Qp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function oye(t,e){return fL(t,e+1)}function aye(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:fL(r,u)};var g=l,v,b=function(){return v===void 0&&(v=n(m,g)),v},_=m.coordinate,w=l===0||Qp(t,_,b,c,s);w||(l=0,c=a,u+=1),w&&(c=_+t*(b()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){sye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sye(t,e,n){return e=lye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lye(t){var e=uye(t,"string");return of(e)=="symbol"?e:e+""}function uye(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cye(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var p=o[h],m,g=function(){return m===void 0&&(m=n(p,h)),m};if(h===a-1){var v=t*(p.coordinate+t*g()/2-l);o[h]=p=Xt(Xt({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[h]=p=Xt(Xt({},p),{},{tickCoord:p.coordinate});var b=Qp(t,p.tickCoord,g,s,l);b&&(l=p.tickCoord-t*(g()/2+i),o[h]=Xt(Xt({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function fye(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);a[s-1]=c=Xt(Xt({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=Qp(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),a[s-1]=Xt(Xt({},c),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(_){var w=a[_],O,A=function(){return O===void 0&&(O=n(w,_)),O};if(_===0){var I=t*(w.coordinate-t*A()/2-l);a[_]=w=Xt(Xt({},w),{},{tickCoord:I<0?w.coordinate-I*t:w.coordinate})}else a[_]=w=Xt(Xt({},w),{},{tickCoord:w.coordinate});var x=Qp(t,w.tickCoord,A,l,u);x&&(l=w.tickCoord+t*(A()/2+i),a[_]=Xt(Xt({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return a}function px(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ee(l)||yi.isSsr)return oye(i,typeof l=="number"&&ee(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=c&&p==="width"?Ku(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(w,O){var A=ge(u)?u(w.value,O):w.value;return p==="width"?rye(Ku(A,{fontSize:e,letterSpacing:n}),m,f):Ku(A,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?_r(i[1].coordinate-i[0].coordinate):1,b=iye(o,v,p);return l==="equidistantPreserveStart"?aye(v,b,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=fye(v,b,g,i,a,l==="preserveStartEnd"):h=cye(v,b,g,i,a),h.filter(function(_){return _.isShow}))}var dye=["viewBox"],hye=["viewBox"],pye=["ticks"];function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){mx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gv(t,e){if(t==null)return{};var n=mye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hL(r.key),r)}}function yye(t,e,n){return e&&sk(t.prototype,e),n&&sk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vye(t,e,n){return e=Jp(e),bye(t,dL()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function bye(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ye(t)}function _ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dL=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function wye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n_(t,e)}function mx(t,e,n){return e=hL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hL(t){var e=xye(t,"string");return dl(e)=="symbol"?e:e+""}function xye(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fl=function(t){function e(n){var r;return gye(this,e),r=vye(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return wye(e,t),yye(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=gv(r,dye),s=this.props,l=s.viewBox,u=gv(s,hye);return!ks(o,l)||!ks(a,u)||!ks(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,b,_,w=f?-1:1,O=r.tickSize||c,A=ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,v=a+ +!f*l,g=v-w*O,_=g-w*h,b=A;break;case"left":g=v=r.coordinate,m=o+ +!f*s,p=m-w*O,b=p-w*h,_=A;break;case"right":g=v=r.coordinate,m=o+ +f*s,p=m+w*O,b=p+w*h,_=A;break;default:p=m=r.coordinate,v=a+ +f*l,g=v+w*O,_=g+w*h,b=A;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:b,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=vt(vt(vt({},Ee(this.props,!1)),Ee(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=vt(vt({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=vt(vt({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return D.createElement("line",ys({},f,{className:Ae("recharts-cartesian-axis-line",Yn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,p=px(vt(vt({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Ee(this.props,!1),b=Ee(c,!1),_=vt(vt({},v),{},{fill:"none"},Ee(l,!1)),w=p.map(function(O,A){var I=a.getTickLineCoord(O),x=I.line,S=I.tick,T=vt(vt(vt(vt({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},b),S),{},{index:A,payload:O,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(ut,ys({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},ap(a.props,O,A)),l&&D.createElement("line",ys({},_,x,{className:Ae("recharts-cartesian-axis-tick-line",Yn(l,"className"))})),c&&e.renderTickItem(c,T,"".concat(ge(f)?f(O.value,A):O.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=gv(f,pye),m=h;return ge(l)&&(m=h&&h.length>0?l(this.props):l(p)),a<=0||s<=0||!m||!m.length?null:D.createElement(ut,{className:Ae("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Zt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Ae(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(r)?a=D.cloneElement(r,vt(vt({},i),{},{className:s})):ge(r)?a=r(vt(vt({},i),{},{className:s})):a=D.createElement(_p,ys({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(M.Component);mx(Fl,"displayName","CartesianAxis");mx(Fl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Eye=["x1","y1","x2","y2","key"],Sye=["offset"];function Aa(t){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){Tye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tye(t,e,n){return e=Aye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aye(t){var e=Pye(t,"string");return Aa(e)=="symbol"?e:e+""}function Pye(t,e){if(Aa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oa(){return oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oa.apply(this,arguments)}function uk(t,e){if(t==null)return{};var n=Iye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Iye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Oye=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function pL(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(ge(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=uk(e,Eye),u=Ee(l,!1);u.offset;var c=uk(u,Sye);n=D.createElement("line",oa({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function kye(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=en(en({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return pL(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Cye(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=en(en({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return pL(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Nye(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var m=!c[p+1],g=m?i+a-h:c[p+1]-h;if(g<=0)return null;var v=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:g,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Rye(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var m=!c[p+1],g=m?o+s-h:c[p+1]-h;if(g<=0)return null;var v=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var jye=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return S$(px(en(en(en({},Fl.defaultProps),r),{},{ticks:fi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Mye=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return S$(px(en(en(en({},Fl.defaultProps),r),{},{ticks:fi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Qa={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mL(t){var e,n,r,i,o,a,s=cx(),l=fx(),u=Tge(),c=en(en({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Qa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Qa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Qa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Qa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Qa.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Qa.verticalFill,x:ee(t.x)?t.x:u.left,y:ee(t.y)?t.y:u.top,width:ee(t.width)?t.width:u.width,height:ee(t.height)?t.height:u.height}),f=c.x,h=c.y,p=c.width,m=c.height,g=c.syncWithTicks,v=c.horizontalValues,b=c.verticalValues,_=xge(),w=Ege();if(!ee(p)||p<=0||!ee(m)||m<=0||!ee(f)||f!==+f||!ee(h)||h!==+h)return null;var O=c.verticalCoordinatesGenerator||jye,A=c.horizontalCoordinatesGenerator||Mye,I=c.horizontalPoints,x=c.verticalPoints;if((!I||!I.length)&&ge(A)){var S=v&&v.length,T=A({yAxis:w?en(en({},w),{},{ticks:S?v:w.ticks}):void 0,width:s,height:l,offset:u},S?!0:g);gi(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Aa(T),"]")),Array.isArray(T)&&(I=T)}if((!x||!x.length)&&ge(O)){var N=b&&b.length,C=O({xAxis:_?en(en({},_),{},{ticks:N?b:_.ticks}):void 0,width:s,height:l,offset:u},N?!0:g);gi(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Aa(C),"]")),Array.isArray(C)&&(x=C)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(Oye,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),D.createElement(kye,oa({},c,{offset:u,horizontalPoints:I,xAxis:_,yAxis:w})),D.createElement(Cye,oa({},c,{offset:u,verticalPoints:x,xAxis:_,yAxis:w})),D.createElement(Nye,oa({},c,{horizontalPoints:I})),D.createElement(Rye,oa({},c,{verticalPoints:x})))}mL.displayName="CartesianGrid";var Dye=["type","layout","connectNulls","ref"],$ye=["key"];function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function ck(t,e){if(t==null)return{};var n=Lye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){pr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ja(t){return Bye(t)||Uye(t)||Fye(t)||Vye()}function Vye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fye(t,e){if(t){if(typeof t=="string")return r_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r_(t,e)}}function Uye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bye(t){if(Array.isArray(t))return r_(t)}function r_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yL(r.key),r)}}function Wye(t,e,n){return e&&dk(t.prototype,e),n&&dk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qye(t,e,n){return e=Zp(e),Hye(t,gL()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function Hye(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gye(t)}function Gye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gL=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function Kye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i_(t,e)}function pr(t,e,n){return e=yL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yL(t){var e=Xye(t,"string");return hl(e)=="symbol"?e:e+""}function Xye(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lf=function(t){function e(){var n;zye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=qye(this,e,[].concat(i)),pr(n,"state",{isAnimationFinished:!0,totalLength:0}),pr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),pr(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(b,_){return b+_});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),f=a%u,h=s-a,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(Ja(l.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Ja(e.repeat(l,c)),Ja(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),pr(n,"id",kf("recharts-line-")),pr(n,"pathRef",function(a){n.mainCurve=a}),pr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),pr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Kye(e,t),Wye(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Qn(c,Df);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Dn(g.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(ut,p,f.map(function(m){return D.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=Ee(this.props,!1),h=Ee(l,!0),p=u.map(function(g,v){var b=Sn(Sn(Sn({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return e.renderDotItem(l,b)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(ut,Ju({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=ck(s,Dye),h=Sn(Sn(Sn({},Ee(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return D.createElement(Mb,Ju({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,m=a.animateNewValues,g=a.width,v=a.height,b=this.state,_=b.prevPoints,w=b.totalLength;return D.createElement(ol,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var A=O.t;if(_){var I=_.length/s.length,x=s.map(function(R,k){var U=Math.floor(k*I);if(_[U]){var F=_[U],z=gr(F.x,R.x),W=gr(F.y,R.y);return Sn(Sn({},R),{},{x:z(A),y:W(A)})}if(m){var L=gr(g*2,R.x),B=gr(v/2,R.y);return Sn(Sn({},R),{},{x:L(A),y:B(A)})}return Sn(Sn({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(x,r,i)}var S=gr(0,w),T=S(A),N;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});N=o.getStrokeDasharray(T,w,C)}else N=o.generateSimpleStrokeDasharray(w,T);return o.renderCurveStatically(s,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Sg(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(o||!s||!s.length)return null;var b=this.state.isAnimationFinished,_=s.length===1,w=Ae("recharts-line",l),O=u&&u.allowDataOverflow,A=c&&c.allowDataOverflow,I=O||A,x=ve(v)?this.id:v,S=(r=Ee(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=S.r,N=T===void 0?3:T,C=S.strokeWidth,R=C===void 0?2:C,k=mX(a)?a:{},U=k.clipDot,F=U===void 0?!0:U,z=N*2+R;return D.createElement(ut,{className:w},O||A?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(x)},D.createElement("rect",{x:O?h:h-p/2,y:A?f:f-m/2,width:O?p:p*2,height:A?m:m*2})),!F&&D.createElement("clipPath",{id:"clipPath-dots-".concat(x)},D.createElement("rect",{x:h-z/2,y:f-z/2,width:p+z,height:m+z}))):null,!_&&this.renderCurve(I,x),this.renderErrorBar(I,x),(_||a)&&this.renderDots(I,F,x),(!g||b)&&go.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Ja(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Ja(a),Ja(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(D.isValidElement(r))o=D.cloneElement(r,i);else if(ge(r))o=r(i);else{var a=i.key,s=ck(i,$ye),l=Ae("recharts-line-dot",typeof r!="boolean"?r.className:"");o=D.createElement(ax,Ju({key:a},s,{className:l}))}return o}}])}(M.PureComponent);pr(Lf,"displayName","Line");pr(Lf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!yi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});pr(Lf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,p){var m=Dn(h,a);return c==="horizontal"?{x:BI({axis:n,ticks:i,bandSize:s,entry:h,index:p}),y:ve(m)?null:r.scale(m),value:m,payload:h}:{x:ve(m)?null:n.scale(m),y:BI({axis:r,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return Sn({points:f,layout:c},u)});function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function Yye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_L(r.key),r)}}function Qye(t,e,n){return e&&hk(t.prototype,e),n&&hk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jye(t,e,n){return e=em(e),Zye(t,vL()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function Zye(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eve(t)}function eve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vL=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function tve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o_(t,e)}function o_(t,e){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o_(t,e)}function bL(t,e,n){return e=_L(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _L(t){var e=nve(t,"string");return pl(e)=="symbol"?e:e+""}function nve(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a_.apply(this,arguments)}function rve(t){var e=t.xAxisId,n=cx(),r=fx(),i=rL(e);return i==null?null:M.createElement(Fl,a_({},i,{className:Ae("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return fi(a,!0)}}))}var Mg=function(t){function e(){return Yye(this,e),Jye(this,e,arguments)}return tve(e,t),Qye(e,[{key:"render",value:function(){return M.createElement(rve,this.props)}}])}(M.Component);bL(Mg,"displayName","XAxis");bL(Mg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function ive(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EL(r.key),r)}}function ove(t,e,n){return e&&pk(t.prototype,e),n&&pk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ave(t,e,n){return e=tm(e),sve(t,wL()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function sve(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lve(t)}function lve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wL=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function uve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s_(t,e)}function xL(t,e,n){return e=EL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EL(t){var e=cve(t,"string");return ml(e)=="symbol"?e:e+""}function cve(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(this,arguments)}var fve=function(e){var n=e.yAxisId,r=cx(),i=fx(),o=iL(n);return o==null?null:M.createElement(Fl,l_({},o,{className:Ae("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return fi(s,!0)}}))},Dg=function(t){function e(){return ive(this,e),ave(this,e,arguments)}return uve(e,t),ove(e,[{key:"render",value:function(){return M.createElement(fve,this.props)}}])}(M.Component);xL(Dg,"displayName","YAxis");xL(Dg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function mk(t){return mve(t)||pve(t)||hve(t)||dve()}function dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hve(t,e){if(t){if(typeof t=="string")return u_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u_(t,e)}}function pve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mve(t){if(Array.isArray(t))return u_(t)}function u_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c_=function(e,n,r,i,o){var a=Qn(e,hx),s=Qn(e,Ng),l=[].concat(mk(a),mk(s)),u=Qn(e,jg),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,v){if(v.props[c]===r&&Hr(v.props,"extendDomain")&&ee(v.props[f])){var b=v.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[c]===r&&Hr(v.props,"extendDomain")&&ee(v.props[p])&&ee(v.props[m])){var b=v.props[p],_=v.props[m];return[Math.min(g[0],b,_),Math.max(g[1],b,_)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,v){return ee(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},SL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,_,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,h),!0;case 5:return v.fn.call(v.context,c,f,h,p),!0;case 6:return v.fn.call(v.context,c,f,h,p,m),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];v.fn.apply(v.context,_)}else{var O=v.length,A;for(w=0;w<O;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,c);break;case 3:v[w].fn.call(v[w].context,c,f);break;case 4:v[w].fn.call(v[w].context,c,f,h);break;default:if(!_)for(A=1,_=new Array(b-1);A<b;A++)_[A-1]=arguments[A];v[w].fn.apply(v[w].context,_)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!h||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var g=0,v=[],b=m.length;g<b;g++)(m[g].fn!==c||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(SL);var gve=SL.exports;const yve=$e(gve);var yv=new yve,vv="recharts.syncMouseEvents";function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function vve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TL(r.key),r)}}function bve(t,e,n){return e&&gk(t.prototype,e),n&&gk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bv(t,e,n){return e=TL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TL(t){var e=_ve(t,"string");return af(e)=="symbol"?e:e+""}function _ve(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wve=function(){function t(){vve(this,t),bv(this,"activeIndex",0),bv(this,"coordinateList",[]),bv(this,"layout","horizontal")}return bve(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function xve(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ee(r)&&ee(i))return!0}return!1}function Eve(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function AL(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Lt(e,n,r,i),s=Lt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Sve(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Lt(s,l,u,f),p=Lt(s,l,c,f);r=h.x,i=h.y,o=p.x,a=p.y}else return AL(e);return[{x:r,y:i},{x:o,y:a}]}function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Tve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tve(t,e,n){return e=Ave(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ave(t){var e=Pve(t,"string");return sf(e)=="symbol"?e:e+""}function Pve(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ive(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var m,g=Mb;if(h==="ScatterChart")m=a,g=Rhe;else if(h==="BarChart")m=Eve(f,a,l,c),g=ox;else if(f==="radial"){var v=AL(a),b=v.cx,_=v.cy,w=v.radius,O=v.startAngle,A=v.endAngle;m={cx:b,cy:_,startAngle:O,endAngle:A,innerRadius:w,outerRadius:w},g=O$}else m={points:Sve(f,a,l)},g=Mb;var I=Ld(Ld(Ld(Ld({stroke:"#ccc",pointerEvents:"none"},l),m),Ee(p,!1)),{},{payload:s,payloadIndex:u,className:Ae("recharts-tooltip-cursor",p.className)});return M.isValidElement(p)?M.cloneElement(p,I):M.createElement(g,I)}var Ove=["item"],kve=["children","className","width","height","style","compact","title","desc"];function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}function vk(t,e){return Rve(t)||Nve(t,e)||IL(t,e)||Cve()}function Cve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Rve(t){if(Array.isArray(t))return t}function bk(t,e){if(t==null)return{};var n=jve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OL(r.key),r)}}function Dve(t,e,n){return e&&_k(t.prototype,e),n&&_k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ve(t,e,n){return e=nm(e),Lve(t,PL()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function Lve(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vve(t)}function Vve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PL=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function Fve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f_(t,e)}function f_(t,e){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f_(t,e)}function yl(t){return zve(t)||Bve(t)||IL(t)||Uve()}function Uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IL(t,e){if(t){if(typeof t=="string")return d_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d_(t,e)}}function Bve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zve(t){if(Array.isArray(t))return d_(t)}function d_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function le(t,e,n){return e=OL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OL(t){var e=Wve(t,"string");return gl(e)=="symbol"?e:e+""}function Wve(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qve={xAxis:["bottom","top"],yAxis:["left","right"]},Hve={width:"100%",height:"100%"},kL={x:0,y:0};function Vd(t){return t}var Gve=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Kve=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return q(q(q({},i),Lt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return q(q(q({},i),Lt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return kL},$g=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(yl(s),yl(u)):s},[]);return a.length>0?a:e&&e.length&&ee(i)&&ee(o)?e.slice(i,o+1):[]};function CL(t){return t==="number"?[0,"auto"]:void 0}var h_=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=$g(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;h=ip(p,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(yl(l),[A$(u,h)]):l},[])},xk=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Gve(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=gce(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=h_(e,n,c,f),p=Kve(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Xve=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=E$(c,o);return r.reduce(function(m,g){var v,b=g.type.defaultProps!==void 0?q(q({},g.type.defaultProps),g.props):g.props,_=b.type,w=b.dataKey,O=b.allowDataOverflow,A=b.allowDuplicatedCategory,I=b.scale,x=b.ticks,S=b.includeHidden,T=b[a];if(m[T])return m;var N=$g(e.data,{graphicalItems:i.filter(function(X){var te,me=a in X.props?X.props[a]:(te=X.type.defaultProps)===null||te===void 0?void 0:te[a];return me===T}),dataStartIndex:l,dataEndIndex:u}),C=N.length,R,k,U;xve(b.domain,O,_)&&(R=kb(b.domain,null,O),p&&(_==="number"||I!=="auto")&&(U=Yu(N,w,"category")));var F=CL(_);if(!R||R.length===0){var z,W=(z=b.domain)!==null&&z!==void 0?z:F;if(w){if(R=Yu(N,w,_),_==="category"&&p){var L=oX(R);A&&L?(k=R,R=zp(0,C)):A||(R=HI(W,R,g).reduce(function(X,te){return X.indexOf(te)>=0?X:[].concat(yl(X),[te])},[]))}else if(_==="category")A?R=R.filter(function(X){return X!==""&&!ve(X)}):R=HI(W,R,g).reduce(function(X,te){return X.indexOf(te)>=0||te===""||ve(te)?X:[].concat(yl(X),[te])},[]);else if(_==="number"){var B=wce(N,i.filter(function(X){var te,me,Pe=a in X.props?X.props[a]:(te=X.type.defaultProps)===null||te===void 0?void 0:te[a],Ke="hide"in X.props?X.props.hide:(me=X.type.defaultProps)===null||me===void 0?void 0:me.hide;return Pe===T&&(S||!Ke)}),w,o,c);B&&(R=B)}p&&(_==="number"||I!=="auto")&&(U=Yu(N,w,"category"))}else p?R=zp(0,C):s&&s[T]&&s[T].hasStack&&_==="number"?R=h==="expand"?[0,1]:T$(s[T].stackGroups,l,u):R=x$(N,i.filter(function(X){var te=a in X.props?X.props[a]:X.type.defaultProps[a],me="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return te===T&&(S||!me)}),_,c,!0);if(_==="number")R=c_(f,R,T,o,x),W&&(R=kb(W,R,O));else if(_==="category"&&W){var H=W,J=R.every(function(X){return H.indexOf(X)>=0});J&&(R=H)}}return q(q({},m),{},le({},T,q(q({},b),{},{axisType:o,domain:R,categoricalDomain:U,duplicateDomain:k,originalDomain:(v=b.domain)!==null&&v!==void 0?v:F,isCategorical:p,layout:c})))},{})},Yve=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=$g(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=E$(c,o),g=-1;return r.reduce(function(v,b){var _=b.type.defaultProps!==void 0?q(q({},b.type.defaultProps),b.props):b.props,w=_[a],O=CL("number");if(!v[w]){g++;var A;return m?A=zp(0,p):s&&s[w]&&s[w].hasStack?(A=T$(s[w].stackGroups,l,u),A=c_(f,A,w,o)):(A=kb(O,x$(h,r.filter(function(I){var x,S,T=a in I.props?I.props[a]:(x=I.type.defaultProps)===null||x===void 0?void 0:x[a],N="hide"in I.props?I.props.hide:(S=I.type.defaultProps)===null||S===void 0?void 0:S.hide;return T===w&&!N}),"number",c),i.defaultProps.allowDataOverflow),A=c_(f,A,w,o)),q(q({},v),{},le({},w,q(q({axisType:o},i.defaultProps),{},{hide:!0,orientation:Yn(qve,"".concat(o,".").concat(g%2),null),domain:A,originalDomain:O,isCategorical:m,layout:c})))}return v},{})},Qve=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Qn(c,o),p={};return h&&h.length?p=Xve(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=Yve(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Jve=function(e){var n=Xi(e),r=fi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:N1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:jp(n,r)}},Ek=function(e){var n=e.children,r=e.defaultShowTooltip,i=Pn(n,sl),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Zve=function(e){return!e||!e.length?!1:e.some(function(n){var r=mi(n&&n.type);return r&&r.indexOf("Bar")>=0})},Sk=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},e0e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},p=Pn(f,sl),m=Pn(f,Cs),g=Object.keys(l).reduce(function(A,I){var x=l[I],S=x.orientation;return!x.mirror&&!x.hide?q(q({},A),{},le({},S,A[S]+x.width)):A},{left:h.left||0,right:h.right||0}),v=Object.keys(a).reduce(function(A,I){var x=a[I],S=x.orientation;return!x.mirror&&!x.hide?q(q({},A),{},le({},S,Yn(A,"".concat(S))+x.height)):A},{top:h.top||0,bottom:h.bottom||0}),b=q(q({},v),g),_=b.bottom;p&&(b.bottom+=p.props.height||sl.defaultProps.height),m&&n&&(b=bce(b,i,r,n));var w=u-b.left-b.right,O=c-b.top-b.bottom;return q(q({brushBottom:_},b),{},{width:Math.max(w,0),height:Math.max(O,0)})},t0e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},n0e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(b,_){var w=_.graphicalItems,O=_.stackGroups,A=_.offset,I=_.updateId,x=_.dataStartIndex,S=_.dataEndIndex,T=b.barSize,N=b.layout,C=b.barGap,R=b.barCategoryGap,k=b.maxBarSize,U=Sk(N),F=U.numericAxisName,z=U.cateAxisName,W=Zve(w),L=[];return w.forEach(function(B,H){var J=$g(b.data,{graphicalItems:[B],dataStartIndex:x,dataEndIndex:S}),X=B.type.defaultProps!==void 0?q(q({},B.type.defaultProps),B.props):B.props,te=X.dataKey,me=X.maxBarSize,Pe=X["".concat(F,"Id")],Ke=X["".concat(z,"Id")],Tt={},Bt=l.reduce(function(ar,kr){var Ul=_["".concat(kr.axisType,"Map")],Ba=X["".concat(kr.axisType,"Id")];Ul&&Ul[Ba]||kr.axisType==="zAxis"||Ta(!1);var za=Ul[Ba];return q(q({},ar),{},le(le({},kr.axisType,za),"".concat(kr.axisType,"Ticks"),fi(za)))},Tt),ne=Bt[z],fe=Bt["".concat(z,"Ticks")],he=O&&O[Pe]&&O[Pe].hasStack&&Rce(B,O[Pe].stackGroups),Y=mi(B.type).indexOf("Bar")>=0,Le=jp(ne,fe),ye=[],Qe=W&&yce({barSize:T,stackGroups:O,totalSize:t0e(Bt,z)});if(Y){var nt,Nt,Or=ve(me)?k:me,Zr=(nt=(Nt=jp(ne,fe,!0))!==null&&Nt!==void 0?Nt:Or)!==null&&nt!==void 0?nt:0;ye=vce({barGap:C,barCategoryGap:R,bandSize:Zr!==Le?Zr:Le,sizeList:Qe[Ke],maxBarSize:Or}),Zr!==Le&&(ye=ye.map(function(ar){return q(q({},ar),{},{position:q(q({},ar.position),{},{offset:ar.position.offset-Zr/2})})}))}var Vo=B&&B.type&&B.type.getComposedData;Vo&&L.push({props:q(q({},Vo(q(q({},Bt),{},{displayedData:J,props:b,dataKey:te,item:B,bandSize:Le,barPosition:ye,offset:A,stackedData:he,layout:N,dataStartIndex:x,dataEndIndex:S}))),{},le(le(le({key:B.key||"item-".concat(H)},F,Bt[F]),z,Bt[z]),"animationId",I)),childIndex:vX(B,b.children),item:B})}),L},p=function(b,_){var w=b.props,O=b.dataStartIndex,A=b.dataEndIndex,I=b.updateId;if(!MA({props:w}))return null;var x=w.children,S=w.layout,T=w.stackOffset,N=w.data,C=w.reverseStackOrder,R=Sk(S),k=R.numericAxisName,U=R.cateAxisName,F=Qn(x,r),z=kce(N,F,"".concat(k,"Id"),"".concat(U,"Id"),T,C),W=l.reduce(function(X,te){var me="".concat(te.axisType,"Map");return q(q({},X),{},le({},me,Qve(w,q(q({},te),{},{graphicalItems:F,stackGroups:te.axisType===k&&z,dataStartIndex:O,dataEndIndex:A}))))},{}),L=e0e(q(q({},W),{},{props:w,graphicalItems:F}),_==null?void 0:_.legendBBox);Object.keys(W).forEach(function(X){W[X]=c(w,W[X],L,X.replace("Map",""),n)});var B=W["".concat(U,"Map")],H=Jve(B),J=h(w,q(q({},W),{},{dataStartIndex:O,dataEndIndex:A,updateId:I,graphicalItems:F,stackGroups:z,offset:L}));return q(q({formattedGraphicalItems:J,graphicalItems:F,offset:L,stackGroups:z},H),W)},m=function(v){function b(_){var w,O,A;return Mve(this,b),A=$ve(this,b,[_]),le(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),le(A,"accessibilityManager",new wve),le(A,"handleLegendBBoxUpdate",function(I){if(I){var x=A.state,S=x.dataStartIndex,T=x.dataEndIndex,N=x.updateId;A.setState(q({legendBBox:I},p({props:A.props,dataStartIndex:S,dataEndIndex:T,updateId:N},q(q({},A.state),{},{legendBBox:I}))))}}),le(A,"handleReceiveSyncEvent",function(I,x,S){if(A.props.syncId===I){if(S===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(x)}}),le(A,"handleBrushChange",function(I){var x=I.startIndex,S=I.endIndex;if(x!==A.state.dataStartIndex||S!==A.state.dataEndIndex){var T=A.state.updateId;A.setState(function(){return q({dataStartIndex:x,dataEndIndex:S},p({props:A.props,dataStartIndex:x,dataEndIndex:S,updateId:T},A.state))}),A.triggerSyncEvent({dataStartIndex:x,dataEndIndex:S})}}),le(A,"handleMouseEnter",function(I){var x=A.getMouseInfo(I);if(x){var S=q(q({},x),{},{isTooltipActive:!0});A.setState(S),A.triggerSyncEvent(S);var T=A.props.onMouseEnter;ge(T)&&T(S,I)}}),le(A,"triggeredAfterMouseMove",function(I){var x=A.getMouseInfo(I),S=x?q(q({},x),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(S),A.triggerSyncEvent(S);var T=A.props.onMouseMove;ge(T)&&T(S,I)}),le(A,"handleItemMouseEnter",function(I){A.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),le(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),le(A,"handleMouseMove",function(I){I.persist(),A.throttleTriggeredAfterMouseMove(I)}),le(A,"handleMouseLeave",function(I){A.throttleTriggeredAfterMouseMove.cancel();var x={isTooltipActive:!1};A.setState(x),A.triggerSyncEvent(x);var S=A.props.onMouseLeave;ge(S)&&S(x,I)}),le(A,"handleOuterEvent",function(I){var x=yX(I),S=Yn(A.props,"".concat(x));if(x&&ge(S)){var T,N;/.*touch.*/i.test(x)?N=A.getMouseInfo(I.changedTouches[0]):N=A.getMouseInfo(I),S((T=N)!==null&&T!==void 0?T:{},I)}}),le(A,"handleClick",function(I){var x=A.getMouseInfo(I);if(x){var S=q(q({},x),{},{isTooltipActive:!0});A.setState(S),A.triggerSyncEvent(S);var T=A.props.onClick;ge(T)&&T(S,I)}}),le(A,"handleMouseDown",function(I){var x=A.props.onMouseDown;if(ge(x)){var S=A.getMouseInfo(I);x(S,I)}}),le(A,"handleMouseUp",function(I){var x=A.props.onMouseUp;if(ge(x)){var S=A.getMouseInfo(I);x(S,I)}}),le(A,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),le(A,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&A.handleMouseDown(I.changedTouches[0])}),le(A,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&A.handleMouseUp(I.changedTouches[0])}),le(A,"handleDoubleClick",function(I){var x=A.props.onDoubleClick;if(ge(x)){var S=A.getMouseInfo(I);x(S,I)}}),le(A,"handleContextMenu",function(I){var x=A.props.onContextMenu;if(ge(x)){var S=A.getMouseInfo(I);x(S,I)}}),le(A,"triggerSyncEvent",function(I){A.props.syncId!==void 0&&yv.emit(vv,A.props.syncId,I,A.eventEmitterSymbol)}),le(A,"applySyncEvent",function(I){var x=A.props,S=x.layout,T=x.syncMethod,N=A.state.updateId,C=I.dataStartIndex,R=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)A.setState(q({dataStartIndex:C,dataEndIndex:R},p({props:A.props,dataStartIndex:C,dataEndIndex:R,updateId:N},A.state)));else if(I.activeTooltipIndex!==void 0){var k=I.chartX,U=I.chartY,F=I.activeTooltipIndex,z=A.state,W=z.offset,L=z.tooltipTicks;if(!W)return;if(typeof T=="function")F=T(L,I);else if(T==="value"){F=-1;for(var B=0;B<L.length;B++)if(L[B].value===I.activeLabel){F=B;break}}var H=q(q({},W),{},{x:W.left,y:W.top}),J=Math.min(k,H.x+H.width),X=Math.min(U,H.y+H.height),te=L[F]&&L[F].value,me=h_(A.state,A.props.data,F),Pe=L[F]?{x:S==="horizontal"?L[F].coordinate:J,y:S==="horizontal"?X:L[F].coordinate}:kL;A.setState(q(q({},I),{},{activeLabel:te,activeCoordinate:Pe,activePayload:me,activeTooltipIndex:F}))}else A.setState(I)}),le(A,"renderCursor",function(I){var x,S=A.state,T=S.isTooltipActive,N=S.activeCoordinate,C=S.activePayload,R=S.offset,k=S.activeTooltipIndex,U=S.tooltipAxisBandSize,F=A.getTooltipEventType(),z=(x=I.props.active)!==null&&x!==void 0?x:T,W=A.props.layout,L=I.key||"_recharts-cursor";return D.createElement(Ive,{key:L,activeCoordinate:N,activePayload:C,activeTooltipIndex:k,chartName:n,element:I,isActive:z,layout:W,offset:R,tooltipAxisBandSize:U,tooltipEventType:F})}),le(A,"renderPolarAxis",function(I,x,S){var T=Yn(I,"type.axisType"),N=Yn(A.state,"".concat(T,"Map")),C=I.type.defaultProps,R=C!==void 0?q(q({},C),I.props):I.props,k=N&&N[R["".concat(T,"Id")]];return M.cloneElement(I,q(q({},k),{},{className:Ae(T,k.className),key:I.key||"".concat(x,"-").concat(S),ticks:fi(k,!0)}))}),le(A,"renderPolarGrid",function(I){var x=I.props,S=x.radialLines,T=x.polarAngles,N=x.polarRadius,C=A.state,R=C.radiusAxisMap,k=C.angleAxisMap,U=Xi(R),F=Xi(k),z=F.cx,W=F.cy,L=F.innerRadius,B=F.outerRadius;return M.cloneElement(I,{polarAngles:Array.isArray(T)?T:fi(F,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(N)?N:fi(U,!0).map(function(H){return H.coordinate}),cx:z,cy:W,innerRadius:L,outerRadius:B,key:I.key||"polar-grid",radialLines:S})}),le(A,"renderLegend",function(){var I=A.state.formattedGraphicalItems,x=A.props,S=x.children,T=x.width,N=x.height,C=A.props.margin||{},R=T-(C.left||0)-(C.right||0),k=_$({children:S,formattedGraphicalItems:I,legendWidth:R,legendContent:u});if(!k)return null;var U=k.item,F=bk(k,Ove);return M.cloneElement(U,q(q({},F),{},{chartWidth:T,chartHeight:N,margin:C,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),le(A,"renderTooltip",function(){var I,x=A.props,S=x.children,T=x.accessibilityLayer,N=Pn(S,jr);if(!N)return null;var C=A.state,R=C.isTooltipActive,k=C.activeCoordinate,U=C.activePayload,F=C.activeLabel,z=C.offset,W=(I=N.props.active)!==null&&I!==void 0?I:R;return M.cloneElement(N,{viewBox:q(q({},z),{},{x:z.left,y:z.top}),active:W,label:F,payload:W?U:[],coordinate:k,accessibilityLayer:T})}),le(A,"renderBrush",function(I){var x=A.props,S=x.margin,T=x.data,N=A.state,C=N.offset,R=N.dataStartIndex,k=N.dataEndIndex,U=N.updateId;return M.cloneElement(I,{key:I.key||"_recharts-brush",onChange:jd(A.handleBrushChange,I.props.onChange),data:T,x:ee(I.props.x)?I.props.x:C.left,y:ee(I.props.y)?I.props.y:C.top+C.height+C.brushBottom-(S.bottom||0),width:ee(I.props.width)?I.props.width:C.width,startIndex:R,endIndex:k,updateId:"brush-".concat(U)})}),le(A,"renderReferenceElement",function(I,x,S){if(!I)return null;var T=A,N=T.clipPathId,C=A.state,R=C.xAxisMap,k=C.yAxisMap,U=C.offset,F=I.type.defaultProps||{},z=I.props,W=z.xAxisId,L=W===void 0?F.xAxisId:W,B=z.yAxisId,H=B===void 0?F.yAxisId:B;return M.cloneElement(I,{key:I.key||"".concat(x,"-").concat(S),xAxis:R[L],yAxis:k[H],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:N})}),le(A,"renderActivePoints",function(I){var x=I.item,S=I.activePoint,T=I.basePoint,N=I.childIndex,C=I.isRange,R=[],k=x.props.key,U=x.item.type.defaultProps!==void 0?q(q({},x.item.type.defaultProps),x.item.props):x.item.props,F=U.activeDot,z=U.dataKey,W=q(q({index:N,dataKey:z,cx:S.x,cy:S.y,r:4,fill:ix(x.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Ee(F,!1)),op(F));return R.push(b.renderActiveDot(F,W,"".concat(k,"-activePoint-").concat(N))),T?R.push(b.renderActiveDot(F,q(q({},W),{},{cx:T.x,cy:T.y}),"".concat(k,"-basePoint-").concat(N))):C&&R.push(null),R}),le(A,"renderGraphicChild",function(I,x,S){var T=A.filterFormatItem(I,x,S);if(!T)return null;var N=A.getTooltipEventType(),C=A.state,R=C.isTooltipActive,k=C.tooltipAxis,U=C.activeTooltipIndex,F=C.activeLabel,z=A.props.children,W=Pn(z,jr),L=T.props,B=L.points,H=L.isRange,J=L.baseLine,X=T.item.type.defaultProps!==void 0?q(q({},T.item.type.defaultProps),T.item.props):T.item.props,te=X.activeDot,me=X.hide,Pe=X.activeBar,Ke=X.activeShape,Tt=!!(!me&&R&&W&&(te||Pe||Ke)),Bt={};N!=="axis"&&W&&W.props.trigger==="click"?Bt={onClick:jd(A.handleItemMouseEnter,I.props.onClick)}:N!=="axis"&&(Bt={onMouseLeave:jd(A.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:jd(A.handleItemMouseEnter,I.props.onMouseEnter)});var ne=M.cloneElement(I,q(q({},T.props),Bt));function fe(kr){return typeof k.dataKey=="function"?k.dataKey(kr.payload):null}if(Tt)if(U>=0){var he,Y;if(k.dataKey&&!k.allowDuplicatedCategory){var Le=typeof k.dataKey=="function"?fe:"payload.".concat(k.dataKey.toString());he=ip(B,Le,F),Y=H&&J&&ip(J,Le,F)}else he=B==null?void 0:B[U],Y=H&&J&&J[U];if(Ke||Pe){var ye=I.props.activeIndex!==void 0?I.props.activeIndex:U;return[M.cloneElement(I,q(q(q({},T.props),Bt),{},{activeIndex:ye})),null,null]}if(!ve(he))return[ne].concat(yl(A.renderActivePoints({item:T,activePoint:he,basePoint:Y,childIndex:U,isRange:H})))}else{var Qe,nt=(Qe=A.getItemByXY(A.state.activeCoordinate))!==null&&Qe!==void 0?Qe:{graphicalItem:ne},Nt=nt.graphicalItem,Or=Nt.item,Zr=Or===void 0?I:Or,Vo=Nt.childIndex,ar=q(q(q({},T.props),Bt),{},{activeIndex:Vo});return[M.cloneElement(Zr,ar),null,null]}return H?[ne,null,null]:[ne,null]}),le(A,"renderCustomized",function(I,x,S){return M.cloneElement(I,q(q({key:"recharts-customized-".concat(S)},A.props),A.state))}),le(A,"renderMap",{CartesianGrid:{handler:Vd,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Vd},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Vd},YAxis:{handler:Vd},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:kf("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=bD(A.triggeredAfterMouseMove,(O=_.throttleDelay)!==null&&O!==void 0?O:1e3/60),A.state={},A}return Fve(b,v),Dve(b,[{key:"componentDidMount",value:function(){var w,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,O=w.children,A=w.data,I=w.height,x=w.layout,S=Pn(O,jr);if(S){var T=S.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,C=h_(this.state,A,T,N),R=this.state.tooltipTicks[T].coordinate,k=(this.state.offset.top+I)/2,U=x==="horizontal",F=U?{x:R,y:k}:{y:R,x:k},z=this.state.formattedGraphicalItems.find(function(L){var B=L.item;return B.type.name==="Scatter"});z&&(F=q(q({},F),z.props.points[T].tooltipPosition),C=z.props.points[T].tooltipPayload);var W={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:N,activePayload:C,activeCoordinate:F};this.setState(W),this.renderCursor(S),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var A,I;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(w){q0([Pn(w.children,jr)],[Pn(this.props.children,jr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Pn(this.props.children,jr);if(w&&typeof w.props.shared=="boolean"){var O=w.props.shared?"axis":"item";return s.indexOf(O)>=0?O:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var O=this.container,A=O.getBoundingClientRect(),I=Boe(A),x={chartX:Math.round(w.pageX-I.left),chartY:Math.round(w.pageY-I.top)},S=A.width/O.offsetWidth||1,T=this.inRange(x.chartX,x.chartY,S);if(!T)return null;var N=this.state,C=N.xAxisMap,R=N.yAxisMap,k=this.getTooltipEventType(),U=xk(this.state,this.props.data,this.props.layout,T);if(k!=="axis"&&C&&R){var F=Xi(C).scale,z=Xi(R).scale,W=F&&F.invert?F.invert(x.chartX):null,L=z&&z.invert?z.invert(x.chartY):null;return q(q({},x),{},{xValue:W,yValue:L},U)}return U?q(q({},x),U):null}},{key:"inRange",value:function(w,O){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,x=w/A,S=O/A;if(I==="horizontal"||I==="vertical"){var T=this.state.offset,N=x>=T.left&&x<=T.left+T.width&&S>=T.top&&S<=T.top+T.height;return N?{x,y:S}:null}var C=this.state,R=C.angleAxisMap,k=C.radiusAxisMap;if(R&&k){var U=Xi(R);return XI({x,y:S},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,O=this.getTooltipEventType(),A=Pn(w,jr),I={};A&&O==="axis"&&(A.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var x=op(this.props,this.handleOuterEvent);return q(q({},x),I)}},{key:"addListener",value:function(){yv.on(vv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){yv.removeListener(vv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,O,A){for(var I=this.state.formattedGraphicalItems,x=0,S=I.length;x<S;x++){var T=I[x];if(T.item===w||T.props.key===w.key||O===mi(T.item.type)&&A===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,O=this.state.offset,A=O.left,I=O.top,x=O.height,S=O.width;return D.createElement("defs",null,D.createElement("clipPath",{id:w},D.createElement("rect",{x:A,y:I,height:x,width:S})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(O,A){var I=vk(A,2),x=I[0],S=I[1];return q(q({},O),{},le({},x,S.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(O,A){var I=vk(A,2),x=I[0],S=I[1];return q(q({},O),{},le({},x,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(w){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(w){var O=this.state,A=O.formattedGraphicalItems,I=O.activeItem;if(A&&A.length)for(var x=0,S=A.length;x<S;x++){var T=A[x],N=T.props,C=T.item,R=C.type.defaultProps!==void 0?q(q({},C.type.defaultProps),C.props):C.props,k=mi(C.type);if(k==="Bar"){var U=(N.data||[]).find(function(L){return Ehe(w,L)});if(U)return{graphicalItem:T,payload:U}}else if(k==="RadialBar"){var F=(N.data||[]).find(function(L){return XI(w,L)});if(F)return{graphicalItem:T,payload:F}}else if(Ig(T,I)||Og(T,I)||ef(T,I)){var z=Ape({graphicalItem:T,activeTooltipItem:I,itemData:R.data}),W=R.activeIndex===void 0?z:R.activeIndex;return{graphicalItem:q(q({},T),{},{childIndex:W}),payload:ef(T,I)?R.data[z]:T.props.data[z]}}}return null}},{key:"render",value:function(){var w=this;if(!MA(this))return null;var O=this.props,A=O.children,I=O.className,x=O.width,S=O.height,T=O.style,N=O.compact,C=O.title,R=O.desc,k=bk(O,kve),U=Ee(k,!1);if(N)return D.createElement(KO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(G0,vs({},U,{width:x,height:S,title:C,desc:R}),this.renderClipPath(),$A(A,this.renderMap)));if(this.props.accessibilityLayer){var F,z;U.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,U.role=(z=this.props.role)!==null&&z!==void 0?z:"application",U.onKeyDown=function(L){w.accessibilityManager.keyboardEvent(L)},U.onFocus=function(){w.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return D.createElement(KO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",vs({className:Ae("recharts-wrapper",I),style:q({position:"relative",cursor:"default",width:x,height:S},T)},W,{ref:function(B){w.container=B}}),D.createElement(G0,vs({},U,{width:x,height:S,title:C,desc:R,style:Hve}),this.renderClipPath(),$A(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);le(m,"displayName",n),le(m,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),le(m,"getDerivedStateFromProps",function(v,b){var _=v.dataKey,w=v.data,O=v.children,A=v.width,I=v.height,x=v.layout,S=v.stackOffset,T=v.margin,N=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var R=Ek(v);return q(q(q({},R),{},{updateId:0},p(q(q({props:v},R),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:w,prevWidth:A,prevHeight:I,prevLayout:x,prevStackOffset:S,prevMargin:T,prevChildren:O})}if(_!==b.prevDataKey||w!==b.prevData||A!==b.prevWidth||I!==b.prevHeight||x!==b.prevLayout||S!==b.prevStackOffset||!ks(T,b.prevMargin)){var k=Ek(v),U={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},F=q(q({},xk(b,w,x)),{},{updateId:b.updateId+1}),z=q(q(q({},k),U),F);return q(q(q({},z),p(q({props:v},z),b)),{},{prevDataKey:_,prevData:w,prevWidth:A,prevHeight:I,prevLayout:x,prevStackOffset:S,prevMargin:T,prevChildren:O})}if(!q0(O,b.prevChildren)){var W,L,B,H,J=Pn(O,sl),X=J&&(W=(L=J.props)===null||L===void 0?void 0:L.startIndex)!==null&&W!==void 0?W:N,te=J&&(B=(H=J.props)===null||H===void 0?void 0:H.endIndex)!==null&&B!==void 0?B:C,me=X!==N||te!==C,Pe=!ve(w),Ke=Pe&&!me?b.updateId:b.updateId+1;return q(q({updateId:Ke},p(q(q({props:v},b),{},{updateId:Ke,dataStartIndex:X,dataEndIndex:te}),b)),{},{prevChildren:O,dataStartIndex:X,dataEndIndex:te})}return null}),le(m,"renderActiveDot",function(v,b,_){var w;return M.isValidElement(v)?w=M.cloneElement(v,b):ge(v)?w=v(b):w=D.createElement(ax,b),D.createElement(ut,{className:"recharts-active-dot",key:_},w)});var g=M.forwardRef(function(b,_){return D.createElement(m,vs({},b,{ref:_}))});return g.displayName=m.displayName,g},r0e=n0e({chartName:"LineChart",GraphicalChild:Lf,axisComponents:[{axisType:"xAxis",AxisComp:Mg},{axisType:"yAxis",AxisComp:Dg}],formatAxisMap:Qme});function i0e(){const{id:t}=a6(),e=mf(),[n,r]=M.useState(null),[i,o]=M.useState(!0),[a,s]=M.useState(""),[l,u]=M.useState(!1),[c,f]=M.useState(!1),[h,p]=M.useState(!1),[m,g]=M.useState(!1),[v,b]=M.useState(1),[_,w]=M.useState(""),[O,A]=M.useState("weekly");M.useEffect(()=>{(async()=>{const k=await iq(t);if(k.success){const U={...k.student,name:`${k.student.firstName} ${k.student.lastName}`,phone:k.student.phone||"",fatherPhone:k.student.fatherPhone||"",absences:0,stars:k.student.stars||0,rating:k.student.weeklyRating||0,notes:k.student.notes||[],weeklyData:k.student.weeklyData||[],monthlyData:k.student.monthlyData||[],yearlyData:k.student.yearlyData||[],deductions:k.student.deductions||[]};r(U)}else s(k.error);o(!1)})()},[t]);const I=async()=>{if(!n)return;const R=await aq(n.id,!n.isFrozen);R.success?(r(k=>({...k,isFrozen:!k.isFrozen})),alert(n.isFrozen?"   ":"  ")):alert(" : "+R.error)},x=async()=>{if(!n)return;const R=await oq(n.id);R.success?(alert("   "),e("/students")):alert("    : "+R.error),p(!1)},S=async()=>{if(!n||!_.trim()){alert("   ");return}const R=await lq(n.id,v,_);R.success?(r(k=>({...k,weeklyPoints:R.weeklyPoints,dailyPoints:R.dailyPoints,deductions:[...k.deductions||[],{points:-v,reason:_,date:new Date,timestamp:new Date}]})),alert(`  ${v}  `),g(!1),b(1),w("")):alert("    : "+R.error)},T=async R=>{if(!n)return;const k=await cq(n.id,R);k.success?(r(U=>({...U,notes:k.notes})),alert("   ")):alert("    : "+k.error)},N=()=>{if(!n)return[];const R=(z,W)=>(n.attendanceHistory||[]).some(L=>L.date===z&&ku(L.period)===W),k=z=>(n.presentationHistory||[]).some(W=>W.date===z),U=z=>z.toISOString().split("T")[0],F=new Date;switch(O){case"weekly":{const z=F.getDay(),W=new Date(F),L=(z+1)%7;W.setDate(F.getDate()-L);const B=[];for(let X=0;X<6;X++){const te=new Date(W);te.setDate(W.getDate()+X),B.push(te)}let H=0;return B.map((X,te)=>{const me=U(X),Pe=(R(me,"morning")?1:0)+(R(me,"evening")?1:0)+(k(me)?1:0);return H+=Pe,{day:["","","","","",""][te],points:H}})}case"monthly":{const z=F.getMonth(),W=F.getFullYear();new Date(W,z+1,0).getDate();const L=[0,0,0,0];(n.attendanceHistory||[]).forEach(H=>{const J=new Date(H.date);if(J.getMonth()===z&&J.getFullYear()===W){const X=J.getDate(),te=Math.min(3,Math.floor((X-1)/7));L[te]+=1}}),(n.presentationHistory||[]).forEach(H=>{const J=new Date(H.date);if(J.getMonth()===z&&J.getFullYear()===W){const X=J.getDate(),te=Math.min(3,Math.floor((X-1)/7));L[te]+=1}});const B=H=>Math.round(Math.min(15,H)*(10/15)*10)/10;return[1,2,3,4].map((H,J)=>({week:` ${H}`,points:B(L[J])}))}case"yearly":{const z=["","","","","","","","","","","",""],W=new Array(12).fill(0);(n.attendanceHistory||[]).forEach(B=>{const H=new Date(B.date);W[H.getMonth()]+=1}),(n.presentationHistory||[]).forEach(B=>{const H=new Date(B.date);W[H.getMonth()]+=1});const L=B=>{const H=Math.min(60,B)/60*10;return Math.round(H*10)/10};return z.map((B,H)=>({month:B,points:L(W[H])}))}default:return[]}},C=R=>rM(R,{includeTime:!0});return i?E.jsx("div",{className:"max-w-6xl mx-auto p-6",children:E.jsxs("div",{className:"text-center py-12",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),E.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"   ..."})]})}):a?E.jsx("div",{className:"max-w-6xl mx-auto p-6",children:E.jsx("div",{className:"bg-red-100 dark:bg-red-900/40 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-200 px-4 py-3 rounded-lg",children:a})}):n?E.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[E.jsx("div",{className:"lg:col-span-1",children:E.jsxs("div",{className:"rounded-xl shadow-lg p-6 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:[E.jsxs("div",{className:"text-center mb-6",children:[E.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-green-400 to-green-600 rounded-full mx-auto mb-4 flex items-center justify-center text-white font-bold text-2xl",children:n.name.split(" ")[0][0]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:n.name}),n.isFrozen&&E.jsx("div",{className:"mt-2 bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-200 px-3 py-1 rounded-full text-sm font-semibold",children:""})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:":"}),E.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:n.hizb||" "})]}),E.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:":"}),E.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:n.quarter||" "})]}),E.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:" :"}),E.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:n.weeklyPoints||0})]}),E.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:" :"}),E.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[n.weeklyRating||0,"/10"]})]}),E.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"   :"}),E.jsxs("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:[n.weeklyRating||0,"/10"]})]}),E.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:":"}),E.jsxs("div",{className:"flex items-center",children:[E.jsx("span",{className:"font-semibold text-yellow-600 dark:text-yellow-400 ml-2",children:n.stars||0}),E.jsx(_m,{size:16,className:"text-yellow-500 dark:text-yellow-400"})]})]}),E.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:":"}),E.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:n.absences||0})]}),E.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"  :"}),l?E.jsx("input",{type:"tel",value:n.phone||"",onChange:R=>r(k=>({...k,phone:R.target.value})),onBlur:()=>u(!1),autoFocus:!0,placeholder:" ",className:"w-48 px-2 py-1 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"}):E.jsx("button",{onClick:()=>u(!0),className:"text-right font-semibold text-gray-800 dark:text-gray-100 hover:text-green-600 dark:hover:text-green-300",title:" ",children:n.phone||"  "})]}),E.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"  :"}),c?E.jsx("input",{type:"tel",value:n.fatherPhone||"",onChange:R=>r(k=>({...k,fatherPhone:R.target.value})),onBlur:()=>f(!1),autoFocus:!0,placeholder:"  ",className:"w-48 px-2 py-1 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"}):E.jsx("button",{onClick:()=>f(!0),className:"text-right font-semibold text-gray-800 dark:text-gray-100 hover:text-green-600 dark:hover:text-green-300",title:" ",children:n.fatherPhone||"   "})]}),E.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:" :"}),E.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:C(n.createdAt||n.created_at)})]}),E.jsxs("button",{onClick:async()=>{(await Zj(t,{hizb:n.hizb,quarter:n.quarter,phone:n.phone||"",fatherPhone:n.fatherPhone||""})).success?alert("   "):alert("    ")},className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:[E.jsx(fw,{size:16,className:"ml-2"})," "]})]})]})}),E.jsxs("div",{className:"lg:col-span-2",children:[E.jsxs("div",{className:"rounded-xl shadow-lg p-6 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center",children:[E.jsx(cw,{size:24,className:"ml-2"})," "]}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("button",{onClick:()=>A("weekly"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${O==="weekly"?"bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-200":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:""}),E.jsx("button",{onClick:()=>A("monthly"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${O==="monthly"?"bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-200":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:""}),E.jsx("button",{onClick:()=>A("yearly"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${O==="yearly"?"bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-200":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:""})]})]}),E.jsx("div",{className:"h-80",children:E.jsx(Moe,{width:"100%",height:"100%",children:E.jsxs(r0e,{data:N(),children:[E.jsx(mL,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),E.jsx(Mg,{dataKey:O==="weekly"?"day":O==="monthly"?"week":"month",stroke:"#9ca3af"}),E.jsx(Dg,{domain:O==="weekly"?[0,15]:[0,10],stroke:"#9ca3af"}),E.jsx(jr,{contentStyle:{background:"#111827",color:"#e5e7eb",border:"1px solid #374151"}}),E.jsx(Lf,{type:"monotone",dataKey:"points",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:4},name:O==="weekly"?"  ":" (0-10)"})]})})})]}),E.jsxs("div",{className:"rounded-xl shadow-lg p-6 mt-6 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:""}),E.jsx("div",{className:"space-y-3",children:n.notes.length===0?E.jsx("p",{className:"text-gray-500 dark:text-gray-300 text-center py-4",children:"  "}):n.notes.map((R,k)=>E.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 dark:from-gray-800 dark:to-gray-800 p-4 rounded-lg border-l-4 border-green-500 dark:border-green-700 relative",children:[E.jsx("button",{onClick:()=>T(R.id),className:"absolute top-2 left-2 text-red-500 hover:text-red-700 dark:text-red-300 dark:hover:text-red-200 transition-colors",children:E.jsx(dw,{size:16})}),E.jsx("p",{className:"text-gray-700 dark:text-gray-100 pr-8",children:typeof R=="string"?R:R.text}),E.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 block",children:[" : ",C(typeof R=="string"?new Date:R.date)]})]},R.id||k))})]}),E.jsxs("div",{className:"rounded-xl shadow-lg p-6 mt-6 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:" "}),E.jsxs("button",{onClick:()=>g(!0),className:"flex items-center justify-center px-4 py-3 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition-colors",children:[E.jsx(L6,{size:20,className:"ml-2"}),"   "]}),n.deductions&&n.deductions.length>0&&E.jsxs("div",{className:"mt-4",children:[E.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-2",children:" :"}),E.jsx("div",{className:"space-y-2",children:n.deductions.map((R,k)=>E.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg border-l-4 border-red-500 dark:border-red-700",children:[E.jsxs("p",{className:"text-red-700 dark:text-red-300 font-semibold",children:["-",Math.abs(R.points)," "]}),E.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:R.reason}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:C(R.date)})]},k))})]})]}),E.jsxs("div",{className:"rounded-xl shadow-lg p-6 mt-6 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:" "}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsx("button",{onClick:I,className:`flex items-center justify-center px-4 py-3 rounded-lg font-semibold transition-colors ${n.isFrozen?"bg-green-500 text-white hover:bg-green-600":"bg-yellow-500 text-white hover:bg-yellow-600"}`,children:n.isFrozen?E.jsxs(E.Fragment,{children:[E.jsx(z6,{size:20,className:"ml-2"})," "]}):E.jsxs(E.Fragment,{children:[E.jsx(U6,{size:20,className:"ml-2"})," "]})}),E.jsxs("button",{onClick:()=>p(!0),className:"flex items-center justify-center px-4 py-3 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition-colors",children:[E.jsx(B6,{size:20,className:"ml-2"})," "]})]}),n.isFrozen&&E.jsx("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:E.jsxs("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm",children:[E.jsx("strong",{children:":"}),"               ."]})})]})]})]}),h&&E.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/60 backdrop-blur-[1px] flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full mx-4 border border-gray-200 dark:border-gray-800",children:[E.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-300 mb-4",children:"  "}),E.jsxs("p",{className:"text-gray-700 dark:text-gray-200 mb-6",children:["      ",E.jsx("strong",{children:n==null?void 0:n.name}),"      ."]}),E.jsxs("div",{className:"flex space-x-reverse space-x-3",children:[E.jsx("button",{onClick:x,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:" "}),E.jsx("button",{onClick:()=>p(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:""})]})]})}),m&&E.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/60 backdrop-blur-[1px] flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full mx-4 border border-gray-200 dark:border-gray-800",children:[E.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-300 mb-4",children:"  "}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"   :"}),E.jsx("input",{type:"number",min:"1",max:"10",value:v,onChange:R=>b(parseInt(R.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" :"}),E.jsx("textarea",{value:_,onChange:R=>w(R.target.value),placeholder:"   ...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 h-20 resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]})]}),E.jsxs("div",{className:"flex space-x-reverse space-x-3 mt-6",children:[E.jsx("button",{onClick:S,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:" "}),E.jsx("button",{onClick:()=>{g(!1),b(1),w("")},className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:""})]})]})})]}):E.jsx("div",{className:"max-w-6xl mx-auto p-6",children:E.jsx("div",{className:"text-center py-12",children:E.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"  "})})})}function o0e(){const{appName:t,user:e,setUser:n,schoolData:r,updateSchoolData:i}=Il(),[o,a]=M.useState(!1),[s,l]=M.useState({schoolName:(r==null?void 0:r.schoolName)||" ",teacherName:(r==null?void 0:r.teacherName)||(e==null?void 0:e.displayName)||"",phone:(r==null?void 0:r.phone)||"",email:(r==null?void 0:r.email)||(e==null?void 0:e.email)||"",address:(r==null?void 0:r.address)||"",teacherSubtitle:(r==null?void 0:r.teacherSubtitle)||"   ",sectionsCount:(r==null?void 0:r.sectionsCount)||0,studentCount:(r==null?void 0:r.studentCount)||0,memorizers:(r==null?void 0:r.memorizers)||0}),[u,c]=M.useState(0);M.useEffect(()=>{e&&(async()=>{const v=await Ks();if(v.success){const b=v.students.length;c(b),b!==((r==null?void 0:r.studentCount)||0)&&(await i({studentCount:b}),l(_=>({..._,studentCount:b})))}})()},[e,r]),M.useEffect(()=>{r&&l({schoolName:r.schoolName||" ",teacherName:r.teacherName||(e==null?void 0:e.displayName)||"",phone:r.phone||"",email:r.email||(e==null?void 0:e.email)||"",address:r.address||"",teacherSubtitle:r.teacherSubtitle||"   ",sectionsCount:r.sectionsCount||0,studentCount:r.studentCount||0,memorizers:r.memorizers||0})},[r,e]);const f=async()=>{(await pq()).success&&n(null)},h=async()=>{const g=await i(s);g.success?(a(!1),alert("   ")):alert("    : "+g.error)},p=()=>{l({schoolName:(r==null?void 0:r.schoolName)||" ",teacherName:(r==null?void 0:r.teacherName)||(e==null?void 0:e.displayName)||"",phone:(r==null?void 0:r.phone)||"",email:(r==null?void 0:r.email)||(e==null?void 0:e.email)||"",address:(r==null?void 0:r.address)||"",teacherSubtitle:(r==null?void 0:r.teacherSubtitle)||"   ",studentCount:(r==null?void 0:r.studentCount)||0,memorizers:(r==null?void 0:r.memorizers)||0}),a(!1)},m=(g,v)=>{l(b=>({...b,[g]:v}))};return E.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:E.jsxs("div",{className:"max-w-4xl mx-auto p-5 relative z-10",children:[E.jsxs("header",{className:"text-center mb-12 pt-10 relative",children:[E.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-40 h-1 bg-gradient-to-r from-blue-600 via-green-500 to-orange-400 rounded-full"}),E.jsx("h1",{className:"text-6xl font-bold text-blue-600 dark:text-blue-300 my-5 relative inline-block",style:{fontFamily:"serif",textShadow:"3px 3px 6px rgba(0,0,0,0.1)"},children:o?E.jsx("input",{type:"text",value:s.schoolName,onChange:g=>m("schoolName",g.target.value),className:"bg-transparent border-b-2 border-blue-600 text-center text-6xl font-bold text-blue-600 dark:text-blue-300 focus:outline-none",style:{fontFamily:"serif",textShadow:"3px 3px 6px rgba(0,0,0,0.1)"}}):(r==null?void 0:r.schoolName)||" "}),E.jsx("p",{className:"text-green-700 dark:text-green-300 text-xl mt-4",style:{fontFamily:"serif"},children:"      "})]}),E.jsxs("main",{className:"bg-white dark:bg-gray-900 rounded-3xl p-8 mb-10 shadow-2xl border border-gray-200 dark:border-gray-800 relative",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10",children:[E.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-800 dark:to-gray-800 p-8 rounded-2xl border-r-6 border-blue-600",children:[E.jsx("span",{className:"text-4xl block mb-4",children:""}),E.jsx("div",{className:"text-blue-600 dark:text-blue-300 font-semibold text-lg mb-3",children:" "}),E.jsxs("div",{className:"text-gray-700 dark:text-gray-200 leading-relaxed",children:[o?E.jsx("input",{type:"text",value:s.schoolName,onChange:g=>m("schoolName",g.target.value),className:"w-full bg-transparent border-b border-blue-300 text-gray-700 dark:text-gray-200 focus:outline-none focus:border-blue-600"}):(r==null?void 0:r.schoolName)||" ",E.jsx("br",{}),o?E.jsx("input",{type:"text",value:s.address,onChange:g=>m("address",g.target.value),placeholder:" ",className:"w-full bg-transparent border-b border-blue-300 text-gray-700 dark:text-gray-200 focus:outline-none focus:border-blue-600 mt-2"}):(r==null?void 0:r.address)||"   "]})]}),E.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-800 dark:to-gray-800 p-8 rounded-2xl border-r-6 border-blue-600",children:[E.jsx("span",{className:"text-4xl block mb-4",children:""}),E.jsx("div",{className:"text-blue-600 dark:text-blue-300 font-semibold text-lg mb-3",children:" "}),E.jsxs("div",{className:"text-gray-700 dark:text-gray-200 leading-relaxed",children:[o?E.jsx("input",{type:"text",value:s.teacherName,onChange:g=>m("teacherName",g.target.value),className:"w-full bg-transparent border-b border-blue-300 text-gray-700 dark:text-gray-200 focus:outline-none focus:border-blue-600"}):(r==null?void 0:r.teacherName)||(e==null?void 0:e.displayName)||"",E.jsx("br",{}),o?E.jsx("input",{type:"text",value:s.teacherSubtitle,onChange:g=>m("teacherSubtitle",g.target.value),className:"w-full bg-transparent border-b border-blue-300 text-gray-700 dark:text-gray-200 focus:outline-none focus:border-blue-600 mt-2"}):(r==null?void 0:r.teacherSubtitle)||"   "]})]}),E.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-800 dark:to-gray-800 p-8 rounded-2xl border-r-6 border-blue-600",children:[E.jsx("span",{className:"text-4xl block mb-4",children:""}),E.jsx("div",{className:"text-blue-600 dark:text-blue-300 font-semibold text-lg mb-3",children:" "}),E.jsxs("div",{className:"text-gray-700 dark:text-gray-200 leading-relaxed",children:[" : ",o?E.jsx("input",{type:"tel",value:s.phone,onChange:g=>m("phone",g.target.value),placeholder:" ",className:"w-full bg-transparent border-b border-blue-300 text-gray-700 dark:text-gray-200 focus:outline-none focus:border-blue-600"}):(r==null?void 0:r.phone)||"   ",E.jsx("br",{})," : ",o?E.jsx("input",{type:"email",value:s.email,onChange:g=>m("email",g.target.value),className:"w-full bg-transparent border-b border-blue-300 text-gray-700 dark:text-gray-200 focus:outline-none focus:border-blue-600"}):(r==null?void 0:r.email)||(e==null?void 0:e.email)||"   "]})]}),E.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-800 dark:to-gray-800 p-8 rounded-2xl border-r-6 border-blue-600",children:[E.jsx("span",{className:"text-4xl block mb-4",children:""}),E.jsx("div",{className:"text-blue-600 dark:text-blue-300 font-semibold text-lg mb-3",children:" "}),E.jsxs("div",{className:"text-gray-700 dark:text-gray-200 leading-relaxed",children:[" ",o?E.jsx("input",{type:"number",value:s.studentCount,onChange:g=>m("studentCount",parseInt(g.target.value)||0),className:"w-20 bg-transparent border-b border-blue-300 text-gray-700 dark:text-gray-200 focus:outline-none focus:border-blue-600 text-center"}):u," ",E.jsx("br",{})," ",o?E.jsx("input",{type:"number",value:s.sectionsCount,onChange:g=>m("sectionsCount",parseInt(g.target.value)||0),className:"w-20 bg-transparent border-b border-blue-300 text-gray-700 dark:text-gray-200 focus:outline-none focus:border-blue-600 text-center"}):(r==null?void 0:r.sectionsCount)||0,"  ",E.jsx("br",{})," ",o?E.jsx("input",{type:"number",value:s.memorizers,onChange:g=>m("memorizers",parseInt(g.target.value)||0),className:"w-20 bg-transparent border-b border-blue-300 text-gray-700 dark:text-gray-200 focus:outline-none focus:border-blue-600 text-center"}):(r==null?void 0:r.memorizers)||0,"  "]})]})]}),E.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-4 mt-4",children:[o?E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:h,className:"bg-green-600 text-white py-3 px-6 rounded-xl hover:bg-green-700 transition-colors flex items-center justify-center font-semibold",children:[E.jsx(F6,{size:18,className:"ml-2"})," "]}),E.jsxs("button",{onClick:p,className:"bg-gray-500 text-white py-3 px-6 rounded-xl hover:bg-gray-600 transition-colors flex items-center justify-center font-semibold",children:[E.jsx(dw,{size:18,className:"ml-2"})," "]})]}):E.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white py-3 px-6 rounded-xl hover:bg-blue-700 transition-colors flex items-center justify-center font-semibold",children:[E.jsx(fw,{size:18,className:"ml-2"}),"  "]}),E.jsxs("button",{onClick:f,className:"bg-red-600 text-white py-3 px-6 rounded-xl hover:bg-red-700 transition-colors flex items-center justify-center font-semibold",children:[E.jsx(M6,{size:18,className:"ml-2"})," "]})]})]})]})})}function a0e(){const[t,e]=M.useState({email:"",password:""}),[n,r]=M.useState(!1),[i,o]=M.useState(""),{setUser:a}=Il(),s=async u=>{u.preventDefault(),r(!0),o("");const c=await hq(t.email,t.password);c.success?a(c.user):o(c.error),r(!1)},l=u=>{e({...t,[u.target.name]:u.target.value})};return E.jsx("div",{className:"min-h-screen flex items-center justify-center",children:E.jsx("div",{className:"max-w-md w-full mx-4",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("img",{src:"https://imagedelivery.net/FIZL8110j4px64kO6qJxWA/bfd73f8a-6405-40cb-fc49-234bf7906a00/public",alt:" ",className:"w-24 h-24 rounded-full mx-auto mb-4 object-cover"}),E.jsx("h1",{className:"text-2xl font-bold text-green-800",children:"   "}),E.jsx("p",{className:"text-gray-600 mt-2",children:" "})]}),E.jsxs("form",{onSubmit:s,className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),E.jsx("input",{type:"text",name:"email",value:t.email,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),E.jsx("input",{type:"password",name:"password",value:t.password,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),i&&E.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:i}),E.jsx("button",{type:"submit",disabled:n,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:n?"  ...":" "})]}),E.jsx("div",{className:"text-center mt-6",children:E.jsx(Cn,{to:"/register",className:"text-green-600 hover:text-green-700 font-medium",children:"  "})})]})})})}function s0e(){const{setUser:t}=Il(),[e,n]=M.useState({teacherName:"",phone:"",schoolName:"",email:"",password:""}),[r,i]=M.useState(!1),[o,a]=M.useState(""),s=async u=>{u.preventDefault(),i(!0),a("");const c=await dq(e.email,e.password,e.teacherName);c.success?t(c.user):a(c.error),i(!1)},l=u=>{n({...e,[u.target.name]:u.target.value})};return E.jsx("div",{className:"min-h-screen flex items-center justify-center py-12",children:E.jsx("div",{className:"max-w-md w-full mx-4",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("img",{src:"https://imagedelivery.net/FIZL8110j4px64kO6qJxWA/bfd73f8a-6405-40cb-fc49-234bf7906a00/public",alt:" ",className:"w-24 h-24 rounded-full mx-auto mb-4 object-cover"}),E.jsx("h1",{className:"text-2xl font-bold text-green-800",children:"  "}),E.jsx("p",{className:"text-gray-600 mt-2",children:"     "})]}),E.jsxs("form",{onSubmit:s,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),E.jsx("input",{type:"text",name:"teacherName",value:e.teacherName,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),E.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),E.jsx("input",{type:"text",name:"schoolName",value:e.schoolName,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"email",name:"email",value:e.email,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),E.jsx("input",{type:"password",name:"password",value:e.password,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),o&&E.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:o}),E.jsx("button",{type:"submit",disabled:r,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:r?"  ...":" "})]}),E.jsx("div",{className:"text-center mt-6",children:E.jsx(Cn,{to:"/",className:"text-green-600 hover:text-green-700 font-medium",children:"  "})})]})})})}function l0e(){const{user:t,loading:e}=Il();return e?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-950",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),E.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:" ..."})]})}):t?E.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[E.jsx(yq,{}),E.jsx("div",{className:"pt-16 text-gray-900 dark:text-gray-100",children:E.jsxs(AS,{children:[E.jsx(cr,{path:"/",element:E.jsx(_q,{})}),E.jsx(cr,{path:"/students",element:E.jsx(xq,{})}),E.jsx(cr,{path:"/add-student",element:E.jsx(Eq,{})}),E.jsx(cr,{path:"/evaluation",element:E.jsx(Sq,{})}),E.jsx(cr,{path:"/student/:id",element:E.jsx(i0e,{})}),E.jsx(cr,{path:"/my-school",element:E.jsx(o0e,{})})]})})]}):E.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:E.jsxs(AS,{children:[E.jsx(cr,{path:"/",element:E.jsx(_A,{})}),E.jsx(cr,{path:"/login",element:E.jsx(a0e,{})}),E.jsx(cr,{path:"/register",element:E.jsx(s0e,{})}),E.jsx(cr,{path:"*",element:E.jsx(_A,{})})]})})}function u0e(){return E.jsx(gq,{children:E.jsx(l0e,{})})}$N(document.getElementById("root")).render(E.jsx(M.StrictMode,{children:E.jsx(I6,{children:E.jsx(u0e,{})})}));
